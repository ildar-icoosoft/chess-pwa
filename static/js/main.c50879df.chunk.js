(this["webpackJsonpchess-pwa"]=this["webpackJsonpchess-pwa"]||[]).push([[0],{100:function(e,t,n){"use strict";n.d(t,"b",(function(){return s})),n.d(t,"c",(function(){return u})),n.d(t,"a",(function(){return m}));var a=n(10),r=n(9),o=n(13),c=n(11),i=Object(a.b)({name:"move",initialState:{},reducers:{makeMoveRequest:function(e,t){},makeMoveSuccess:function(e,t){},makeMoveError:function(e,t){}},extraReducers:{}}),l=i.actions,s=l.makeMoveRequest,u=l.makeMoveSuccess,d=l.makeMoveError,m=(i.reducer,function(e,t){return function(n){return n(s({gameId:e,move:t})),new Promise((function(a,i){o.a.socket.post("/api/v1/board/game/".concat(e,"/move/").concat(t),{},(function(e,t){if(200===t.statusCode){var o=Object(r.b)(e,c.a);n(u(o)),a(e)}else n(d(e)),i(t)}))}))}})},103:function(e,t,n){e.exports={gamePreview:"GamePreviewsListItem_gamePreview__wYvMw",player:"GamePreviewsListItem_player__1GbNi",board:"GamePreviewsListItem_board__2y4Yc"}},104:function(e,t,n){e.exports={gameIsStarted:"SeeksListItem_gameIsStarted__3-Jpp",colorIcon:"SeeksListItem_colorIcon__12bXP"}},105:function(e,t,n){e.exports={dialogWrapper:"DrawOfferDialog_dialogWrapper__38JK5",acceptBtn:"DrawOfferDialog_acceptBtn__1kykG",declineBtn:"DrawOfferDialog_declineBtn__3Umym",dialogText:"DrawOfferDialog_dialogText__1yBxj"}},11:function(e,t,n){"use strict";var a=n(9),r=n(27),o=new a.c.Entity("games",{white:r.a,black:r.a});t.a=o},113:function(e,t,n){"use strict";n.d(t,"a",(function(){return o})),n.d(t,"b",(function(){return c}));var a=n(10),r=Object(a.b)({name:"gameClock",initialState:{},reducers:{oneSecondPassed:function(){}},extraReducers:{}}),o=r.actions.oneSecondPassed,c=(r.reducer,function(){return function(e){setInterval((function(){e(o())}),1e3)}})},114:function(e,t,n){"use strict";n.d(t,"b",(function(){return s}));var a=n(8),r=n(10),o=n(50),c=n(15),i=Object(r.b)({name:"messages",initialState:[],reducers:{showMessage:function(e,t){e.push(t.payload)},hideMessage:function(e,t){Object(o.pullAllBy)(e,[{id:t.payload}],"id")}},extraReducers:Object(a.a)({},c.b.type,(function(e,t){e.push({id:"acceptSeekError",body:t.payload.error})}))}),l=i.actions,s=(l.showMessage,l.hideMessage);t.a=i.reducer},13:function(e,t,n){"use strict";var a=n(178),r=n.n(a),o=n(179),c=n.n(o)()(r.a);c.sails.url="http://localhost:1337",t.a=c},136:function(e,t,n){e.exports={clock:"GameClock_clock__1XkXv",clockRun:"GameClock_clockRun__2zomt",clockEmerg:"GameClock_clockEmerg__1sFO2"}},137:function(e,t,n){e.exports={container:"GameControlPanelStatus_container__119WU",status:"GameControlPanelStatus_status__1IARo",result:"GameControlPanelStatus_result__3Qu_O"}},15:function(e,t,n){"use strict";n.d(t,"f",(function(){return m})),n.d(t,"i",(function(){return b})),n.d(t,"j",(function(){return v})),n.d(t,"h",(function(){return p})),n.d(t,"c",(function(){return g})),n.d(t,"d",(function(){return E})),n.d(t,"b",(function(){return w})),n.d(t,"e",(function(){return h})),n.d(t,"g",(function(){return k})),n.d(t,"a",(function(){return O}));var a=n(10),r=n(9),o=n(50),c=n(13),i=n(11),l=n(53),s=Object(a.b)({name:"challenge",initialState:{},reducers:{challengeAiRequest:function(){},challengeAiSuccess:function(e,t){},challengeAiError:function(e,t){},createSeekRequest:function(){},createSeekSuccess:function(e,t){},createSeekError:function(e,t){},acceptSeekRequest:function(e,t){},acceptSeekSuccess:function(e,t){},acceptSeekError:function(e,t){}},extraReducers:{}}),u=s.actions,d=u.challengeAiRequest,m=u.challengeAiSuccess,f=u.challengeAiError,b=u.createSeekRequest,v=u.createSeekSuccess,p=u.createSeekError,g=u.acceptSeekRequest,E=u.acceptSeekSuccess,w=u.acceptSeekError,h=(s.reducer,function(e){return function(t){return t(d()),new Promise((function(n,a){c.a.socket.post("/api/v1/challenge/ai",e,(function(e,o){if(200===o.statusCode){var c=Object(r.b)(e,i.a);t(m(c)),n(e)}else t(f(e)),a(o)}))}))}}),k=function(e){return function(t){return t(b()),new Promise((function(n,a){c.a.socket.post("/api/v1/board/seek",e,(function(e,c){if(200===c.statusCode){var l=Object(r.b)(e,i.a);t(v(l)),n(e)}else t(p(Object(o.isString)(e)?e:"Internal server error")),a(c)}))}))}},O=function(e){return function(t){return t(g(e)),new Promise((function(n,a){c.a.socket.post("/api/v1/board/seek/".concat(e,"/accept"),{},(function(o,c){if(200===c.statusCode){var i=Object(r.b)(o,l.a);t(E(i)),n(o)}else{var s=o;401===c.statusCode&&(s="You must log in to play a game"),t(w({itemId:e,error:s})),a(c)}}))}))}}},150:function(e,t,n){e.exports={clockRun:"GamePreviewClock_clockRun__2fzqU"}},155:function(e,t,n){e.exports={controlPanel:"GameControlPanel_controlPanel__31q_E",controlPanelInner:"GameControlPanel_controlPanelInner__mVrde"}},17:function(e,t,n){"use strict";n.d(t,"h",(function(){return i})),n.d(t,"k",(function(){return d})),n.d(t,"j",(function(){return f})),n.d(t,"p",(function(){return b})),n.d(t,"b",(function(){return p})),n.d(t,"o",(function(){return w})),n.d(t,"m",(function(){return O})),n.d(t,"d",(function(){return S})),n.d(t,"f",(function(){return M})),n.d(t,"i",(function(){return R})),n.d(t,"a",(function(){return B})),n.d(t,"n",(function(){return I})),n.d(t,"l",(function(){return P})),n.d(t,"c",(function(){return L})),n.d(t,"e",(function(){return x}));var a=n(10),r=n(9),o=n(13),c=n(11),i={isLoading:!0,error:null,isFlipped:!1,rewindToMoveIndex:null},l=Object(a.b)({name:"singleGame",initialState:{},reducers:{getSingleGameRequest:function(e,t){e[t.payload]=Object.assign({},i,e[t.payload],{isLoading:!0,error:null})},getSingleGameSuccess:function(e,t){e[t.payload.result]=Object.assign({},i,e[t.payload.result],{isLoading:!1,error:null})},getSingleGameError:function(e,t){e[t.payload.itemId]=Object.assign({},i,e[t.payload.itemId],{isLoading:!1,error:t.payload.error})},abortGameRequest:function(e,t){},abortGameSuccess:function(e,t){},abortGameError:function(e,t){},resignGameRequest:function(e,t){},resignGameSuccess:function(e,t){},resignGameError:function(e,t){},offerDrawRequest:function(e,t){},offerDrawSuccess:function(e,t){},offerDrawError:function(e,t){},acceptDrawOfferRequest:function(e,t){},acceptDrawOfferSuccess:function(e,t){},acceptDrawOfferError:function(e,t){},declineDrawOfferRequest:function(e,t){},declineDrawOfferSuccess:function(e,t){},declineDrawOfferError:function(e,t){},flipBoard:function(e,t){e[t.payload].isFlipped=!e[t.payload].isFlipped},rewindToMove:function(e,t){e[t.payload.gameId].rewindToMoveIndex=t.payload.moveIndex}},extraReducers:{}}),s=l.actions,u=s.getSingleGameRequest,d=s.getSingleGameSuccess,m=s.getSingleGameError,f=s.flipBoard,b=s.rewindToMove,v=s.abortGameRequest,p=s.abortGameSuccess,g=s.abortGameError,E=s.resignGameRequest,w=s.resignGameSuccess,h=s.resignGameError,k=s.offerDrawRequest,O=s.offerDrawSuccess,y=s.offerDrawError,j=s.acceptDrawOfferRequest,S=s.acceptDrawOfferSuccess,C=s.acceptDrawOfferError,_=s.declineDrawOfferRequest,M=s.declineDrawOfferSuccess,N=s.declineDrawOfferError;t.g=l.reducer;var R=function(e){return function(t){return t(u(e)),new Promise((function(n,a){o.a.socket.get("/game/".concat(e),(function(o,i){if(200===i.statusCode){var l=Object(r.b)(o,c.a);t(d(l)),n(o)}else t(m({itemId:e,error:o})),a(i)}))}))}},B=function(e){return function(t){return t(v(e)),new Promise((function(n,a){o.a.socket.post("/api/v1/board/game/".concat(e,"/abort"),(function(o,i){if(200===i.statusCode){var l=Object(r.b)(o,c.a);t(p(l)),n(o)}else t(g({itemId:e,error:o})),a(i)}))}))}},I=function(e){return function(t){return t(E(e)),new Promise((function(n,a){o.a.socket.post("/api/v1/board/game/".concat(e,"/resign"),(function(o,i){if(200===i.statusCode){var l=Object(r.b)(o,c.a);t(w(l)),n(o)}else t(h({itemId:e,error:o})),a(i)}))}))}},P=function(e){return function(t){return t(k(e)),new Promise((function(n,a){o.a.socket.post("/api/v1/board/game/".concat(e,"/draw/yes"),(function(o,i){if(200===i.statusCode){var l=Object(r.b)(o,c.a);t(O(l)),n(o)}else t(y({itemId:e,error:o})),a(i)}))}))}},L=function(e){return function(t){return t(j(e)),new Promise((function(n,a){o.a.socket.post("/api/v1/board/game/".concat(e,"/draw/yes"),(function(o,i){if(200===i.statusCode){var l=Object(r.b)(o,c.a);t(S(l)),n(o)}else t(C({itemId:e,error:o})),a(i)}))}))}},x=function(e){return function(t){return t(_(e)),new Promise((function(n,a){o.a.socket.post("/api/v1/board/game/".concat(e,"/draw/no"),(function(o,i){if(200===i.statusCode){var l=Object(r.b)(o,c.a);t(M(l)),n(o)}else t(N({itemId:e,error:o})),a(i)}))}))}}},181:function(e,t,n){e.exports={grid:"GamePreviewsList_grid__2iggX"}},182:function(e,t,n){e.exports={result:"GamePreviewResult_result__2DwMU"}},190:function(e,t,n){e.exports={userName:"GameControlPanelUserName_userName__3wRKP"}},191:function(e,t,n){e.exports={buttonsWrapper:"GameControlPanelTopToolbar_buttonsWrapper__TJIBo"}},192:function(e,t,n){e.exports={buttonsWrapper:"GameControlPanelBottomToolbar_buttonsWrapper__21ame"}},193:function(e,t,n){e.exports={singleGameBoard:"SingleGameBoard_singleGameBoard__2rYay"}},197:function(e,t,n){e.exports={messages:"Messages_messages__ESZ_K"}},199:function(e,t,n){e.exports=n(259)},207:function(e,t,n){},236:function(e,t){},241:function(e,t,n){},25:function(e,t,n){"use strict";n.d(t,"c",(function(){return u})),n.d(t,"e",(function(){return m})),n.d(t,"h",(function(){return f})),n.d(t,"b",(function(){return v})),n.d(t,"d",(function(){return p})),n.d(t,"g",(function(){return g})),n.d(t,"f",(function(){return E}));var a=n(10),r=n(9),o=n(13),c=n(27),i=Object(a.b)({name:"currentUser",initialState:{userId:null,isLoading:!0,error:null},reducers:{getCurrentUserRequest:function(e){e.isLoading=!0,e.error=null},getCurrentUserSuccess:function(e,t){e.userId=t.payload?t.payload.result:null,e.isLoading=!1,e.error=null},getCurrentUserError:function(e,t){e.isLoading=!1,e.error=t.payload},loginSuccess:function(e,t){e.userId=t.payload.result},registerSuccess:function(e,t){e.userId=t.payload.result},logoutSuccess:function(e){e.userId=null}}}),l=i.actions,s=l.getCurrentUserRequest,u=l.getCurrentUserSuccess,d=l.getCurrentUserError,m=l.loginSuccess,f=l.registerSuccess,b=l.logoutSuccess;t.a=i.reducer;var v=function(){return function(e){return e(s()),new Promise((function(t,n){o.a.socket.get("/api/v1/account/me",(function(a,o){if(200===o.statusCode){var i=Object(r.b)(a,c.a);e(u(i)),t(a)}else 401===o.statusCode?(e(u(null)),t(null)):(e(d(a)),n(o))}))}))}},p=function(e){return function(t){return new Promise((function(n,a){o.a.socket.put("/api/v1/entrance/login",{emailAddress:e.email,password:e.password},(function(e,o){if(200===o.statusCode){var i=Object(r.b)(e,c.a);t(m(i)),n(e)}else a(o)}))}))}},g=function(e){return function(t){return new Promise((function(n,a){o.a.socket.post("/api/v1/entrance/signup",{fullName:e.fullName,emailAddress:e.email,password:e.password,confirmPassword:e.password,agreed:!0},(function(e,o){if(200===o.statusCode){var i=Object(r.b)(e,c.a);t(f(i)),n(e)}else a(o)}))}))}},E=function(){return function(e){return new Promise((function(t,n){o.a.socket.post("/api/v1/account/logout",{},(function(a,r){200===r.statusCode?(e(b()),t()):n(r)}))}))}}},255:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),o=n(49),c=n(18),i=n(7),l=(n(240),n(241),n(271)),s=n(9),u=n(181),d=n.n(u),m=n(30),f=n(31),b=n(103),v=n.n(b),p=function(e){var t=e.game,n=e.color,a=void 0===n?"white":n;return t?r.a.createElement("span",null,t[a]?t[a].fullName:"AI level ".concat(t.aiLevel)):null},g=n(182),E=n.n(g),w=function(e){var t=e.game,n=e.color,a=void 0===n?"white":n;if(!t)return null;var o="\xbd";return t.winner&&(o=t.winner===a?"1":"0"),r.a.createElement("span",{className:E.a.result},o)},h=n(8),k=n(116),O=n.n(k),y=n(3),j=n.n(y),S=n(150),C=n.n(S),_=function(e){var t=e.time,n=void 0===t?0:t,a=e.isRunning,o=void 0!==a&&a,c=O()().startOf("day").milliseconds(n).format("mm:ss");return r.a.createElement("div",{"data-testid":"time",className:j()(C.a.clock,Object(h.a)({},C.a.clockRun,o))},c)},M=function(e){var t=e.game;if(!t)return null;var n=Object(f.a)(t).fen();return r.a.createElement("div",{className:v.a.gamePreview},r.a.createElement("div",{className:v.a.player},r.a.createElement(p,{game:t,color:"black"}),"started"===t.status&&r.a.createElement(_,{time:t.btime,isRunning:"black"===t.turn}),"started"!==t.status&&"aborted"!==t.status&&r.a.createElement(w,{game:t,color:"black"})),r.a.createElement("div",{className:v.a.board},r.a.createElement(o.b,{to:"/game/".concat(t.id)},r.a.createElement(m.Board,{position:n,viewOnly:!1,width:240}))),r.a.createElement("div",{className:v.a.player},r.a.createElement(p,{game:t,color:"white"}),"started"===t.status&&r.a.createElement(_,{time:t.wtime,isRunning:"white"===t.turn}),"started"!==t.status&&"aborted"!==t.status&&r.a.createElement(w,{game:t,color:"white"})))},N=n(261),R=function(e){var t=e.emptyContentMessage,n=void 0===t?"content is empty":t,a=e.isEmpty,o=void 0!==a&&a,c=e.isLoading,i=void 0!==c&&c,l=e.error,s=void 0===l?null:l;return!o||i||s?i&&o?r.a.createElement("div",{className:"text-center"},r.a.createElement(N.a,{animation:"border",role:"status","data-testid":"loading-spinner"},r.a.createElement("span",{className:"sr-only"},"Loading..."))):s?r.a.createElement("div",{className:"alert alert-danger text-center",role:"alert","data-testid":"error-message"},s):null:r.a.createElement("div",{className:"alert alert-warning text-center",role:"alert","data-testid":"empty-content-message"},n)},B=function(e){var t=e.games,n=void 0===t?[]:t,a=e.isLoading,o=void 0!==a&&a,c=e.error,i=void 0===c?null:c,l=e.emptyContentMessage;return r.a.createElement("div",null,r.a.createElement(R,{isLoading:o,error:i,isEmpty:0===n.length,emptyContentMessage:l}),r.a.createElement("div",{className:d.a.grid},n.map((function(e){return r.a.createElement(M,{game:e,key:e.id})}))))},I=n(11),P=function(){var e=Object(i.c)((function(e){return Object(s.a)(Object.keys(e.entities.games),[I.a],e.entities).filter((function(e){return"started"===e.status})).sort((function(e,t){return t.createdAt-e.createdAt})).slice(0,9)})),t=Object(i.c)((function(e){return e.gamesList.isLoading})),n=Object(i.c)((function(e){return e.gamesList.error}));return r.a.createElement(B,{games:e,isLoading:t,error:n,emptyContentMessage:"Nobody is playing right now"})},L=n(262),x=function(e){var t=e.onChallengeAi,n=e.onCreateGame,o=Object(a.useCallback)((function(){t&&t()}),[t]),c=Object(a.useCallback)((function(){n&&n()}),[n]);return r.a.createElement("div",{className:"mb-3"},r.a.createElement(L.a,{variant:"primary",onClick:c,"data-testid":"create-game-btn",className:"mr-3"},"Create a game"),r.a.createElement(L.a,{variant:"primary",onClick:o,"data-testid":"challenge-ai-btn"},"Play with the computer"))},G=n(81),A=n(82),T=function(){var e=Object(i.b)(),t=Object(a.useCallback)((function(){e(Object(G.c)())}),[e]),n=Object(a.useCallback)((function(){e(Object(A.c)())}),[e]);return r.a.createElement(x,{onChallengeAi:t,onCreateGame:n})},D=n(267),F=n(65),q=n(268),V=n(263),U=n(264),W=n(265),H=n(59),K=n.n(H),z=function(e){var t=e.onSubmit;return r.a.createElement(F.a,{initialValues:{level:2,color:"",clockLimit:300,clockIncrement:3},onSubmit:function(e){function t(t,n){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(e,n){if(t)return t(e,n)}))},(function(e){var t=e.values,n=e.handleChange,a=e.handleBlur,o=e.handleSubmit,c=e.isSubmitting,i=e.status,l=e.setStatus,s=e.setFieldValue;return r.a.createElement(q.a,{noValidate:!0,onSubmit:function(e){return o(e)},onChange:function(){return l("")}},!!i&&r.a.createElement(V.a,{variant:"danger"},i),r.a.createElement("fieldset",null,r.a.createElement(q.a.Group,null,r.a.createElement(q.a.Label,null,"Minutes per side: ",t.clockLimit/60),r.a.createElement(q.a.Control,{type:"range",name:"clockLimit",onBlur:a,value:t.clockLimit,onChange:n,min:"60",max:"1800",step:"60"})),r.a.createElement(q.a.Group,null,r.a.createElement(q.a.Label,null,"Increment in seconds: ",t.clockIncrement),r.a.createElement(q.a.Control,{type:"range",name:"clockIncrement",onBlur:a,value:t.clockIncrement,onChange:n,min:"0",max:"60"}))),r.a.createElement("div",{className:"text-center"},"Level"),r.a.createElement(U.a,null,r.a.createElement(W.a,{className:j()("mx-auto",K.a.levelButtonGroup)},[1,2,3,4].map((function(e){return r.a.createElement(L.a,{key:e,type:"button",variant:e===t.level?"dark":"light",onClick:function(){return s("level",e)}},e)})))),r.a.createElement("div",{className:"text-center"},"A.I. Level: ",t.level),r.a.createElement("div",{className:K.a.colorSubmits},r.a.createElement("button",{disabled:c,type:"submit",title:"Black",className:j()(K.a.colorSubmitsButton,K.a.blackButton),onClick:function(){return s("color","black")}},r.a.createElement("i",null)),r.a.createElement("button",{disabled:c,type:"submit",title:"Random side",className:j()(K.a.colorSubmitsButton,K.a.randomButton),onClick:function(){return s("color","random")}},r.a.createElement("i",null)),r.a.createElement("button",{disabled:c,type:"submit",title:"White",className:j()(K.a.colorSubmitsButton,K.a.whiteButton),onClick:function(){return s("color","white")}},r.a.createElement("i",null))))}))},Y=n(15),J=function(){var e=Object(i.b)(),t=Object(c.f)(),n=Object(a.useCallback)((function(n,a){return e(Object(Y.e)(n)).then((function(e){t.push("/game/".concat(e.id))})).catch((function(e){401===e.statusCode?a.setStatus("You must log in to play with computer"):a.setStatus("Internal server error")}))}),[e,t]);return r.a.createElement(z,{onSubmit:n})},X=function(e){var t=e.show,n=void 0!==t&&t,a=e.onHide;return r.a.createElement(D.a,{show:n,onHide:a,animation:!1},r.a.createElement(D.a.Header,{closeButton:!0},r.a.createElement(D.a.Title,null,"Play with the computer")),r.a.createElement(D.a.Body,null,r.a.createElement(J,null)))},Q=function(){var e=Object(i.c)((function(e){return e.challengeAiModal})).isChallengeAiModalVisible,t=Object(i.b)(),n=Object(a.useCallback)((function(){t(Object(G.b)())}),[t]);return r.a.createElement(X,{show:e,onHide:n})},Z=function(){var e=Object(i.c)((function(e){return Object(s.a)(Object.keys(e.entities.games),[I.a],e.entities).filter((function(e){return"started"!==e.status&&"aborted"!==e.status})).sort((function(e,t){return t.createdAt-e.createdAt})).slice(0,9)})),t=Object(i.c)((function(e){return e.gamesList.isLoading})),n=Object(i.c)((function(e){return e.gamesList.error}));return r.a.createElement(B,{games:e,isLoading:t,error:n,emptyContentMessage:"There is no finished games yet"})},$=n(47),ee=n.n($),te=function(e){var t=e.onSubmit,n=e.onAbort,o=Object(a.useCallback)((function(){n&&n()}),[n]);return r.a.createElement(F.a,{initialValues:{color:"",clockLimit:300,clockIncrement:3},onSubmit:function(e){function t(t,n){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(e,n){if(t)return t(e,n)}))},(function(e){var t=e.values,n=e.handleChange,a=e.handleBlur,c=e.handleSubmit,i=e.isSubmitting,l=e.status,s=e.setStatus,u=e.setFieldValue;return r.a.createElement(q.a,{noValidate:!0,onSubmit:function(e){return c(e)},onChange:function(){return s("")}},!!l&&r.a.createElement(V.a,{variant:"danger"},l),r.a.createElement("fieldset",null,r.a.createElement(q.a.Group,null,r.a.createElement(q.a.Label,null,"Minutes per side: ",t.clockLimit/60),r.a.createElement(q.a.Control,{disabled:i,type:"range",name:"clockLimit",onBlur:a,value:t.clockLimit,onChange:n,min:"60",max:"1800",step:"60"})),r.a.createElement(q.a.Group,null,r.a.createElement(q.a.Label,null,"Increment in seconds: ",t.clockIncrement),r.a.createElement(q.a.Control,{disabled:i,type:"range",name:"clockIncrement",onBlur:a,value:t.clockIncrement,onChange:n,min:"0",max:"60"}))),r.a.createElement("div",{className:ee.a.colorSubmits},r.a.createElement("button",{disabled:i,type:"submit",title:"Black",className:j()(ee.a.colorSubmitsButton,ee.a.blackButton),onClick:function(){return u("color","black")}},r.a.createElement("i",null)),r.a.createElement("button",{disabled:i,type:"submit",title:"Random side",className:j()(ee.a.colorSubmitsButton,ee.a.randomButton),onClick:function(){return u("color","random")}},r.a.createElement("i",null)),r.a.createElement("button",{disabled:i,type:"submit",title:"White",className:j()(ee.a.colorSubmitsButton,ee.a.whiteButton),onClick:function(){return u("color","white")}},r.a.createElement("i",null))),i&&r.a.createElement("div",{className:ee.a.spinnerWrapper},r.a.createElement(N.a,{animation:"border",className:ee.a.spinner},r.a.createElement("span",{className:"sr-only"},"Waiting for opponent...")),r.a.createElement(L.a,{variant:"danger",className:ee.a.spinnerButton,onClick:o},"Abort")))}))},ne=n(13),ae=function(){var e=Object(i.b)(),t=Object(c.f)(),n=Object(a.useCallback)((function(n,a){return e(Object(Y.g)(n)).then((function(e){t.push("/game/".concat(e.id))})).catch((function(e){401===e.statusCode?a.setStatus("You must log in to create a game"):0===e.statusCode||a.setStatus("Internal server error")}))}),[e,t]),o=Object(a.useCallback)((function(){ne.a.socket.disconnect(),ne.a.socket.reconnect()}),[]);return r.a.createElement(te,{onSubmit:n,onAbort:o})},re=function(e){var t=e.allowClose,n=void 0===t||t,a=e.show,o=void 0!==a&&a,c=e.onHide;return r.a.createElement(D.a,{show:o,onHide:c,animation:!1,backdrop:!!n||"static"},r.a.createElement(D.a.Header,{closeButton:n},r.a.createElement(D.a.Title,null,"Create a game")),r.a.createElement(D.a.Body,null,r.a.createElement(ae,null)))},oe=function(){var e=Object(i.c)((function(e){return e.seekModal})),t=e.isSeekModalVisible,n=e.allowCloseSeekModal,o=Object(i.b)(),c=Object(a.useCallback)((function(){o(Object(A.b)())}),[o]);return r.a.createElement(re,{allowClose:n,show:t,onHide:c})},ce=n(53),ie=n(104),le=n.n(ie);function se(){return(se=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}function ue(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},o=Object.keys(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var de=r.a.createElement("g",null,r.a.createElement("g",null,r.a.createElement("path",{d:"M256,0C114.618,0,0,114.618,0,256s114.618,256,256,256s256-114.618,256-256S397.382,0,256,0z M256,469.333 c-117.818,0-213.333-95.515-213.333-213.333S138.182,42.667,256,42.667S469.333,138.182,469.333,256S373.818,469.333,256,469.333z "}))),me=r.a.createElement("g",null),fe=r.a.createElement("g",null),be=r.a.createElement("g",null),ve=r.a.createElement("g",null),pe=r.a.createElement("g",null),ge=r.a.createElement("g",null),Ee=r.a.createElement("g",null),we=r.a.createElement("g",null),he=r.a.createElement("g",null),ke=r.a.createElement("g",null),Oe=r.a.createElement("g",null),ye=r.a.createElement("g",null),je=r.a.createElement("g",null),Se=r.a.createElement("g",null),Ce=r.a.createElement("g",null),_e=function(e){var t=e.svgRef,n=e.title,a=ue(e,["svgRef","title"]);return r.a.createElement("svg",se({id:"Layer_1",x:"0px",y:"0px",viewBox:"0 0 512 512",style:{enableBackground:"new 0 0 512 512"},xmlSpace:"preserve",ref:t},a),n?r.a.createElement("title",null,n):null,de,me,fe,be,ve,pe,ge,Ee,we,he,ke,Oe,ye,je,Se,Ce)},Me=r.a.forwardRef((function(e,t){return r.a.createElement(_e,se({svgRef:t},e))}));n.p;function Ne(){return(Ne=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}function Re(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},o=Object.keys(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var Be=r.a.createElement("g",null,r.a.createElement("g",null,r.a.createElement("path",{d:"M256,0C114.837,0,0,114.837,0,256s114.837,256,256,256s256-114.837,256-256S397.163,0,256,0z"}))),Ie=r.a.createElement("g",null),Pe=r.a.createElement("g",null),Le=r.a.createElement("g",null),xe=r.a.createElement("g",null),Ge=r.a.createElement("g",null),Ae=r.a.createElement("g",null),Te=r.a.createElement("g",null),De=r.a.createElement("g",null),Fe=r.a.createElement("g",null),qe=r.a.createElement("g",null),Ve=r.a.createElement("g",null),Ue=r.a.createElement("g",null),We=r.a.createElement("g",null),He=r.a.createElement("g",null),Ke=r.a.createElement("g",null),ze=function(e){var t=e.svgRef,n=e.title,a=Re(e,["svgRef","title"]);return r.a.createElement("svg",Ne({id:"Layer_1",x:"0px",y:"0px",viewBox:"0 0 512 512",style:{enableBackground:"new 0 0 512 512"},xmlSpace:"preserve",ref:t},a),n?r.a.createElement("title",null,n):null,Be,Ie,Pe,Le,xe,Ge,Ae,Te,De,Fe,qe,Ve,Ue,We,He,Ke)},Ye=r.a.forwardRef((function(e,t){return r.a.createElement(ze,Ne({svgRef:t},e))}));n.p;function Je(){return(Je=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}function Xe(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},o=Object.keys(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var Qe=r.a.createElement("g",null,r.a.createElement("g",{id:"c198_half_moon"},r.a.createElement("path",{d:"M29.105,14.552c0-0.03-0.004-0.06-0.004-0.092C29.054,6.481,22.584,0.027,14.6,0.002C14.585,0.002,14.569,0,14.556,0 h-0.002l0,0C6.547,0,0.051,6.47,0.005,14.468c0,0.027-0.004,0.053-0.004,0.084v0.002l0,0c0,8.037,6.517,14.553,14.553,14.553l0,0 h0.002c0.014,0,0.029-0.003,0.044-0.003c8.016-0.025,14.507-6.529,14.507-14.55l0,0L29.105,14.552L29.105,14.552z M14.556,2.079 c6.877,0,12.473,5.596,12.473,12.473c0,6.876-5.596,12.476-12.473,12.476V2.079z"})),r.a.createElement("g",{id:"Capa_1_271_"})),Ze=r.a.createElement("g",null),$e=r.a.createElement("g",null),et=r.a.createElement("g",null),tt=r.a.createElement("g",null),nt=r.a.createElement("g",null),at=r.a.createElement("g",null),rt=r.a.createElement("g",null),ot=r.a.createElement("g",null),ct=r.a.createElement("g",null),it=r.a.createElement("g",null),lt=r.a.createElement("g",null),st=r.a.createElement("g",null),ut=r.a.createElement("g",null),dt=r.a.createElement("g",null),mt=r.a.createElement("g",null),ft=function(e){var t=e.svgRef,n=e.title,a=Xe(e,["svgRef","title"]);return r.a.createElement("svg",Je({id:"Capa_1",x:"0px",y:"0px",viewBox:"0 0 29.107 29.107",style:{enableBackground:"new 0 0 29.107 29.107"},xmlSpace:"preserve",ref:t},a),n?r.a.createElement("title",null,n):null,Qe,Ze,$e,et,tt,nt,at,rt,ot,ct,it,lt,st,ut,dt,mt)},bt=r.a.forwardRef((function(e,t){return r.a.createElement(ft,Je({svgRef:t},e))})),vt=(n.p,function(e){var t=e.acceptInProcess,n=void 0===t?null:t,o=e.currentUserId,c=void 0===o?null:o,i=e.seek,l=e.onPlay,s=Object(a.useCallback)((function(){l&&l(i.id)}),[l,i]);return i?r.a.createElement("div",{"data-testid":"seek-wrapper",className:j()("d-flex","align-items-center","border-bottom",Object(h.a)({},le.a.gameIsStarted,i.game))},r.a.createElement("div",{className:"d-flex pl-2"},"white"===i.color&&r.a.createElement(Me,{"data-testid":"white-icon",className:le.a.colorIcon}),"black"===i.color&&r.a.createElement(Ye,{"data-testid":"black-icon",className:le.a.colorIcon}),"random"===i.color&&r.a.createElement(bt,{"data-testid":"random-icon",className:le.a.colorIcon})),r.a.createElement("div",{"data-testid":"user-name",className:"mr-auto p-2"},i.createdBy.fullName),r.a.createElement("div",{"data-testid":"time-control",className:"p-2"},i.clockLimit/60," + ",i.clockIncrement),r.a.createElement("div",{className:"p-2"},c!==i.createdBy.id&&r.a.createElement(L.a,{"data-testid":"play-btn",onClick:s,disabled:null!==n||!!i.game},n===i.id&&r.a.createElement(N.a,{animation:"border","data-testid":"play-btn-spinner",size:"sm",className:"mr-2"},r.a.createElement("span",{className:"sr-only"},"Sending...")),"Play"))):null}),pt=function(e){var t=e.acceptInProcess,n=void 0===t?null:t,a=e.currentUserId,o=void 0===a?null:a,c=e.seeks,i=void 0===c?[]:c,l=e.onPlay,s=e.isLoading,u=void 0!==s&&s,d=e.error,m=void 0===d?null:d;return r.a.createElement("div",null,r.a.createElement(R,{isLoading:u,error:m,isEmpty:0===i.length,emptyContentMessage:"Nobody is waiting for opponent"}),r.a.createElement("div",null,i.map((function(e){return r.a.createElement(vt,{acceptInProcess:n,currentUserId:o,seek:e,onPlay:l,key:e.id})}))))},gt=function(){var e=Object(i.b)(),t=Object(c.f)(),n=Object(i.c)((function(e){return e.currentUser.userId})),o=Object(i.c)((function(e){return Object(s.a)(e.seeksList.items,[ce.a],e.entities)})),l=Object(i.c)((function(e){return e.seeksList.isLoading})),u=Object(i.c)((function(e){return e.seeksList.error})),d=Object(i.c)((function(e){return e.acceptSeekRequest})),m=d.inProcess?d.itemId:null,f=Object(a.useCallback)((function(n){return e(Object(Y.a)(n)).then((function(e){t.push("/game/".concat(e.game.id))})).catch((function(){}))}),[e,t]);return r.a.createElement(pt,{currentUserId:n,seeks:o,onPlay:f,acceptInProcess:m,isLoading:l,error:u})},Et=function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(Q,null),r.a.createElement(oe,null),r.a.createElement("div",{className:"d-flex justify-content-center"},r.a.createElement(T,null)),r.a.createElement(l.a,{className:"mb-3"},r.a.createElement(l.a.Body,null,r.a.createElement(l.a.Title,null,"Waiting for opponent"),r.a.createElement(gt,null))),r.a.createElement(l.a,{className:"mb-3"},r.a.createElement(l.a.Body,null,r.a.createElement(l.a.Title,null,"Playing right now"),r.a.createElement(P,null))),r.a.createElement(l.a,null,r.a.createElement(l.a.Body,null,r.a.createElement(l.a.Title,null,"Finished"),r.a.createElement(Z,null))))},wt=function(e){if("outoftime"===e.status){if("white"===e.winner)return"Time out \u2022 White is victorious";if("black"===e.winner)return"Time out \u2022 Black is victorious"}if("resign"===e.status){if("black"===e.winner)return"White resigned \u2022 Black is victorious";if("white"===e.winner)return"Black resigned \u2022 White is victorious"}if("aborted"===e.status)return"Game aborted";if("mate"===e.status){if("white"===e.winner)return"Checkmate \u2022 White is victorious";if("black"===e.winner)return"Checkmate \u2022 Black is victorious"}return"draw"===e.status?"Draw":"stalemate"===e.status?"Stalemate":"Playing right now"},ht=function(e){var t=e.game;return t?r.a.createElement(l.a,null,r.a.createElement(l.a.Body,null,r.a.createElement("div",null,"Time Control:"," ",r.a.createElement("span",{"data-testid":"time-control"},t.clockLimit/60," + ",t.clockIncrement)),r.a.createElement("div",{"data-testid":"game-status",className:j()({"text-success":"started"===t.status,"text-danger":"started"!==t.status})},wt(t)),r.a.createElement("div",{"data-testid":"white-user"},r.a.createElement("svg",{height:"18",width:"16",className:"mr-1"},r.a.createElement("circle",{cx:"9",cy:"9",r:"6",stroke:"black",strokeWidth:"1",fill:"#fff"})),t.white?t.white.fullName:"AI level ".concat(t.aiLevel)),r.a.createElement("div",{"data-testid":"black-user"},r.a.createElement("svg",{height:"18",width:"16",className:"mr-1"},r.a.createElement("circle",{cx:"8",cy:"8",r:"6",stroke:"black",strokeWidth:"1",fill:"#000"})),t.black?t.black.fullName:"AI level ".concat(t.aiLevel)))):null},kt=function(e){var t=e.id,n=Object(i.c)((function(e){return Object(s.a)(t,I.a,e.entities)}));return n?r.a.createElement(ht,{game:n}):null},Ot=n(155),yt=n.n(Ot),jt=n(136),St=n.n(jt),Ct=function(e){var t,n=e.time,a=void 0===n?0:n,o=e.isRunning,c=void 0!==o&&o,i=O()().startOf("day").milliseconds(a).format("mm:ss");return r.a.createElement("div",{"data-testid":"time",className:j()(St.a.clock,(t={},Object(h.a)(t,St.a.clockRun,c),Object(h.a)(t,St.a.clockEmerg,a<1e4),t))},i)},_t=n(50),Mt=n(76),Nt=n.n(Mt),Rt=n(137),Bt=n.n(Rt),It=function(e){var t=e.game;if(!t)return null;var n="\xbd-\xbd";return t.winner&&(n="white"===t.winner?"1-0":"0-1"),r.a.createElement("div",{className:Bt.a.container},r.a.createElement("div",{className:Bt.a.result,"data-testid":"game-result"},n),r.a.createElement("div",{className:Bt.a.status,"data-testid":"game-status"},wt(t)))},Pt=function(e){return"".concat(e.from).concat(e.to)},Lt=function(e){var t=e.game,n=e.rewindToMoveIndex,o=void 0===n?null:n,c=e.onRewindToMove,i=[],l=Object(a.useRef)(null),s=Object(a.useRef)(-1),u=Object(a.useRef)();if(Object(a.useEffect)((function(){t&&(s.current===i.length&&u.current===t.status||null!==o||l.current&&(l.current.scrollTop=l.current.scrollHeight),s.current=i.length,u.current=t.status)}),[t,s,u,i.length,o,l]),!t)return null;var d=Object(f.a)(t),m=(i=d.history({verbose:!0})).length,b=Object(_t.chunk)(i,2),v=function(e){return function(){c&&c(e)}};return r.a.createElement("div",{className:Nt.a.movesWrapper,ref:l},b.map((function(e,t){var n=2*t+1,a=2*t+2;return r.a.createElement(r.a.Fragment,{key:"move-".concat(t)},r.a.createElement("div",{className:Nt.a.moveNumber},t+1),r.a.createElement("div",{"data-testid":"move-".concat(n),onClick:v(n),role:"button",className:j()(Nt.a.move,Object(h.a)({},Nt.a.selected,o===n||null===o&&m===n))},Pt(e[0])),e[1]&&r.a.createElement("div",{"data-testid":"move-".concat(a),onClick:v(a),role:"button",className:j()(Nt.a.move,Object(h.a)({},Nt.a.selected,o===a||null===o&&m===a))},Pt(e[1])))})),"started"!==t.status&&r.a.createElement(It,{game:t}))},xt=n(190),Gt=n.n(xt),At=function(e){var t=e.game,n=e.color,a=void 0===n?"white":n;return t?r.a.createElement("div",{className:Gt.a.userName},t[a]?t[a].fullName:"AI level ".concat(t.aiLevel)):null},Tt=n(37),Dt=n(38),Ft=n(191),qt=n.n(Ft),Vt=function(e){var t=e.isFirstMove,n=void 0!==t&&t,o=e.isLastMove,c=void 0!==o&&o,i=e.hasPrevMove,l=void 0!==i&&i,s=e.hasNextMove,u=void 0!==s&&s,d=e.onFlipBoard,m=e.onRewindToPrevMove,f=e.onRewindToNextMove,b=e.onRewindToFirstMove,v=e.onRewindToLastMove,p=Object(a.useCallback)((function(){d&&d()}),[d]),g=Object(a.useCallback)((function(){m&&m()}),[m]),E=Object(a.useCallback)((function(){f&&f()}),[f]),w=Object(a.useCallback)((function(){b&&b()}),[b]),h=Object(a.useCallback)((function(){v&&v()}),[v]);return r.a.createElement("div",{className:qt.a.buttonsWrapper},r.a.createElement(L.a,{type:"button",variant:"link","data-testid":"flip-board-btn",onClick:p},r.a.createElement(Tt.a,{icon:Dt.h}),r.a.createElement("span",{className:"sr-only"},"Flip board")),r.a.createElement(L.a,{type:"button",variant:"link","data-testid":"rewind-to-first-move-btn",onClick:w,disabled:n},r.a.createElement(Tt.a,{icon:Dt.a}),r.a.createElement("span",{className:"sr-only"},"Rewind to first move")),r.a.createElement(L.a,{type:"button",variant:"link","data-testid":"rewind-to-prev-move-btn",onClick:g,disabled:!l},r.a.createElement(Tt.a,{icon:Dt.c}),r.a.createElement("span",{className:"sr-only"},"Rewind to prev move")),r.a.createElement(L.a,{type:"button",variant:"link","data-testid":"rewind-to-next-move-btn",onClick:E,disabled:!u},r.a.createElement(Tt.a,{icon:Dt.d}),r.a.createElement("span",{className:"sr-only"},"Rewind to next move")),r.a.createElement(L.a,{type:"button",variant:"link","data-testid":"rewind-to-last-move-btn",onClick:h,disabled:c},r.a.createElement(Tt.a,{icon:Dt.b}),r.a.createElement("span",{className:"sr-only"},"Rewind to last move")))},Ut=n(192),Wt=n.n(Ut),Ht=function(e){var t=e.canAbortGame,n=void 0!==t&&t,o=e.canOfferDraw,c=void 0!==o&&o,i=e.canResignGame,l=void 0!==i&&i,s=e.onAbortGame,u=e.onOfferDraw,d=e.onResignGame,m=Object(a.useCallback)((function(){s&&s()}),[s]),f=Object(a.useCallback)((function(){u&&u()}),[u]),b=Object(a.useCallback)((function(){d&&d()}),[d]);return r.a.createElement("div",{className:Wt.a.buttonsWrapper},r.a.createElement(L.a,{type:"button",variant:"link","data-testid":"abort-game-btn",onClick:m,disabled:!n},r.a.createElement(Tt.a,{icon:Dt.i}),r.a.createElement("span",{className:"sr-only"},"Abort")),r.a.createElement(L.a,{type:"button",variant:"link","data-testid":"offer-draw-btn",onClick:f,disabled:!c},r.a.createElement(Tt.a,{icon:Dt.g}),r.a.createElement("span",{className:"sr-only"},"Offer a draw")),r.a.createElement(L.a,{type:"button",variant:"link","data-testid":"resign-game-btn",onClick:b,disabled:!l},r.a.createElement(Tt.a,{icon:Dt.f}),r.a.createElement("span",{className:"sr-only"},"Resign")))},Kt=n(105),zt=n.n(Kt),Yt=function(e){var t=e.onAccept,n=e.onDecline,o=Object(a.useCallback)((function(){t&&t()}),[t]),c=Object(a.useCallback)((function(){n&&n()}),[n]);return r.a.createElement("div",{className:zt.a.dialogWrapper},r.a.createElement(L.a,{type:"button",variant:"link","data-testid":"accept-btn",onClick:o,className:zt.a.acceptBtn},r.a.createElement(Tt.a,{icon:Dt.e}),r.a.createElement("span",{className:"sr-only"},"Accept")),r.a.createElement(L.a,{type:"button",variant:"link","data-testid":"decline-btn",onClick:c,className:zt.a.declineBtn},r.a.createElement(Tt.a,{icon:Dt.i}),r.a.createElement("span",{className:"sr-only"},"Decline")),r.a.createElement("div",{className:zt.a.dialogText},"Your opponent offers a draw"))},Jt=function(e){var t=e.game,n=e.orientation,a=void 0===n?"white":n,o=e.rewindToMoveIndex,c=void 0===o?null:o,i=e.canAbortGame,l=void 0!==i&&i,s=e.canOfferDraw,u=void 0!==s&&s,d=e.canResignGame,m=void 0!==d&&d,b=e.drawOfferSentByCurrentUser,v=void 0!==b&&b,p=e.drawOfferSentByOpponent,g=void 0!==p&&p,E=e.onAcceptDrawOffer,w=e.onDeclineDrawOffer,h=e.onRewindToMove,k=e.onFlipBoard,O=e.onRewindToPrevMove,y=e.onRewindToNextMove,j=e.onRewindToFirstMove,S=e.onRewindToLastMove,C=e.onAbortGame,_=e.onOfferDraw,M=e.onResignGame;if(!t)return null;var N=Object(f.a)(t).history(),R=0===N.length||0===c,B=null===c,I=0!==N.length&&0!==c,P=null!==c;return r.a.createElement("div",{className:yt.a.controlPanel},r.a.createElement(Ct,{time:"white"===a?t.btime:t.wtime,isRunning:t.turn!==a}),r.a.createElement("div",{className:yt.a.controlPanelInner},r.a.createElement(At,{game:t,color:"white"===a?"black":"white"}),r.a.createElement(Vt,{isFirstMove:R,isLastMove:B,hasPrevMove:I,hasNextMove:P,onFlipBoard:k,onRewindToPrevMove:O,onRewindToNextMove:y,onRewindToFirstMove:j,onRewindToLastMove:S}),r.a.createElement(Lt,{game:t,rewindToMoveIndex:c,onRewindToMove:h}),g&&r.a.createElement(Yt,{onAccept:E,onDecline:w}),v&&r.a.createElement("div",{className:"alert alert-warning text-center",role:"alert","data-testid":"draw-offer-sent-message"},"Draw offer sent"),r.a.createElement(Ht,{canAbortGame:l,canOfferDraw:u,canResignGame:m,onAbortGame:C,onOfferDraw:_,onResignGame:M}),r.a.createElement(At,{game:t,color:"white"===a?"white":"black"})),r.a.createElement(Ct,{time:"white"===a?t.wtime:t.btime,isRunning:t.turn===a}))},Xt=function(e){var t,n,a,o,c,i,l,s,u,d,m,b=e.game,v=e.currentUser,p=e.isFlipped,g=void 0!==p&&p,E=e.rewindToMoveIndex,w=void 0===E?null:E,h=e.onFlipBoard,k=e.onAcceptDrawOffer,O=e.onDeclineDrawOffer,y=e.onAbortGame,j=e.onOfferDraw,S=e.onResignGame,C=e.onRewindToMove;if(!b)return null;var _=Object(f.a)(b).history({verbose:!0}),M="white";v&&v.id===(null===(t=b.black)||void 0===t?void 0:t.id)&&(M="black"),g&&(M="white"===M?"black":"white");var N,R,B=null;v&&(v.id===(null===(N=b.white)||void 0===N?void 0:N.id)?B="white":v.id===(null===(R=b.black)||void 0===R?void 0:R.id)&&(B="black"));var I=!1;!v||v.id!==(null===(n=b.white)||void 0===n?void 0:n.id)&&v.id!==(null===(a=b.black)||void 0===a?void 0:a.id)||"started"!==b.status||b.drawOffer!==B||(I=!0);var P=!1;!v||v.id!==(null===(o=b.white)||void 0===o?void 0:o.id)&&v.id!==(null===(c=b.black)||void 0===c?void 0:c.id)||"started"!==b.status||null===b.drawOffer||b.drawOffer===B||(P=!0);var L=!1;v&&(v.id===(null===(i=b.white)||void 0===i?void 0:i.id)||v.id===(null===(l=b.black)||void 0===l?void 0:l.id))&&"started"===b.status&&_.length<2&&(L=!0);var x=!1;v&&(v.id===(null===(s=b.white)||void 0===s?void 0:s.id)||v.id===(null===(u=b.black)||void 0===u?void 0:u.id))&&"started"===b.status&&_.length>1&&(x=!0);var G=!1;v&&(v.id===(null===(d=b.white)||void 0===d?void 0:d.id)||v.id===(null===(m=b.black)||void 0===m?void 0:m.id))&&null===b.drawOffer&&0===b.aiLevel&&"started"===b.status&&_.length>1&&(G=!0);return r.a.createElement(Jt,{game:b,orientation:M,rewindToMoveIndex:w,canAbortGame:L,canResignGame:x,canOfferDraw:G,drawOfferSentByCurrentUser:I,drawOfferSentByOpponent:P,onAcceptDrawOffer:k,onDeclineDrawOffer:O,onFlipBoard:h,onAbortGame:y,onOfferDraw:j,onResignGame:S,onRewindToMove:function(e){C&&(e===_.length?C(null):C(e))},onRewindToFirstMove:function(){C&&C(0)},onRewindToLastMove:function(){C&&C(null)},onRewindToPrevMove:function(){C&&C(null===w?_.length-1:w-1)},onRewindToNextMove:function(){C&&(w===_.length-1?C(null):C(w+1))}})},Qt=n(27),Zt=n(17),$t=function(e){var t=e.id,n=Object(i.b)(),o=Object(i.c)((function(e){return Object(s.a)(t,I.a,e.entities)})),c=Object(i.c)((function(e){return e.singleGame[t]}))||Zt.h,l=Object(i.c)((function(e){if(e.currentUser.userId)return Object(s.a)(e.currentUser.userId,Qt.a,e.entities)})),u=Object(a.useCallback)((function(){n(Object(Zt.j)(t))}),[n,t]),d=Object(a.useCallback)((function(){n(Object(Zt.a)(t))}),[n,t]),m=Object(a.useCallback)((function(){n(Object(Zt.c)(t))}),[n,t]),f=Object(a.useCallback)((function(){n(Object(Zt.e)(t))}),[n,t]),b=Object(a.useCallback)((function(){n(Object(Zt.n)(t))}),[n,t]),v=Object(a.useCallback)((function(){n(Object(Zt.l)(t))}),[n,t]),p=Object(a.useCallback)((function(e){n(Object(Zt.p)({moveIndex:e,gameId:t}))}),[n,t]);return o?r.a.createElement(Xt,{game:o,currentUser:l,isFlipped:c.isFlipped,rewindToMoveIndex:c.rewindToMoveIndex,onFlipBoard:u,onAbortGame:d,onAcceptDrawOffer:m,onDeclineDrawOffer:f,onOfferDraw:v,onResignGame:b,onRewindToMove:p}):null},en=n(193),tn=n.n(en),nn=function(e){var t=e.currentUser,n=e.game,a=e.isFlipped,o=void 0!==a&&a,c=e.onMove,i=e.rewindToMoveIndex,l=void 0===i?null:i,s=e.isLoading,u=void 0!==s&&s,d=e.error,b=void 0===d?null:d,v=null;if(n){var p,g,E,w,h,k,O=Object(f.a)(n),y=null===l?O:Object(f.a)(n,l),j=y.fen(),S=y.in_check(),C="white"===n.turn?m.PieceColor.WHITE:m.PieceColor.BLACK,_=Object(m.getValidMoves)(y),M=!0;!t||t.id!==(null===(p=n.white)||void 0===p?void 0:p.id)&&t.id!==(null===(g=n.black)||void 0===g?void 0:g.id)||"started"!==n.status||null!==l||(M=!1),t&&t.id===(null===(E=n.white)||void 0===E?void 0:E.id)&&(k=m.PieceColor.WHITE),t&&t.id===(null===(w=n.black)||void 0===w?void 0:w.id)&&(k=m.PieceColor.BLACK);var N=m.PieceColor.WHITE;t&&t.id===(null===(h=n.black)||void 0===h?void 0:h.id)&&(N=m.PieceColor.BLACK),o&&(N=N===m.PieceColor.WHITE?m.PieceColor.BLACK:m.PieceColor.WHITE);var B,I=O.history({verbose:!0});if(null===l){if(I.length){var P=I[I.length-1];B=[P.from,P.to]}}else if(l>0){var L=I[l-1];B=[L.from,L.to]}v=r.a.createElement("div",{className:tn.a.singleGameBoard},r.a.createElement(m.Board,{allowMarkers:!0,check:S,clickable:!0,draggable:!0,lastMoveSquares:B,movableColor:k,onMove:c,orientation:N,position:j,turnColor:C,validMoves:_,viewOnly:M}))}return r.a.createElement("div",null,r.a.createElement(R,{isLoading:u,error:b,isEmpty:!n}),v)},an=n(100),rn=function(e){var t=e.id,n=Object(i.b)(),o=Object(i.c)((function(e){return Object(s.a)(t,I.a,e.entities)})),c=Object(i.c)((function(e){if(e.currentUser.userId)return Object(s.a)(e.currentUser.userId,Qt.a,e.entities)})),l=Object(i.c)((function(e){return e.singleGame[t]}))||Zt.h,u=Object(a.useCallback)((function(e){n(Object(an.a)(t,"".concat(e.from).concat(e.to)))}),[n,t]);return r.a.createElement(nn,{game:o,currentUser:c,isFlipped:l.isFlipped,rewindToMoveIndex:l.rewindToMoveIndex,onMove:u,isLoading:l.isLoading,error:l.error})},on=function(){var e=Object(i.b)(),t=Object(c.g)().id,n=Number(t);return Object(a.useEffect)((function(){e(Object(Zt.i)(n))}),[e,n]),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-3"},r.a.createElement(kt,{id:n})),r.a.createElement("div",{className:"col-6"},r.a.createElement(rn,{id:n})),r.a.createElement("div",{className:"col-3"},r.a.createElement($t,{id:n})))},cn=n(25),ln=n(35),sn=n(113),un=function(e){var t=e.currentUser,n=void 0===t?null:t,c=e.onLogout,i=e.onShowAuthModal,l=Object(a.useCallback)((function(){c&&c()}),[c]),s=Object(a.useCallback)((function(){i&&i()}),[i]);return r.a.createElement("header",{className:"d-flex flex-column flex-md-row align-items-center p-3 px-md-4 mb-3 bg-white border-bottom box-shadow"},r.a.createElement("div",{className:"offset-4 col-4 text-center"},r.a.createElement(o.b,{className:"blog-header-logo text-dark",to:"/"},"Chess PWA")),r.a.createElement("div",{className:"col-4 d-flex justify-content-end align-items-center"},n?r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"mr-3"},"Hi, ",n.fullName),r.a.createElement(L.a,{className:"btn btn-sm btn-danger mr-3","data-testid":"logout-btn",onClick:l},"Logout")):r.a.createElement(L.a,{className:"btn btn-sm btn-success mr-3","data-testid":"login-btn",onClick:s},"Login / Register"),r.a.createElement("a",{href:"https://github.com/ildar-icoosoft/chess-pwa",target:"_blank",rel:"noopener noreferrer"},r.a.createElement("img",{src:"".concat("/chess-pwa","/imgs/GitHub-Mark-32px.png"),alt:""}))))},dn=n(80),mn=function(){var e=Object(i.c)((function(e){return e.currentUser.userId?Object(s.a)(e.currentUser.userId,Qt.a,e.entities):null})),t=Object(i.b)(),n=Object(a.useCallback)((function(){t(Object(cn.f)())}),[t]),o=Object(a.useCallback)((function(){t(Object(dn.c)())}),[t]);return r.a.createElement(un,{currentUser:e,onLogout:n,onShowAuthModal:o})},fn=n(269),bn=n(266),vn=n(46),pn=vn.a().shape({email:vn.c().email("Invalid email").required("Required"),password:vn.c().min(6,"Password length must be >= 6").required("Required")}),gn=function(e){var t=e.onSubmit;return r.a.createElement(F.a,{initialValues:{email:"",password:""},validationSchema:pn,onSubmit:function(e){function t(t,n){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(e,n){if(t)return t(e,n)}))},(function(e){var t=e.errors,n=e.values,a=e.touched,o=e.handleChange,c=e.handleBlur,i=e.handleSubmit,l=e.isSubmitting,s=e.status,u=e.setStatus;return r.a.createElement(q.a,{noValidate:!0,onSubmit:function(e){return i(e)},onChange:function(){return u("")}},!!s&&r.a.createElement(V.a,{variant:"danger"},s),r.a.createElement(q.a.Group,null,r.a.createElement(q.a.Label,null,"Email address"),r.a.createElement(q.a.Control,{type:"email",name:"email",placeholder:"Enter email",onBlur:c,value:n.email,onChange:o,isValid:a.email&&!t.email,isInvalid:a.email&&!!t.email}),r.a.createElement(q.a.Control.Feedback,{type:"invalid"},t.email)),r.a.createElement(q.a.Group,null,r.a.createElement(q.a.Label,null,"Password"),r.a.createElement(q.a.Control,{type:"password",name:"password",placeholder:"Password",onChange:o,onBlur:c,value:n.password,isValid:a.password&&!t.password,isInvalid:a.password&&!!t.password}),r.a.createElement(q.a.Control.Feedback,{type:"invalid"},t.password)),r.a.createElement(L.a,{variant:"primary",type:"submit",disabled:l},"Login"))}))},En=vn.a().shape({fullName:vn.c().required("Required"),email:vn.c().email("Invalid email").required("Required"),password:vn.c().min(6,"Password length must be >= 6").required("Required"),confirmPassword:vn.c().equals([vn.b("password")],"Please repeat the password").required("Required")}),wn=function(e){var t=e.onSubmit;return r.a.createElement(F.a,{initialValues:{fullName:"",email:"",password:"",confirmPassword:""},validationSchema:En,onSubmit:function(e){function t(t,n){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(e,n){if(t)return t(e,n)}))},(function(e){var t=e.errors,n=e.values,a=e.touched,o=e.handleChange,c=e.handleBlur,i=e.handleSubmit,l=e.isSubmitting,s=e.status,u=e.setStatus;return r.a.createElement(q.a,{noValidate:!0,onSubmit:function(e){return i(e)},onChange:function(){return u("")}},!!s&&r.a.createElement(V.a,{variant:"danger"},s),r.a.createElement(q.a.Group,null,r.a.createElement(q.a.Label,null,"Full name"),r.a.createElement(q.a.Control,{type:"text",name:"fullName",placeholder:"Enter full name",onBlur:c,value:n.fullName,onChange:o,isValid:a.fullName&&!t.fullName,isInvalid:a.fullName&&!!t.fullName}),r.a.createElement(q.a.Control.Feedback,{type:"invalid"},t.fullName)),r.a.createElement(q.a.Group,null,r.a.createElement(q.a.Label,null,"Email address"),r.a.createElement(q.a.Control,{type:"email",name:"email",placeholder:"Enter email",onBlur:c,value:n.email,onChange:o,isValid:a.email&&!t.email,isInvalid:a.email&&!!t.email}),r.a.createElement(q.a.Control.Feedback,{type:"invalid"},t.email)),r.a.createElement(q.a.Group,null,r.a.createElement(q.a.Label,null,"Password"),r.a.createElement(q.a.Control,{type:"password",name:"password",placeholder:"Password",onChange:o,onBlur:c,value:n.password,isValid:a.password&&!t.password,isInvalid:a.password&&!!t.password}),r.a.createElement(q.a.Control.Feedback,{type:"invalid"},t.password)),r.a.createElement(q.a.Group,null,r.a.createElement(q.a.Label,null,"Confirm Password"),r.a.createElement(q.a.Control,{type:"password",name:"confirmPassword",placeholder:"Password",onChange:o,onBlur:c,value:n.confirmPassword,isValid:a.confirmPassword&&!t.confirmPassword,isInvalid:a.confirmPassword&&!!t.confirmPassword}),r.a.createElement(q.a.Control.Feedback,{type:"invalid"},t.confirmPassword)),r.a.createElement(L.a,{variant:"primary",type:"submit",disabled:l},"Register"))}))},hn=function(){var e=Object(i.b)(),t=r.a.useCallback((function(t,n){return e(Object(cn.d)(t)).catch((function(e){401===e.statusCode?n.setStatus("Incorrect email or password"):n.setStatus("Internal server error")}))}),[e]),n=r.a.useCallback((function(t,n){return e(Object(cn.g)({fullName:t.fullName,email:t.email,password:t.password})).catch((function(e){409===e.statusCode?n.setStatus("The provided email address is already in use"):n.setStatus("Internal server error")}))}),[e]);return r.a.createElement(fn.a,{transition:!1},r.a.createElement(bn.a,{eventKey:"home",title:"Login"},r.a.createElement(gn,{onSubmit:t})),r.a.createElement(bn.a,{eventKey:"profile",title:"Register"},r.a.createElement(wn,{onSubmit:n})))},kn=function(e){var t=e.show,n=void 0!==t&&t,a=e.onHide;return r.a.createElement("div",null,r.a.createElement(D.a,{show:n,onHide:a,animation:!1},r.a.createElement(D.a.Header,{closeButton:!0},r.a.createElement(D.a.Title,null,"Login")),r.a.createElement(D.a.Body,null,r.a.createElement(hn,null))))},On=function(){var e=Object(i.c)((function(e){return e.authModal})).isAuthModalVisible,t=Object(i.b)(),n=Object(a.useCallback)((function(){t(Object(dn.b)())}),[t]);return r.a.createElement(kn,{show:e,onHide:n})},yn=n(78),jn=n(79),Sn=n(270),Cn=n(197),_n=n.n(Cn),Mn=function(e){var t=e.items,n=void 0===t?[]:t,o=e.onHideMessage,c=Object(a.useCallback)((function(e){return function(){o&&o(e)}}),[o]);return r.a.createElement("div",{className:_n.a.messages},n.map((function(e,t){return r.a.createElement(Sn.a,{key:t,onClose:c(e.id),show:!0,delay:3e3,autohide:!0,animation:!1},r.a.createElement(Sn.a.Body,null,e.body))})))},Nn=n(114),Rn=function(){var e=Object(i.b)(),t=Object(i.c)((function(e){return e.messages})),n=Object(a.useCallback)((function(t){e(Object(Nn.b)(t))}),[e]);return r.a.createElement(Mn,{items:t,onHideMessage:n})};t.default=function(){var e=Object(i.b)();return Object(a.useEffect)((function(){e(Object(cn.b)()),e(Object(ln.f)()),e(Object(ln.g)()),e(Object(sn.b)()),e(Object(yn.b)()),e(Object(jn.b)())}),[e]),r.a.createElement("div",{className:"container-fluid"},r.a.createElement(o.a,null,r.a.createElement(mn,null),r.a.createElement(On,null),r.a.createElement(Rn,null),r.a.createElement(c.c,null,r.a.createElement(c.a,{path:"/game/:id"},r.a.createElement(on,null)),r.a.createElement(c.a,{path:"/"},r.a.createElement(Et,null)))))}},259:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),o=n(28),c=n.n(o),i=n(7);n(207),Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var l,s,u=n(10),d=n(32),m=n(78),f=n(79),b=n(25),v=n(80),p=n(81),g=n(82),E=n(8),w=n(17),h=n(15),k=n(113),O=n(35),y=n(100),j=n(31),S=function(e,t){Object.assign(e.users,t.payload.entities.users),Object.assign(e.games,t.payload.entities.games),Object.assign(e.seeks,t.payload.entities.seeks)},C=Object(u.b)({name:"entities",initialState:{users:{},games:{},seeks:{}},reducers:{},extraReducers:(l={},Object(E.a)(l,b.c.type,(function(e,t){t.payload&&S(e,{payload:t.payload})})),Object(E.a)(l,b.e.type,S),Object(E.a)(l,b.h.type,S),Object(E.a)(l,m.c.type,S),Object(E.a)(l,f.c.type,S),Object(E.a)(l,w.k.type,S),Object(E.a)(l,w.b.type,S),Object(E.a)(l,w.o.type,S),Object(E.a)(l,w.m.type,S),Object(E.a)(l,w.d.type,S),Object(E.a)(l,w.f.type,S),Object(E.a)(l,h.f.type,S),Object(E.a)(l,h.j.type,S),Object(E.a)(l,O.b.type,S),Object(E.a)(l,O.e.type,S),Object(E.a)(l,O.c.type,(function(e,t){delete e.seeks[t.payload]})),Object(E.a)(l,O.d.type,S),Object(E.a)(l,O.a.type,S),Object(E.a)(l,y.b.type,(function(e,t){e.games[t.payload.gameId].turn="white"===e.games[t.payload.gameId].turn?"black":"white",e.games[t.payload.gameId].moves="".concat(e.games[t.payload.gameId].moves," ").concat(t.payload.move).trim()})),Object(E.a)(l,y.c.type,S),Object(E.a)(l,h.d.type,S),Object(E.a)(l,k.a.type,(function(e){Object.keys(e.games).forEach((function(t){var n=e.games[t];if("started"===n.status&&Object(j.a)(n).history().length>1){var a="white"===n.turn?"wtime":"btime";n[a]-=1e3,n[a]<0&&(n[a]=0),0===n[a]&&(n.status="outoftime",n.winner="white"===n.turn?"black":"white")}}))})),l)}).reducer,_=Object(u.b)({name:"acceptSeekRequest",initialState:{inProcess:!1,itemId:null,error:null},reducers:{},extraReducers:(s={},Object(E.a)(s,h.c.type,(function(e,t){e.inProcess=!0,e.itemId=t.payload,e.error=null})),Object(E.a)(s,h.d.type,(function(e,t){e.inProcess=!1,e.itemId=null,e.error=null})),Object(E.a)(s,h.b.type,(function(e,t){e.inProcess=!1,e.itemId=t.payload.itemId,e.error=t.payload.error})),s)}).reducer,M=n(114),N=Object(d.c)({authModal:v.a,challengeAiModal:p.a,currentUser:b.a,gamesList:m.a,entities:C,singleGame:w.g,seekModal:g.a,seeksList:f.a,acceptSeekRequest:_,messages:M.a});var R=Object(u.a)({reducer:N});!function(){var e=n(255).default;c.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(i.a,{store:R},r.a.createElement(e,null))),document.getElementById("root"))}(),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},27:function(e,t,n){"use strict";var a=new(n(9).c.Entity)("users");t.a=a},31:function(e,t,n){"use strict";var a=n(180),r="rnbqkbnr/pppppppp/8/8/8/8/PPPPPPPP/RNBQKBNR w KQkq - 0 1";t.a=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=e.initialFen;"startpos"===n&&(n=r);var o=new a.Chess(n);return e.moves&&e.moves.split(" ").forEach((function(e,n){if(!(null!==t&&n>=t)&&!o.move(e,{sloppy:!0}))throw Error("incorrect move: ".concat(e))})),o}},35:function(e,t,n){"use strict";n.d(t,"d",(function(){return d})),n.d(t,"a",(function(){return m})),n.d(t,"e",(function(){return f})),n.d(t,"b",(function(){return b})),n.d(t,"c",(function(){return v})),n.d(t,"f",(function(){return p})),n.d(t,"g",(function(){return g}));var a=n(148),r=n(10),o=n(9),c=n(13),i=n(11),l=n(53),s=Object(r.b)({name:"dataSubscription",initialState:{},reducers:{updateGameBySubscription:function(e,t){},createGameBySubscription:function(e,t){},updateSeekBySubscription:function(e,t){},createSeekBySubscription:function(e,t){},removeSeekBySubscription:function(e,t){}},extraReducers:{}}),u=s.actions,d=u.updateGameBySubscription,m=u.createGameBySubscription,f=u.updateSeekBySubscription,b=u.createSeekBySubscription,v=u.removeSeekBySubscription,p=(s.reducer,function(){return function(e){c.a.socket.on("game",(function(t){if("updated"===t.verb){var n=Object(a.a)({},t.previous,{},t.data),r=Object(o.b)(n,i.a);e(d(r))}else if("created"===t.verb){var c=Object(o.b)(t.data,i.a);e(m(c))}}))}}),g=function(){return function(e){c.a.socket.on("seek",(function(t){if("updated"===t.verb){var n=Object(a.a)({},t.previous,{},t.data),r=Object(o.b)(n,l.a);e(f(r))}else if("created"===t.verb){var c=Object(o.b)(t.data,l.a);e(b(c))}else"destroyed"===t.verb&&e(v(t.id))}))}}},47:function(e,t,n){e.exports={colorSubmits:"CreateSeekForm_colorSubmits__1rtRc",colorSubmitsButton:"CreateSeekForm_colorSubmitsButton__2SUlU",whiteButton:"CreateSeekForm_whiteButton__2Jb8D",blackButton:"CreateSeekForm_blackButton__1J0eY",randomButton:"CreateSeekForm_randomButton__34hZ3",spinnerWrapper:"CreateSeekForm_spinnerWrapper__1uHk1",spinnerButton:"CreateSeekForm_spinnerButton__2VfoE"}},53:function(e,t,n){"use strict";var a=n(9),r=n(27),o=n(11),c=new a.c.Entity("seeks",{createdBy:r.a,game:o.a});t.a=c},59:function(e,t,n){e.exports={levelButtonGroup:"ChallengeAiForm_levelButtonGroup__1lnm_",colorSubmits:"ChallengeAiForm_colorSubmits__1pM28",colorSubmitsButton:"ChallengeAiForm_colorSubmitsButton__2P6Lx",whiteButton:"ChallengeAiForm_whiteButton__2nTjs",blackButton:"ChallengeAiForm_blackButton__1LVeL",randomButton:"ChallengeAiForm_randomButton__1S07l"}},76:function(e,t,n){e.exports={movesWrapper:"GameMoves_movesWrapper__2X9ck",moveNumber:"GameMoves_moveNumber__3tyZT",move:"GameMoves_move__21iOk",selected:"GameMoves_selected__2FXRO"}},78:function(e,t,n){"use strict";n.d(t,"c",(function(){return u})),n.d(t,"b",(function(){return m}));var a=n(10),r=n(9),o=n(13),c=n(11),i=Object(a.b)({name:"games",initialState:{isLoading:!0,error:null},reducers:{getGamesListRequest:function(e){e.isLoading=!0,e.error=null},getGamesListSuccess:function(e,t){e.isLoading=!1,e.error=null},getGamesListError:function(e,t){e.isLoading=!1,e.error=t.payload}}}),l=i.actions,s=l.getGamesListRequest,u=l.getGamesListSuccess,d=l.getGamesListError;t.a=i.reducer;var m=function(){return function(e){return e(s()),new Promise((function(t,n){o.a.socket.get("/game",(function(a,o){if(200===o.statusCode){var i=Object(r.b)(a,[c.a]);e(u(i)),t(a)}else e(d(a)),n(o)}))}))}}},79:function(e,t,n){"use strict";n.d(t,"c",(function(){return b})),n.d(t,"b",(function(){return p}));var a,r=n(8),o=n(10),c=n(50),i=n(9),l=n(13),s=n(53),u=n(35),d=Object(o.b)({name:"seeks",initialState:{isLoading:!0,error:null,items:[]},reducers:{getSeeksListRequest:function(e){e.isLoading=!0,e.error=null},getSeeksListSuccess:function(e,t){e.isLoading=!1,e.error=null,e.items=t.payload.result},getSeeksListError:function(e,t){e.isLoading=!1,e.error=t.payload,e.items=[]}},extraReducers:(a={},Object(r.a)(a,u.b.type,(function(e,t){e.items.includes(t.payload.result)||e.items.push(t.payload.result)})),Object(r.a)(a,u.e.type,(function(e,t){e.items.includes(t.payload.result)||e.items.push(t.payload.result)})),Object(r.a)(a,u.c.type,(function(e,t){Object(c.pull)(e.items,t.payload)})),a)}),m=d.actions,f=m.getSeeksListRequest,b=m.getSeeksListSuccess,v=m.getSeeksListError;t.a=d.reducer;var p=function(){return function(e){return e(f()),new Promise((function(t,n){l.a.socket.get("/seek",(function(a,r){if(200===r.statusCode){var o=Object(i.b)(a,[s.a]);e(b(o)),t(a)}else e(v(a)),n(r)}))}))}}},80:function(e,t,n){"use strict";n.d(t,"c",(function(){return s})),n.d(t,"b",(function(){return u}));var a,r=n(8),o=n(10),c=n(25),i=Object(o.b)({name:"authModal",initialState:{isAuthModalVisible:!1},reducers:{showAuthModal:function(e){e.isAuthModalVisible=!0},hideAuthModal:function(e){e.isAuthModalVisible=!1}},extraReducers:(a={},Object(r.a)(a,c.e.type,(function(e){e.isAuthModalVisible=!1})),Object(r.a)(a,c.h.type,(function(e){e.isAuthModalVisible=!1})),a)}),l=i.actions,s=l.showAuthModal,u=l.hideAuthModal;t.a=i.reducer},81:function(e,t,n){"use strict";n.d(t,"c",(function(){return l})),n.d(t,"b",(function(){return s}));var a=n(8),r=n(10),o=n(15),c=Object(r.b)({name:"challengeAiModal",initialState:{isChallengeAiModalVisible:!1},reducers:{showChallengeAiModal:function(e){e.isChallengeAiModalVisible=!0},hideChallengeAiModal:function(e){e.isChallengeAiModalVisible=!1}},extraReducers:Object(a.a)({},o.f.type,(function(e){e.isChallengeAiModalVisible=!1}))}),i=c.actions,l=i.showChallengeAiModal,s=i.hideChallengeAiModal;t.a=c.reducer},82:function(e,t,n){"use strict";n.d(t,"c",(function(){return s})),n.d(t,"b",(function(){return u}));var a,r=n(8),o=n(10),c=n(15),i=Object(o.b)({name:"seekModal",initialState:{isSeekModalVisible:!1,allowCloseSeekModal:!0},reducers:{showSeekModal:function(e){e.isSeekModalVisible=!0},hideSeekModal:function(e){e.isSeekModalVisible=!1}},extraReducers:(a={},Object(r.a)(a,c.i.type,(function(e){e.allowCloseSeekModal=!1})),Object(r.a)(a,c.j.type,(function(e){e.isSeekModalVisible=!1,e.allowCloseSeekModal=!0})),Object(r.a)(a,c.h.type,(function(e){e.allowCloseSeekModal=!0})),a)}),l=i.actions,s=l.showSeekModal,u=l.hideSeekModal;t.a=i.reducer}},[[199,1,2]]]);
//# sourceMappingURL=main.c50879df.chunk.js.map