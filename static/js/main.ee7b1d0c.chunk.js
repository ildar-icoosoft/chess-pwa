(this["webpackJsonpchess-pwa"]=this["webpackJsonpchess-pwa"]||[]).push([[0],{105:function(e,t,a){"use strict";a.d(t,"a",(function(){return o})),a.d(t,"b",(function(){return i}));var n=a(12),r=Object(n.b)({name:"gameClock",initialState:{},reducers:{oneSecondPassed:function(){}},extraReducers:{}}),o=r.actions.oneSecondPassed,i=(r.reducer,function(){return function(e){setInterval((function(){e(o())}),1e3)}})},11:function(e,t,a){"use strict";var n=a(7),r=a(30),o=new n.c.Entity("games",{white:r.a,black:r.a});t.a=o},128:function(e,t,a){e.exports={clock:"GameClock_clock__1XkXv",clockRun:"GameClock_clockRun__2zomt",clockEmerg:"GameClock_clockEmerg__1sFO2"}},129:function(e,t,a){e.exports={container:"GameControlPanelStatus_container__119WU",status:"GameControlPanelStatus_status__1IARo",result:"GameControlPanelStatus_result__3Qu_O"}},14:function(e,t,a){"use strict";a.d(t,"h",(function(){return c})),a.d(t,"k",(function(){return d})),a.d(t,"j",(function(){return f})),a.d(t,"p",(function(){return b})),a.d(t,"b",(function(){return p})),a.d(t,"o",(function(){return E})),a.d(t,"m",(function(){return k})),a.d(t,"d",(function(){return y})),a.d(t,"f",(function(){return R})),a.d(t,"i",(function(){return G})),a.d(t,"a",(function(){return _})),a.d(t,"n",(function(){return N})),a.d(t,"l",(function(){return I})),a.d(t,"c",(function(){return A})),a.d(t,"e",(function(){return B}));var n=a(12),r=a(7),o=a(17),i=a(11),c={isLoading:!0,error:null,isFlipped:!1,rewindToMoveIndex:null},l=Object(n.b)({name:"singleGame",initialState:{},reducers:{getSingleGameRequest:function(e,t){e[t.payload]=Object.assign({},c,e[t.payload],{isLoading:!0,error:null})},getSingleGameSuccess:function(e,t){e[t.payload.result]=Object.assign({},c,e[t.payload.result],{isLoading:!1,error:null})},getSingleGameError:function(e,t){e[t.payload.itemId]=Object.assign({},c,e[t.payload.itemId],{isLoading:!1,error:t.payload.error})},abortGameRequest:function(e,t){},abortGameSuccess:function(e,t){},abortGameError:function(e,t){},resignGameRequest:function(e,t){},resignGameSuccess:function(e,t){},resignGameError:function(e,t){},offerDrawRequest:function(e,t){},offerDrawSuccess:function(e,t){},offerDrawError:function(e,t){},acceptDrawOfferRequest:function(e,t){},acceptDrawOfferSuccess:function(e,t){},acceptDrawOfferError:function(e,t){},declineDrawOfferRequest:function(e,t){},declineDrawOfferSuccess:function(e,t){},declineDrawOfferError:function(e,t){},flipBoard:function(e,t){e[t.payload].isFlipped=!e[t.payload].isFlipped},rewindToMove:function(e,t){e[t.payload.gameId].rewindToMoveIndex=t.payload.moveIndex}},extraReducers:{}}),s=l.actions,u=s.getSingleGameRequest,d=s.getSingleGameSuccess,m=s.getSingleGameError,f=s.flipBoard,b=s.rewindToMove,v=s.abortGameRequest,p=s.abortGameSuccess,g=s.abortGameError,w=s.resignGameRequest,E=s.resignGameSuccess,h=s.resignGameError,O=s.offerDrawRequest,k=s.offerDrawSuccess,C=s.offerDrawError,j=s.acceptDrawOfferRequest,y=s.acceptDrawOfferSuccess,S=s.acceptDrawOfferError,M=s.declineDrawOfferRequest,R=s.declineDrawOfferSuccess,P=s.declineDrawOfferError;t.g=l.reducer;var G=function(e){return function(t){return t(u(e)),new Promise((function(a,n){o.a.socket.get("/game/".concat(e),(function(o,c){if(200===c.statusCode){var l=Object(r.b)(o,i.a);t(d(l)),a(o)}else t(m({itemId:e,error:o})),n(c)}))}))}},_=function(e){return function(t){return t(v(e)),new Promise((function(a,n){o.a.socket.post("/api/v1/board/game/".concat(e,"/abort"),(function(o,c){if(200===c.statusCode){var l=Object(r.b)(o,i.a);t(p(l)),a(o)}else t(g({itemId:e,error:o})),n(c)}))}))}},N=function(e){return function(t){return t(w(e)),new Promise((function(a,n){o.a.socket.post("/api/v1/board/game/".concat(e,"/resign"),(function(o,c){if(200===c.statusCode){var l=Object(r.b)(o,i.a);t(E(l)),a(o)}else t(h({itemId:e,error:o})),n(c)}))}))}},I=function(e){return function(t){return t(O(e)),new Promise((function(a,n){o.a.socket.post("/api/v1/board/game/".concat(e,"/draw/yes"),(function(o,c){if(200===c.statusCode){var l=Object(r.b)(o,i.a);t(k(l)),a(o)}else t(C({itemId:e,error:o})),n(c)}))}))}},A=function(e){return function(t){return t(j(e)),new Promise((function(a,n){o.a.socket.post("/api/v1/board/game/".concat(e,"/draw/yes"),(function(o,c){if(200===c.statusCode){var l=Object(r.b)(o,i.a);t(y(l)),a(o)}else t(S({itemId:e,error:o})),n(c)}))}))}},B=function(e){return function(t){return t(M(e)),new Promise((function(a,n){o.a.socket.post("/api/v1/board/game/".concat(e,"/draw/no"),(function(o,c){if(200===c.statusCode){var l=Object(r.b)(o,i.a);t(R(l)),a(o)}else t(P({itemId:e,error:o})),n(c)}))}))}}},141:function(e,t,a){e.exports={clockRun:"GamePreviewClock_clockRun__2fzqU"}},146:function(e,t,a){e.exports={controlPanel:"GameControlPanel_controlPanel__31q_E",controlPanelInner:"GameControlPanel_controlPanelInner__mVrde"}},17:function(e,t,a){"use strict";var n=a(169),r=a.n(n),o=a(170),i=a.n(o)()(r.a);i.sails.url="http://localhost:1337",t.a=i},173:function(e,t,a){e.exports={grid:"GamePreviewsList_grid__2iggX"}},174:function(e,t,a){e.exports={result:"GamePreviewResult_result__2DwMU"}},183:function(e,t,a){e.exports={userName:"GameControlPanelUserName_userName__3wRKP"}},184:function(e,t,a){e.exports={buttonsWrapper:"GameControlPanelTopToolbar_buttonsWrapper__TJIBo"}},185:function(e,t,a){e.exports={buttonsWrapper:"GameControlPanelBottomToolbar_buttonsWrapper__21ame"}},186:function(e,t,a){e.exports={singleGameBoard:"SingleGameBoard_singleGameBoard__2rYay"}},191:function(e,t,a){e.exports=a(251)},199:function(e,t,a){},228:function(e,t){},23:function(e,t,a){"use strict";a.d(t,"c",(function(){return u})),a.d(t,"e",(function(){return m})),a.d(t,"h",(function(){return f})),a.d(t,"b",(function(){return v})),a.d(t,"d",(function(){return p})),a.d(t,"g",(function(){return g})),a.d(t,"f",(function(){return w}));var n=a(12),r=a(7),o=a(17),i=a(30),c=Object(n.b)({name:"currentUser",initialState:{userId:null,isLoading:!0,error:null},reducers:{getCurrentUserRequest:function(e){e.isLoading=!0,e.error=null},getCurrentUserSuccess:function(e,t){e.userId=t.payload?t.payload.result:null,e.isLoading=!1,e.error=null},getCurrentUserError:function(e,t){e.isLoading=!1,e.error=t.payload},loginSuccess:function(e,t){e.userId=t.payload.result},registerSuccess:function(e,t){e.userId=t.payload.result},logoutSuccess:function(e){e.userId=null}}}),l=c.actions,s=l.getCurrentUserRequest,u=l.getCurrentUserSuccess,d=l.getCurrentUserError,m=l.loginSuccess,f=l.registerSuccess,b=l.logoutSuccess;t.a=c.reducer;var v=function(){return function(e){return e(s()),new Promise((function(t,a){o.a.socket.get("/api/v1/account/me",(function(n,o){if(200===o.statusCode){var c=Object(r.b)(n,i.a);e(u(c)),t(n)}else 401===o.statusCode?(e(u(null)),t(null)):(e(d(n)),a(o))}))}))}},p=function(e){return function(t){return new Promise((function(a,n){o.a.socket.put("/api/v1/entrance/login",{emailAddress:e.email,password:e.password},(function(e,o){if(200===o.statusCode){var c=Object(r.b)(e,i.a);t(m(c)),a(e)}else n(o)}))}))}},g=function(e){return function(t){return new Promise((function(a,n){o.a.socket.post("/api/v1/entrance/signup",{fullName:e.fullName,emailAddress:e.email,password:e.password,confirmPassword:e.password,agreed:!0},(function(e,o){if(200===o.statusCode){var c=Object(r.b)(e,i.a);t(f(c)),a(e)}else n(o)}))}))}},w=function(){return function(e){return new Promise((function(t,a){o.a.socket.post("/api/v1/account/logout",{},(function(n,r){200===r.statusCode?(e(b()),t()):a(r)}))}))}}},233:function(e,t,a){},247:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(54),i=a(15),c=a(8),l=(a(232),a(233),a(261)),s=a(7),u=a(173),d=a.n(u),m=a(20),f=a(28),b=a(96),v=a.n(b),p=function(e){var t=e.game,a=e.color,n=void 0===a?"white":a;return t?r.a.createElement("span",null,t[n]?t[n].fullName:"AI level ".concat(t.aiLevel)):null},g=a(174),w=a.n(g),E=function(e){var t=e.game,a=e.color,n=void 0===a?"white":a;if(!t)return null;var o="\xbd";return t.winner&&(o=t.winner===n?"1":"0"),r.a.createElement("span",{className:w.a.result},o)},h=a(9),O=a(107),k=a.n(O),C=a(4),j=a.n(C),y=a(141),S=a.n(y),M=function(e){var t=e.time,a=void 0===t?0:t,n=e.isRunning,o=void 0!==n&&n,i=k()().startOf("day").milliseconds(a).format("mm:ss");return r.a.createElement("div",{"data-testid":"time",className:j()(S.a.clock,Object(h.a)({},S.a.clockRun,o))},i)},R=function(e){var t=e.game;if(!t)return null;var a=Object(f.a)(t).fen();return r.a.createElement("div",{className:v.a.gamePreview},r.a.createElement("div",{className:v.a.player},r.a.createElement(p,{game:t,color:"black"}),"started"===t.status&&r.a.createElement(M,{time:t.btime,isRunning:"black"===t.turn}),"started"!==t.status&&"aborted"!==t.status&&r.a.createElement(E,{game:t,color:"black"})),r.a.createElement("div",{className:v.a.board},r.a.createElement(o.b,{to:"/game/".concat(t.id)},r.a.createElement(m.Board,{position:a,viewOnly:!1,width:240}))),r.a.createElement("div",{className:v.a.player},r.a.createElement(p,{game:t,color:"white"}),"started"===t.status&&r.a.createElement(M,{time:t.wtime,isRunning:"white"===t.turn}),"started"!==t.status&&"aborted"!==t.status&&r.a.createElement(E,{game:t,color:"white"})))},P=function(e){var t=e.games,a=void 0===t?[]:t;return r.a.createElement("div",{className:d.a.grid},a.map((function(e){return r.a.createElement(R,{game:e,key:e.id})})))},G=a(11),_=function(){var e=Object(c.c)((function(e){return Object(s.a)(Object.keys(e.entities.games),[G.a],e.entities).filter((function(e){return"started"===e.status})).sort((function(e,t){return t.createdAt-e.createdAt})).slice(0,9)}));return r.a.createElement(P,{games:e})},N=a(253),I=function(e){var t=e.onChallengeAi,a=Object(n.useCallback)((function(){t&&t()}),[t]);return r.a.createElement(N.a,{variant:"primary",onClick:a,"data-testid":"challenge-ai-btn"},"Play with the computer")},A=a(74),B=function(){var e=Object(c.b)(),t=Object(n.useCallback)((function(){e(Object(A.c)())}),[e]);return r.a.createElement(I,{onChallengeAi:t})},x=a(258),L=a(86),T=a(259),D=a(254),F=a(255),q=a(256),W=a(52),V=a.n(W),U=function(e){var t=e.onSubmit;return r.a.createElement(L.a,{initialValues:{level:3,color:"",clockLimit:300,clockIncrement:3},onSubmit:function(e){function t(t,a){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(e,a){if(t)return t(e,a)}))},(function(e){var t=e.values,a=e.handleChange,n=e.handleBlur,o=e.handleSubmit,i=e.isSubmitting,c=e.status,l=e.setStatus,s=e.setFieldValue;return r.a.createElement(T.a,{noValidate:!0,onSubmit:function(e){return o(e)},onChange:function(){return l("")}},!!c&&r.a.createElement(D.a,{variant:"danger"},c),r.a.createElement("fieldset",null,r.a.createElement(T.a.Group,null,r.a.createElement(T.a.Label,null,"Minutes per side: ",t.clockLimit/60),r.a.createElement(T.a.Control,{type:"range",name:"clockLimit",onBlur:n,value:t.clockLimit,onChange:a,min:"60",max:"1800",step:"60"})),r.a.createElement(T.a.Group,null,r.a.createElement(T.a.Label,null,"Increment in seconds: ",t.clockIncrement),r.a.createElement(T.a.Control,{type:"range",name:"clockIncrement",onBlur:n,value:t.clockIncrement,onChange:a,min:"0",max:"60"}))),r.a.createElement("div",{className:"text-center"},"Level"),r.a.createElement(F.a,null,r.a.createElement(q.a,{className:j()("mx-auto",V.a.levelButtonGroup)},[1,2,3,4].map((function(e){return r.a.createElement(N.a,{key:e,type:"button",variant:e===t.level?"dark":"light",onClick:function(){return s("level",e)}},e)})))),r.a.createElement("div",{className:"text-center"},"A.I. Level: ",t.level),r.a.createElement("div",{className:V.a.colorSubmits},r.a.createElement("button",{disabled:i,type:"submit",title:"Black",className:j()(V.a.colorSubmitsButton,V.a.blackButton),onClick:function(){return s("color","black")}},r.a.createElement("i",null)),r.a.createElement("button",{disabled:i,type:"submit",title:"Random side",className:j()(V.a.colorSubmitsButton,V.a.randomButton),onClick:function(){return s("color","random")}},r.a.createElement("i",null)),r.a.createElement("button",{disabled:i,type:"submit",title:"White",className:j()(V.a.colorSubmitsButton,V.a.whiteButton),onClick:function(){return s("color","white")}},r.a.createElement("i",null))))}))},H=a(75),K=function(){var e=Object(c.b)(),t=Object(i.f)(),a=Object(n.useCallback)((function(a,n){return e(Object(H.a)(a)).then((function(e){t.push("/game/".concat(e.id))})).catch((function(e){401===e.statusCode?n.setStatus("You must log in to play with computer"):n.setStatus("Internal server error")}))}),[e,t]);return r.a.createElement(U,{onSubmit:a})},X=function(e){var t=e.show,a=void 0!==t&&t,n=e.onHide;return r.a.createElement(x.a,{show:a,onHide:n,animation:!1},r.a.createElement(x.a.Header,{closeButton:!0},r.a.createElement(x.a.Title,null,"Play with the computer")),r.a.createElement(x.a.Body,null,r.a.createElement(K,null)))},Y=function(){var e=Object(c.c)((function(e){return e.challengeAiModal})).isChallengeAiModalVisible,t=Object(c.b)(),a=Object(n.useCallback)((function(){t(Object(A.b)())}),[t]);return r.a.createElement(X,{show:e,onHide:a})},J=function(){var e=Object(c.c)((function(e){return Object(s.a)(Object.keys(e.entities.games),[G.a],e.entities).filter((function(e){return"started"!==e.status&&"aborted"!==e.status})).sort((function(e,t){return t.createdAt-e.createdAt})).slice(0,9)}));return r.a.createElement(P,{games:e})},Q=function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(Y,null),r.a.createElement("div",{className:"d-flex justify-content-center"},r.a.createElement(B,null)),r.a.createElement(l.a,{className:"mb-3"},r.a.createElement(l.a.Body,null,r.a.createElement(l.a.Title,null,"Playing right now"),r.a.createElement(_,null))),r.a.createElement(l.a,null,r.a.createElement(l.a.Body,null,r.a.createElement(l.a.Title,null,"Finished"),r.a.createElement(J,null))))},z=function(e){if("outoftime"===e.status){if("white"===e.winner)return"Time out \u2022 White is victorious";if("black"===e.winner)return"Time out \u2022 Black is victorious"}if("resign"===e.status){if("black"===e.winner)return"White resigned \u2022 Black is victorious";if("white"===e.winner)return"Black resigned \u2022 White is victorious"}if("aborted"===e.status)return"Game aborted";if("mate"===e.status){if("white"===e.winner)return"Checkmate \u2022 White is victorious";if("black"===e.winner)return"Checkmate \u2022 Black is victorious"}return"draw"===e.status?"Draw":"stalemate"===e.status?"Stalemate":"Playing right now"},Z=function(e){var t=e.game;return t?r.a.createElement(l.a,null,r.a.createElement(l.a.Body,null,r.a.createElement("div",null,"Time Control:"," ",r.a.createElement("span",{"data-testid":"time-control"},t.clockLimit/60," + ",t.clockIncrement)),r.a.createElement("div",{"data-testid":"game-status",className:j()({"text-success":"started"===t.status,"text-danger":"started"!==t.status})},z(t)),r.a.createElement("div",{"data-testid":"white-user"},r.a.createElement("svg",{height:"18",width:"16",className:"mr-1"},r.a.createElement("circle",{cx:"9",cy:"9",r:"6",stroke:"black",strokeWidth:"1",fill:"#fff"})),t.white?t.white.fullName:"AI level ".concat(t.aiLevel)),r.a.createElement("div",{"data-testid":"black-user"},r.a.createElement("svg",{height:"18",width:"16",className:"mr-1"},r.a.createElement("circle",{cx:"8",cy:"8",r:"6",stroke:"black",strokeWidth:"1",fill:"#000"})),t.black?t.black.fullName:"AI level ".concat(t.aiLevel)))):null},$=function(e){var t=e.id,a=Object(c.c)((function(e){return Object(s.a)(t,G.a,e.entities)}));return a?r.a.createElement(Z,{game:a}):null},ee=a(146),te=a.n(ee),ae=a(128),ne=a.n(ae),re=function(e){var t,a=e.time,n=void 0===a?0:a,o=e.isRunning,i=void 0!==o&&o,c=k()().startOf("day").milliseconds(n).format("mm:ss");return r.a.createElement("div",{"data-testid":"time",className:j()(ne.a.clock,(t={},Object(h.a)(t,ne.a.clockRun,i),Object(h.a)(t,ne.a.clockEmerg,n<1e4),t))},c)},oe=a(104),ie=a(70),ce=a.n(ie),le=a(129),se=a.n(le),ue=function(e){var t=e.game;if(!t)return null;var a="\xbd-\xbd";return t.winner&&(a="white"===t.winner?"1-0":"0-1"),r.a.createElement("div",{className:se.a.container},r.a.createElement("div",{className:se.a.result,"data-testid":"game-result"},a),r.a.createElement("div",{className:se.a.status,"data-testid":"game-status"},z(t)))},de=function(e){return"".concat(e.from).concat(e.to)},me=function(e){var t=e.game,a=e.rewindToMoveIndex,n=void 0===a?null:a,o=e.onRewindToMove;if(!t)return null;var i=Object(f.a)(t).history({verbose:!0}),c=Object(oe.chunk)(i,2),l=function(e){return function(){o&&o(e)}};return r.a.createElement("div",{className:ce.a.movesWrapper},c.map((function(e,t){return r.a.createElement(r.a.Fragment,{key:"move-".concat(t)},r.a.createElement("div",{className:ce.a.moveNumber},t+1),r.a.createElement("div",{"data-testid":"move-".concat(2*t),onClick:l(2*t),role:"button",className:j()(ce.a.move,Object(h.a)({},ce.a.selected,n===2*t))},de(e[0])),e[1]&&r.a.createElement("div",{"data-testid":"move-".concat(2*t+1),onClick:l(2*t+1),role:"button",className:j()(ce.a.move,Object(h.a)({},ce.a.selected,n===2*t+1))},de(e[1])))})),"started"!==t.status&&r.a.createElement(ue,{game:t}))},fe=a(183),be=a.n(fe),ve=function(e){var t=e.game,a=e.color,n=void 0===a?"white":a;return t?r.a.createElement("div",{className:be.a.userName},t[n]?t[n].fullName:"AI level ".concat(t.aiLevel)):null},pe=a(45),ge=a(46),we=a(184),Ee=a.n(we),he=function(e){var t=e.isFirstMove,a=void 0!==t&&t,o=e.isLastMove,i=void 0!==o&&o,c=e.hasPrevMove,l=void 0!==c&&c,s=e.hasNextMove,u=void 0!==s&&s,d=e.onFlipBoard,m=e.onRewindToPrevMove,f=e.onRewindToNextMove,b=e.onRewindToFirstMove,v=e.onRewindToLastMove,p=Object(n.useCallback)((function(){d&&d()}),[d]),g=Object(n.useCallback)((function(){m&&m()}),[m]),w=Object(n.useCallback)((function(){f&&f()}),[f]),E=Object(n.useCallback)((function(){b&&b()}),[b]),h=Object(n.useCallback)((function(){v&&v()}),[v]);return r.a.createElement("div",{className:Ee.a.buttonsWrapper},r.a.createElement(N.a,{type:"button",variant:"link","data-testid":"flip-board-btn",onClick:p},r.a.createElement(pe.a,{icon:ge.g}),r.a.createElement("span",{className:"sr-only"},"Flip board")),r.a.createElement(N.a,{type:"button",variant:"link","data-testid":"rewind-to-first-move-btn",onClick:E,disabled:a},r.a.createElement(pe.a,{icon:ge.a}),r.a.createElement("span",{className:"sr-only"},"Rewind to first move")),r.a.createElement(N.a,{type:"button",variant:"link","data-testid":"rewind-to-prev-move-btn",onClick:g,disabled:!l},r.a.createElement(pe.a,{icon:ge.c}),r.a.createElement("span",{className:"sr-only"},"Rewind to prev move")),r.a.createElement(N.a,{type:"button",variant:"link","data-testid":"rewind-to-next-move-btn",onClick:w,disabled:!u},r.a.createElement(pe.a,{icon:ge.d}),r.a.createElement("span",{className:"sr-only"},"Rewind to next move")),r.a.createElement(N.a,{type:"button",variant:"link","data-testid":"rewind-to-last-move-btn",onClick:h,disabled:i},r.a.createElement(pe.a,{icon:ge.b}),r.a.createElement("span",{className:"sr-only"},"Rewind to last move")))},Oe=a(185),ke=a.n(Oe),Ce=function(e){var t=e.canAbortGame,a=void 0!==t&&t,o=e.canOfferDraw,i=void 0!==o&&o,c=e.canResignGame,l=void 0!==c&&c,s=e.onAbortGame,u=e.onOfferDraw,d=e.onResignGame,m=Object(n.useCallback)((function(){s&&s()}),[s]),f=Object(n.useCallback)((function(){u&&u()}),[u]),b=Object(n.useCallback)((function(){d&&d()}),[d]);return r.a.createElement("div",{className:ke.a.buttonsWrapper},r.a.createElement(N.a,{type:"button",variant:"link","data-testid":"abort-game-btn",onClick:m,disabled:!a},r.a.createElement(pe.a,{icon:ge.h}),r.a.createElement("span",{className:"sr-only"},"Abort")),r.a.createElement(N.a,{type:"button",variant:"link","data-testid":"offer-draw-btn",onClick:f,disabled:!i},r.a.createElement(pe.a,{icon:ge.f}),r.a.createElement("span",{className:"sr-only"},"Offer a draw")),r.a.createElement(N.a,{type:"button",variant:"link","data-testid":"resign-game-btn",onClick:b,disabled:!l},r.a.createElement(pe.a,{icon:ge.e}),r.a.createElement("span",{className:"sr-only"},"Resign")))},je=function(e){var t=e.onAccept,a=e.onDecline,o=Object(n.useCallback)((function(){t&&t()}),[t]),i=Object(n.useCallback)((function(){a&&a()}),[a]);return r.a.createElement("div",null,r.a.createElement("button",{type:"button","data-testid":"accept-btn",onClick:o},"Accept"),r.a.createElement("button",{type:"button","data-testid":"decline-btn",onClick:i},"Decline"))},ye=function(e){var t=e.game,a=e.orientation,n=void 0===a?"white":a,o=e.rewindToMoveIndex,i=void 0===o?null:o,c=e.canAbortGame,l=void 0!==c&&c,s=e.canOfferDraw,u=void 0!==s&&s,d=e.canResignGame,m=void 0!==d&&d,b=e.drawOfferSentByCurrentUser,v=void 0!==b&&b,p=e.drawOfferSentByOpponent,g=void 0!==p&&p,w=e.onAcceptDrawOffer,E=e.onDeclineDrawOffer,h=e.onRewindToMove,O=e.onFlipBoard,k=e.onRewindToPrevMove,C=e.onRewindToNextMove,j=e.onRewindToFirstMove,y=e.onRewindToLastMove,S=e.onAbortGame,M=e.onOfferDraw,R=e.onResignGame;if(!t)return null;var P=Object(f.a)(t).history(),G=P.length<=1||0===i,_=null===i,N=P.length>1&&0!==i,I=null!==i;return r.a.createElement("div",{className:te.a.controlPanel},r.a.createElement(re,{time:"white"===n?t.btime:t.wtime,isRunning:t.turn!==n}),r.a.createElement("div",{className:te.a.controlPanelInner},r.a.createElement(ve,{game:t,color:"white"===n?"black":"white"}),r.a.createElement(he,{isFirstMove:G,isLastMove:_,hasPrevMove:N,hasNextMove:I,onFlipBoard:O,onRewindToPrevMove:k,onRewindToNextMove:C,onRewindToFirstMove:j,onRewindToLastMove:y}),r.a.createElement(me,{game:t,rewindToMoveIndex:i,onRewindToMove:h}),g&&r.a.createElement(je,{onAccept:w,onDecline:E}),v&&r.a.createElement("div",{"data-testid":"draw-offer-sent-message"},"Draw offer sent"),r.a.createElement(Ce,{canAbortGame:l,canOfferDraw:u,canResignGame:m,onAbortGame:S,onOfferDraw:M,onResignGame:R}),r.a.createElement(ve,{game:t,color:"white"===n?"white":"black"})),r.a.createElement(re,{time:"white"===n?t.wtime:t.btime,isRunning:t.turn===n}))},Se=function(e){var t,a,n,o,i,c,l,s,u,d,b,v=e.game,p=e.currentUser,g=e.isFlipped,w=void 0!==g&&g,E=e.rewindToMoveIndex,h=void 0===E?null:E,O=e.onFlipBoard,k=e.onAcceptDrawOffer,C=e.onDeclineDrawOffer,j=e.onAbortGame,y=e.onOfferDraw,S=e.onResignGame,M=e.onRewindToMove;if(!v)return null;var R=Object(f.a)(v).history({verbose:!0}),P=m.PieceColor.WHITE;p&&p.id===(null===(t=v.black)||void 0===t?void 0:t.id)&&(P=m.PieceColor.BLACK),w&&(P=P===m.PieceColor.WHITE?m.PieceColor.BLACK:m.PieceColor.WHITE);var G,_,N=null;p&&(p.id===(null===(G=v.white)||void 0===G?void 0:G.id)?N="white":p.id===(null===(_=v.black)||void 0===_?void 0:_.id)&&(N="black"));var I=!1;!p||p.id!==(null===(a=v.white)||void 0===a?void 0:a.id)&&p.id!==(null===(n=v.black)||void 0===n?void 0:n.id)||"started"!==v.status||v.drawOffer!==N||(I=!0);var A=!1;!p||p.id!==(null===(o=v.white)||void 0===o?void 0:o.id)&&p.id!==(null===(i=v.black)||void 0===i?void 0:i.id)||"started"!==v.status||null===v.drawOffer||v.drawOffer===N||(A=!0);var B=!1;p&&(p.id===(null===(c=v.white)||void 0===c?void 0:c.id)||p.id===(null===(l=v.black)||void 0===l?void 0:l.id))&&"started"===v.status&&R.length<2&&(B=!0);var x=!1;p&&(p.id===(null===(s=v.white)||void 0===s?void 0:s.id)||p.id===(null===(u=v.black)||void 0===u?void 0:u.id))&&"started"===v.status&&R.length>1&&(x=!0);var L=!1;p&&(p.id===(null===(d=v.white)||void 0===d?void 0:d.id)||p.id===(null===(b=v.black)||void 0===b?void 0:b.id))&&null===v.drawOffer&&0===v.aiLevel&&"started"===v.status&&R.length>1&&(L=!0);return r.a.createElement(ye,{game:v,orientation:P,rewindToMoveIndex:h,canAbortGame:B,canResignGame:x,canOfferDraw:L,drawOfferSentByCurrentUser:I,drawOfferSentByOpponent:A,onAcceptDrawOffer:k,onDeclineDrawOffer:C,onFlipBoard:O,onAbortGame:j,onOfferDraw:y,onResignGame:S,onRewindToMove:function(e){M&&(e===R.length-1?M(null):M(e))},onRewindToFirstMove:function(){M&&M(0)},onRewindToLastMove:function(){M&&M(null)},onRewindToPrevMove:function(){M&&M(null===h?R.length-2:h-1)},onRewindToNextMove:function(){M&&(h===R.length-2?M(null):M(h+1))}})},Me=a(30),Re=a(14),Pe=function(e){var t=e.id,a=Object(c.b)(),o=Object(c.c)((function(e){return Object(s.a)(t,G.a,e.entities)})),i=Object(c.c)((function(e){return e.singleGame[t]}))||Re.h,l=Object(c.c)((function(e){if(e.currentUser.userId)return Object(s.a)(e.currentUser.userId,Me.a,e.entities)})),u=Object(n.useCallback)((function(){a(Object(Re.j)(t))}),[a,t]),d=Object(n.useCallback)((function(){a(Object(Re.a)(t))}),[a,t]),m=Object(n.useCallback)((function(){a(Object(Re.c)(t))}),[a,t]),f=Object(n.useCallback)((function(){a(Object(Re.e)(t))}),[a,t]),b=Object(n.useCallback)((function(){a(Object(Re.n)(t))}),[a,t]),v=Object(n.useCallback)((function(){a(Object(Re.l)(t))}),[a,t]),p=Object(n.useCallback)((function(e){a(Object(Re.p)({moveIndex:e,gameId:t}))}),[a,t]);return o?r.a.createElement(Se,{game:o,currentUser:l,isFlipped:i.isFlipped,rewindToMoveIndex:i.rewindToMoveIndex,onFlipBoard:u,onAbortGame:d,onAcceptDrawOffer:m,onDeclineDrawOffer:f,onOfferDraw:v,onResignGame:b,onRewindToMove:p}):null},Ge=a(186),_e=a.n(Ge),Ne=function(e){var t,a,n,o,i,c=e.currentUser,l=e.game,s=e.isFlipped,u=void 0!==s&&s,d=e.onMove,b=e.rewindToMoveIndex,v=void 0===b?null:b;if(!l)return null;var p,g=Object(f.a)(l),w=null===v?g:Object(f.a)(l,v),E=w.fen(),h=w.in_check(),O="white"===l.turn?m.PieceColor.WHITE:m.PieceColor.BLACK,k=Object(m.getValidMoves)(w),C=!0;!c||c.id!==(null===(t=l.white)||void 0===t?void 0:t.id)&&c.id!==(null===(a=l.black)||void 0===a?void 0:a.id)||"started"!==l.status||null!==v||(C=!1),c&&c.id===(null===(n=l.white)||void 0===n?void 0:n.id)&&(p=m.PieceColor.WHITE),c&&c.id===(null===(o=l.black)||void 0===o?void 0:o.id)&&(p=m.PieceColor.BLACK);var j=m.PieceColor.WHITE;c&&c.id===(null===(i=l.black)||void 0===i?void 0:i.id)&&(j=m.PieceColor.BLACK),u&&(j=j===m.PieceColor.WHITE?m.PieceColor.BLACK:m.PieceColor.WHITE);var y,S=g.history({verbose:!0});if(null===v){if(S.length){var M=S[S.length-1];y=[M.from,M.to]}}else{var R=S[v];y=[R.from,R.to]}return r.a.createElement("div",{className:_e.a.singleGameBoard},r.a.createElement(m.Board,{allowMarkers:!0,check:h,clickable:!0,draggable:!0,lastMoveSquares:y,movableColor:p,onMove:d,orientation:j,position:E,turnColor:O,validMoves:k,viewOnly:C}))},Ie=a(93),Ae=function(e){var t=e.id,a=Object(c.b)(),o=Object(c.c)((function(e){return Object(s.a)(t,G.a,e.entities)})),i=Object(c.c)((function(e){if(e.currentUser.userId)return Object(s.a)(e.currentUser.userId,Me.a,e.entities)})),l=Object(c.c)((function(e){return e.singleGame[t]}))||Re.h,u=Object(n.useCallback)((function(e){a(Object(Ie.a)(t,"".concat(e.from).concat(e.to)))}),[a,t]);return o?r.a.createElement(Ne,{game:o,currentUser:i,isFlipped:l.isFlipped,rewindToMoveIndex:l.rewindToMoveIndex,onMove:u}):null},Be=function(){var e=Object(c.b)(),t=Object(i.g)().id,a=Number(t);return Object(n.useEffect)((function(){e(Object(Re.i)(a))}),[e,a]),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-3"},r.a.createElement($,{id:a})),r.a.createElement("div",{className:"col-6"},r.a.createElement(Ae,{id:a})),r.a.createElement("div",{className:"col-3"},r.a.createElement(Pe,{id:a})))},xe=a(23),Le=a(92),Te=a(105),De=function(e){var t=e.currentUser,a=void 0===t?null:t,i=e.onLogout,c=e.onShowAuthModal,l=Object(n.useCallback)((function(){i&&i()}),[i]),s=Object(n.useCallback)((function(){c&&c()}),[c]);return r.a.createElement("header",{className:"d-flex flex-column flex-md-row align-items-center p-3 px-md-4 mb-3 bg-white border-bottom box-shadow"},r.a.createElement("div",{className:"offset-4 col-4 text-center"},r.a.createElement(o.b,{className:"blog-header-logo text-dark",to:"/"},"Chess PWA")),r.a.createElement("div",{className:"col-4 d-flex justify-content-end align-items-center"},a?r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"mr-3"},"Hi, ",a.fullName),r.a.createElement(N.a,{className:"btn btn-sm btn-danger mr-3","data-testid":"logout-btn",onClick:l},"Logout")):r.a.createElement(N.a,{className:"btn btn-sm btn-success mr-3","data-testid":"login-btn",onClick:s},"Login / Register"),r.a.createElement("a",{href:"https://github.com/ildar-icoosoft/chess-pwa",target:"_blank",rel:"noopener noreferrer"},r.a.createElement("img",{src:"".concat("/chess-pwa","/imgs/GitHub-Mark-32px.png"),alt:""}))))},Fe=a(73),qe=function(){var e=Object(c.c)((function(e){return e.currentUser.userId?Object(s.a)(e.currentUser.userId,Me.a,e.entities):null})),t=Object(c.b)(),a=Object(n.useCallback)((function(){t(Object(xe.f)())}),[t]),o=Object(n.useCallback)((function(){t(Object(Fe.c)())}),[t]);return r.a.createElement(De,{currentUser:e,onLogout:a,onShowAuthModal:o})},We=a(260),Ve=a(257),Ue=a(42),He=Ue.a().shape({email:Ue.c().email("Invalid email").required("Required"),password:Ue.c().min(6,"Password length must be >= 6").required("Required")}),Ke=function(e){var t=e.onSubmit;return r.a.createElement(L.a,{initialValues:{email:"",password:""},validationSchema:He,onSubmit:function(e){function t(t,a){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(e,a){if(t)return t(e,a)}))},(function(e){var t=e.errors,a=e.values,n=e.touched,o=e.handleChange,i=e.handleBlur,c=e.handleSubmit,l=e.isSubmitting,s=e.status,u=e.setStatus;return r.a.createElement(T.a,{noValidate:!0,onSubmit:function(e){return c(e)},onChange:function(){return u("")}},!!s&&r.a.createElement(D.a,{variant:"danger"},s),r.a.createElement(T.a.Group,null,r.a.createElement(T.a.Label,null,"Email address"),r.a.createElement(T.a.Control,{type:"email",name:"email",placeholder:"Enter email",onBlur:i,value:a.email,onChange:o,isValid:n.email&&!t.email,isInvalid:n.email&&!!t.email}),r.a.createElement(T.a.Control.Feedback,{type:"invalid"},t.email)),r.a.createElement(T.a.Group,null,r.a.createElement(T.a.Label,null,"Password"),r.a.createElement(T.a.Control,{type:"password",name:"password",placeholder:"Password",onChange:o,onBlur:i,value:a.password,isValid:n.password&&!t.password,isInvalid:n.password&&!!t.password}),r.a.createElement(T.a.Control.Feedback,{type:"invalid"},t.password)),r.a.createElement(N.a,{variant:"primary",type:"submit",disabled:l},"Login"))}))},Xe=Ue.a().shape({fullName:Ue.c().required("Required"),email:Ue.c().email("Invalid email").required("Required"),password:Ue.c().min(6,"Password length must be >= 6").required("Required"),confirmPassword:Ue.c().equals([Ue.b("password")],"Please repeat the password").required("Required")}),Ye=function(e){var t=e.onSubmit;return r.a.createElement(L.a,{initialValues:{fullName:"",email:"",password:"",confirmPassword:""},validationSchema:Xe,onSubmit:function(e){function t(t,a){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(e,a){if(t)return t(e,a)}))},(function(e){var t=e.errors,a=e.values,n=e.touched,o=e.handleChange,i=e.handleBlur,c=e.handleSubmit,l=e.isSubmitting,s=e.status,u=e.setStatus;return r.a.createElement(T.a,{noValidate:!0,onSubmit:function(e){return c(e)},onChange:function(){return u("")}},!!s&&r.a.createElement(D.a,{variant:"danger"},s),r.a.createElement(T.a.Group,null,r.a.createElement(T.a.Label,null,"Full name"),r.a.createElement(T.a.Control,{type:"text",name:"fullName",placeholder:"Enter full name",onBlur:i,value:a.fullName,onChange:o,isValid:n.fullName&&!t.fullName,isInvalid:n.fullName&&!!t.fullName}),r.a.createElement(T.a.Control.Feedback,{type:"invalid"},t.fullName)),r.a.createElement(T.a.Group,null,r.a.createElement(T.a.Label,null,"Email address"),r.a.createElement(T.a.Control,{type:"email",name:"email",placeholder:"Enter email",onBlur:i,value:a.email,onChange:o,isValid:n.email&&!t.email,isInvalid:n.email&&!!t.email}),r.a.createElement(T.a.Control.Feedback,{type:"invalid"},t.email)),r.a.createElement(T.a.Group,null,r.a.createElement(T.a.Label,null,"Password"),r.a.createElement(T.a.Control,{type:"password",name:"password",placeholder:"Password",onChange:o,onBlur:i,value:a.password,isValid:n.password&&!t.password,isInvalid:n.password&&!!t.password}),r.a.createElement(T.a.Control.Feedback,{type:"invalid"},t.password)),r.a.createElement(T.a.Group,null,r.a.createElement(T.a.Label,null,"Confirm Password"),r.a.createElement(T.a.Control,{type:"password",name:"confirmPassword",placeholder:"Password",onChange:o,onBlur:i,value:a.confirmPassword,isValid:n.confirmPassword&&!t.confirmPassword,isInvalid:n.confirmPassword&&!!t.confirmPassword}),r.a.createElement(T.a.Control.Feedback,{type:"invalid"},t.confirmPassword)),r.a.createElement(N.a,{variant:"primary",type:"submit",disabled:l},"Register"))}))},Je=function(){var e=Object(c.b)(),t=r.a.useCallback((function(t,a){return e(Object(xe.d)(t)).catch((function(e){401===e.statusCode?a.setStatus("Incorrect email or password"):a.setStatus("Internal server error")}))}),[e]),a=r.a.useCallback((function(t,a){return e(Object(xe.g)({fullName:t.fullName,email:t.email,password:t.password})).catch((function(e){409===e.statusCode?a.setStatus("The provided email address is already in use"):a.setStatus("Internal server error")}))}),[e]);return r.a.createElement(We.a,{transition:!1},r.a.createElement(Ve.a,{eventKey:"home",title:"Login"},r.a.createElement(Ke,{onSubmit:t})),r.a.createElement(Ve.a,{eventKey:"profile",title:"Register"},r.a.createElement(Ye,{onSubmit:a})))},Qe=function(e){var t=e.show,a=void 0!==t&&t,n=e.onHide;return r.a.createElement("div",null,r.a.createElement(x.a,{show:a,onHide:n,animation:!1},r.a.createElement(x.a.Header,{closeButton:!0},r.a.createElement(x.a.Title,null,"Login")),r.a.createElement(x.a.Body,null,r.a.createElement(Je,null))))},ze=function(){var e=Object(c.c)((function(e){return e.authModal})).isAuthModalVisible,t=Object(c.b)(),a=Object(n.useCallback)((function(){t(Object(Fe.b)())}),[t]);return r.a.createElement(Qe,{show:e,onHide:a})},Ze=a(72);t.default=function(){var e=Object(c.b)();return Object(n.useEffect)((function(){e(Object(xe.b)()),e(Object(Le.c)()),e(Object(Te.b)()),e(Object(Ze.b)())}),[e]),r.a.createElement("div",{className:"container-fluid"},r.a.createElement(o.a,null,r.a.createElement(qe,null),r.a.createElement(ze,null),r.a.createElement(i.c,null,r.a.createElement(i.a,{path:"/game/:id"},r.a.createElement(Be,null)),r.a.createElement(i.a,{path:"/"},r.a.createElement(Q,null)))))}},251:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(26),i=a.n(o),c=a(8);a(199),Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var l,s=a(12),u=a(29),d=a(72),m=a(23),f=a(73),b=a(74),v=a(9),p=a(14),g=a(75),w=a(105),E=a(92),h=a(93),O=a(28),k=function(e,t){Object.assign(e.users,t.payload.entities.users),Object.assign(e.games,t.payload.entities.games)},C=Object(s.b)({name:"entities",initialState:{users:{},games:{}},reducers:{},extraReducers:(l={},Object(v.a)(l,m.c.type,(function(e,t){t.payload&&k(e,{type:t.type,payload:t.payload})})),Object(v.a)(l,m.e.type,k),Object(v.a)(l,m.h.type,k),Object(v.a)(l,d.c.type,k),Object(v.a)(l,p.k.type,k),Object(v.a)(l,p.b.type,k),Object(v.a)(l,p.o.type,k),Object(v.a)(l,p.m.type,k),Object(v.a)(l,p.d.type,k),Object(v.a)(l,p.f.type,k),Object(v.a)(l,g.b.type,k),Object(v.a)(l,E.b.type,k),Object(v.a)(l,E.a.type,k),Object(v.a)(l,h.b.type,(function(e,t){e.games[t.payload.gameId].turn="white"===e.games[t.payload.gameId].turn?"black":"white",e.games[t.payload.gameId].moves="".concat(e.games[t.payload.gameId].moves," ").concat(t.payload.move).trim()})),Object(v.a)(l,h.c.type,k),Object(v.a)(l,w.a.type,(function(e){Object.keys(e.games).forEach((function(t){var a=e.games[t];if("started"===a.status&&Object(O.a)(a).history().length>1){var n="white"===a.turn?"wtime":"btime";a[n]-=1e3,a[n]<0&&(a[n]=0),0===a[n]&&(a.status="outoftime",a.winner="white"===a.turn?"black":"white")}}))})),l)}).reducer,j=Object(u.c)({authModal:f.a,challengeAiModal:b.a,currentUser:m.a,gamesList:d.a,entities:C,singleGame:p.g});var y=Object(s.a)({reducer:j});!function(){var e=a(247).default;i.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(c.a,{store:y},r.a.createElement(e,null))),document.getElementById("root"))}(),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},28:function(e,t,a){"use strict";var n=a(172),r="rnbqkbnr/pppppppp/8/8/8/8/PPPPPPPP/RNBQKBNR w KQkq - 0 1";t.a=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,a=e.initialFen;"startpos"===a&&(a=r);var o=new n.Chess(a);return e.moves&&e.moves.split(" ").forEach((function(e,a){if(!(null!==t&&a>t)&&!o.move(e,{sloppy:!0}))throw Error("incorrect move: ".concat(e))})),o}},30:function(e,t,a){"use strict";var n=new(a(7).c.Entity)("users");t.a=n},52:function(e,t,a){e.exports={levelButtonGroup:"ChallengeAiForm_levelButtonGroup__1lnm_",colorSubmits:"ChallengeAiForm_colorSubmits__1pM28",colorSubmitsButton:"ChallengeAiForm_colorSubmitsButton__2P6Lx",whiteButton:"ChallengeAiForm_whiteButton__2nTjs",blackButton:"ChallengeAiForm_blackButton__1LVeL",randomButton:"ChallengeAiForm_randomButton__1S07l"}},70:function(e,t,a){e.exports={movesWrapper:"GameMoves_movesWrapper__2X9ck",moveNumber:"GameMoves_moveNumber__3tyZT",move:"GameMoves_move__21iOk",selected:"GameMoves_selected__2FXRO"}},72:function(e,t,a){"use strict";a.d(t,"c",(function(){return u})),a.d(t,"b",(function(){return m}));var n=a(12),r=a(7),o=a(17),i=a(11),c=Object(n.b)({name:"games",initialState:{isLoading:!0,error:null},reducers:{getGamesListRequest:function(e){e.isLoading=!0,e.error=null},getGamesListSuccess:function(e,t){e.isLoading=!1,e.error=null},getGamesListError:function(e,t){e.isLoading=!1,e.error=t.payload}}}),l=c.actions,s=l.getGamesListRequest,u=l.getGamesListSuccess,d=l.getGamesListError;t.a=c.reducer;var m=function(){return function(e){return e(s()),new Promise((function(t,a){o.a.socket.get("/game",(function(n,o){if(200===o.statusCode){var c=Object(r.b)(n,[i.a]);e(u(c)),t(n)}else e(d(n)),a(o)}))}))}}},73:function(e,t,a){"use strict";a.d(t,"c",(function(){return s})),a.d(t,"b",(function(){return u}));var n,r=a(9),o=a(12),i=a(23),c=Object(o.b)({name:"authModal",initialState:{isAuthModalVisible:!1},reducers:{showAuthModal:function(e){e.isAuthModalVisible=!0},hideAuthModal:function(e){e.isAuthModalVisible=!1}},extraReducers:(n={},Object(r.a)(n,i.e.type,(function(e){e.isAuthModalVisible=!1})),Object(r.a)(n,i.h.type,(function(e){e.isAuthModalVisible=!1})),n)}),l=c.actions,s=l.showAuthModal,u=l.hideAuthModal;t.a=c.reducer},74:function(e,t,a){"use strict";a.d(t,"c",(function(){return l})),a.d(t,"b",(function(){return s}));var n=a(9),r=a(12),o=a(75),i=Object(r.b)({name:"challengeAiModal",initialState:{isChallengeAiModalVisible:!1},reducers:{showChallengeAiModal:function(e){e.isChallengeAiModalVisible=!0},hideChallengeAiModal:function(e){e.isChallengeAiModalVisible=!1}},extraReducers:Object(n.a)({},o.b.type,(function(e){e.isChallengeAiModalVisible=!1}))}),c=i.actions,l=c.showChallengeAiModal,s=c.hideChallengeAiModal;t.a=i.reducer},75:function(e,t,a){"use strict";a.d(t,"b",(function(){return u})),a.d(t,"a",(function(){return m}));var n=a(12),r=a(7),o=a(17),i=a(11),c=Object(n.b)({name:"challenge",initialState:{},reducers:{challengeAiRequest:function(){},challengeAiSuccess:function(e,t){},challengeAiError:function(e,t){}},extraReducers:{}}),l=c.actions,s=l.challengeAiRequest,u=l.challengeAiSuccess,d=l.challengeAiError,m=(c.reducer,function(e){return function(t){return t(s()),new Promise((function(a,n){o.a.socket.post("/api/v1/challenge/ai",e,(function(e,o){if(200===o.statusCode){var c=Object(r.b)(e,i.a);t(u(c)),a(e)}else t(d(e)),n(o)}))}))}})},92:function(e,t,a){"use strict";a.d(t,"b",(function(){return u})),a.d(t,"a",(function(){return d})),a.d(t,"c",(function(){return m}));var n=a(171),r=a(12),o=a(7),i=a(17),c=a(11),l=Object(r.b)({name:"dataSubscription",initialState:{},reducers:{updateGameBySubscription:function(e,t){},createGameBySubscription:function(e,t){}},extraReducers:{}}),s=l.actions,u=s.updateGameBySubscription,d=s.createGameBySubscription,m=(l.reducer,function(){return function(e){i.a.socket.on("game",(function(t){if("updated"===t.verb){var a=Object(n.a)({},t.previous,{},t.data),r=Object(o.b)(a,c.a);e(u(r))}else if("created"===t.verb){var i=Object(o.b)(t.data,c.a);e(d(i))}}))}})},93:function(e,t,a){"use strict";a.d(t,"b",(function(){return s})),a.d(t,"c",(function(){return u})),a.d(t,"a",(function(){return m}));var n=a(12),r=a(7),o=a(17),i=a(11),c=Object(n.b)({name:"move",initialState:{},reducers:{makeMoveRequest:function(e,t){},makeMoveSuccess:function(e,t){},makeMoveError:function(e,t){}},extraReducers:{}}),l=c.actions,s=l.makeMoveRequest,u=l.makeMoveSuccess,d=l.makeMoveError,m=(c.reducer,function(e,t){return function(a){return a(s({gameId:e,move:t})),new Promise((function(n,c){o.a.socket.post("/api/v1/board/game/".concat(e,"/move/").concat(t),{},(function(e,t){if(200===t.statusCode){var o=Object(r.b)(e,i.a);a(u(o)),n(e)}else a(d(e)),c(t)}))}))}})},96:function(e,t,a){e.exports={gamePreview:"GamePreviewsListItem_gamePreview__wYvMw",player:"GamePreviewsListItem_player__1GbNi",board:"GamePreviewsListItem_board__2y4Yc"}}},[[191,1,2]]]);
//# sourceMappingURL=main.ee7b1d0c.chunk.js.map