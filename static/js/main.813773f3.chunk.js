(this["webpackJsonpchess-pwa"]=this["webpackJsonpchess-pwa"]||[]).push([[0],{104:function(e,t,n){e.exports={gamePreview:"GamePreviewsListItem_gamePreview__wYvMw",player:"GamePreviewsListItem_player__1GbNi",board:"GamePreviewsListItem_board__2y4Yc"}},105:function(e,t,n){e.exports={gameIsStarted:"SeeksListItem_gameIsStarted__3-Jpp",colorIcon:"SeeksListItem_colorIcon__12bXP"}},106:function(e,t,n){e.exports={dialogWrapper:"DrawOfferDialog_dialogWrapper__38JK5",acceptBtn:"DrawOfferDialog_acceptBtn__1kykG",declineBtn:"DrawOfferDialog_declineBtn__3Umym",dialogText:"DrawOfferDialog_dialogText__1yBxj"}},11:function(e,t,n){"use strict";var a=n(9),r=n(28),o=new a.c.Entity("games",{white:r.a,black:r.a});t.a=o},114:function(e,t,n){"use strict";n.d(t,"a",(function(){return o})),n.d(t,"b",(function(){return c}));var a=n(10),r=Object(a.b)({name:"gameClock",initialState:{},reducers:{oneSecondPassed:function(){}},extraReducers:{}}),o=r.actions.oneSecondPassed,c=(r.reducer,function(){return function(e){setInterval((function(){e(o())}),1e3)}})},115:function(e,t,n){"use strict";n.d(t,"b",(function(){return f}));var a,r=n(6),o=n(10),c=n(51),i=n(17),l=n(73),u=n(23),s=n(15),d=Object(o.b)({name:"messages",initialState:[],reducers:{showMessage:function(e,t){e.push(t.payload)},hideMessage:function(e,t){Object(c.pullAllBy)(e,[{id:t.payload}],"id")}},extraReducers:(a={},Object(r.a)(a,i.b.type,(function(e,t){e.push({id:"acceptSeekError",body:t.payload.error})})),Object(r.a)(a,l.b.type,(function(e,t){e.push({id:"makeMoveError",body:t.payload})})),Object(r.a)(a,u.c.type,(function(e,t){e.push({id:"getCurrentUserError",body:t.payload})})),Object(r.a)(a,u.h.type,(function(e,t){e.push({id:"logoutError",body:t.payload})})),Object(r.a)(a,s.b.type,(function(e,t){e.push({id:"abortGameError",body:t.payload.error})})),Object(r.a)(a,s.s.type,(function(e,t){e.push({id:"resignGameError",body:t.payload.error})})),Object(r.a)(a,s.p.type,(function(e,t){e.push({id:"offerDrawError",body:t.payload.error})})),Object(r.a)(a,s.e.type,(function(e,t){e.push({id:"acceptDrawOfferError",body:t.payload.error})})),Object(r.a)(a,s.h.type,(function(e,t){e.push({id:"declineDrawOfferError",body:t.payload.error})})),a)}),m=d.actions,f=(m.showMessage,m.hideMessage);t.a=d.reducer},13:function(e,t,n){"use strict";var a=n(51);t.a=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"Internal server error";return e.headers["X-Exit-Description"]?e.headers["X-Exit-Description"]:Object(a.isString)(e.body)?e.body:t}},137:function(e,t,n){e.exports={clock:"GameClock_clock__1XkXv",clockRun:"GameClock_clockRun__2zomt",clockEmerg:"GameClock_clockEmerg__1sFO2"}},138:function(e,t,n){e.exports={container:"GameControlPanelStatus_container__119WU",status:"GameControlPanelStatus_status__1IARo",result:"GameControlPanelStatus_result__3Qu_O"}},14:function(e,t,n){"use strict";var a=n(180),r=n.n(a),o=n(181),c=n.n(o)()(r.a);c.sails.url="http://localhost:1337",t.a=c},15:function(e,t,n){"use strict";n.d(t,"k",(function(){return l})),n.d(t,"n",(function(){return m})),n.d(t,"m",(function(){return b})),n.d(t,"u",(function(){return p})),n.d(t,"c",(function(){return g})),n.d(t,"b",(function(){return E})),n.d(t,"t",(function(){return w})),n.d(t,"s",(function(){return h})),n.d(t,"q",(function(){return y})),n.d(t,"p",(function(){return j})),n.d(t,"f",(function(){return C})),n.d(t,"e",(function(){return _})),n.d(t,"i",(function(){return R})),n.d(t,"h",(function(){return N})),n.d(t,"l",(function(){return B})),n.d(t,"a",(function(){return I})),n.d(t,"r",(function(){return P})),n.d(t,"o",(function(){return L})),n.d(t,"d",(function(){return x})),n.d(t,"g",(function(){return G}));var a=n(10),r=n(9),o=n(14),c=n(11),i=n(13),l={isLoading:!0,error:null,isFlipped:!1,rewindToMoveIndex:null},u=Object(a.b)({name:"singleGame",initialState:{},reducers:{getSingleGameRequest:function(e,t){e[t.payload]=Object.assign({},l,e[t.payload],{isLoading:!0,error:null})},getSingleGameSuccess:function(e,t){e[t.payload.result]=Object.assign({},l,e[t.payload.result],{isLoading:!1,error:null})},getSingleGameError:function(e,t){e[t.payload.itemId]=Object.assign({},l,e[t.payload.itemId],{isLoading:!1,error:t.payload.error})},abortGameRequest:function(e,t){},abortGameSuccess:function(e,t){},abortGameError:function(e,t){},resignGameRequest:function(e,t){},resignGameSuccess:function(e,t){},resignGameError:function(e,t){},offerDrawRequest:function(e,t){},offerDrawSuccess:function(e,t){},offerDrawError:function(e,t){},acceptDrawOfferRequest:function(e,t){},acceptDrawOfferSuccess:function(e,t){},acceptDrawOfferError:function(e,t){},declineDrawOfferRequest:function(e,t){},declineDrawOfferSuccess:function(e,t){},declineDrawOfferError:function(e,t){},flipBoard:function(e,t){e[t.payload].isFlipped=!e[t.payload].isFlipped},rewindToMove:function(e,t){e[t.payload.gameId].rewindToMoveIndex=t.payload.moveIndex}},extraReducers:{}}),s=u.actions,d=s.getSingleGameRequest,m=s.getSingleGameSuccess,f=s.getSingleGameError,b=s.flipBoard,p=s.rewindToMove,v=s.abortGameRequest,g=s.abortGameSuccess,E=s.abortGameError,O=s.resignGameRequest,w=s.resignGameSuccess,h=s.resignGameError,k=s.offerDrawRequest,y=s.offerDrawSuccess,j=s.offerDrawError,S=s.acceptDrawOfferRequest,C=s.acceptDrawOfferSuccess,_=s.acceptDrawOfferError,M=s.declineDrawOfferRequest,R=s.declineDrawOfferSuccess,N=s.declineDrawOfferError;t.j=u.reducer;var B=function(e){return function(t){return t(d(e)),new Promise((function(n,a){o.a.socket.get("/game/".concat(e),(function(o,l){if(200===l.statusCode){var u=Object(r.b)(o,c.a);t(m(u)),n(o)}else t(f({itemId:e,error:Object(i.a)(l)})),a(l)}))}))}},I=function(e){return function(t){return t(v(e)),new Promise((function(n,a){o.a.socket.post("/api/v1/board/game/".concat(e,"/abort"),(function(o,l){if(200===l.statusCode){var u=Object(r.b)(o,c.a);t(g(u)),n(o)}else t(E({itemId:e,error:Object(i.a)(l)})),a(l)}))}))}},P=function(e){return function(t){return t(O(e)),new Promise((function(n,a){o.a.socket.post("/api/v1/board/game/".concat(e,"/resign"),(function(o,l){if(200===l.statusCode){var u=Object(r.b)(o,c.a);t(w(u)),n(o)}else t(h({itemId:e,error:Object(i.a)(l)})),a(l)}))}))}},L=function(e){return function(t){return t(k(e)),new Promise((function(n,a){o.a.socket.post("/api/v1/board/game/".concat(e,"/draw/yes"),(function(o,l){if(200===l.statusCode){var u=Object(r.b)(o,c.a);t(y(u)),n(o)}else t(j({itemId:e,error:Object(i.a)(l)})),a(l)}))}))}},x=function(e){return function(t){return t(S(e)),new Promise((function(n,a){o.a.socket.post("/api/v1/board/game/".concat(e,"/draw/yes"),(function(o,l){if(200===l.statusCode){var u=Object(r.b)(o,c.a);t(C(u)),n(o)}else t(_({itemId:e,error:Object(i.a)(l)})),a(l)}))}))}},G=function(e){return function(t){return t(M(e)),new Promise((function(n,a){o.a.socket.post("/api/v1/board/game/".concat(e,"/draw/no"),(function(o,l){if(200===l.statusCode){var u=Object(r.b)(o,c.a);t(R(u)),n(o)}else t(N({itemId:e,error:Object(i.a)(l)})),a(l)}))}))}}},151:function(e,t,n){e.exports={clockRun:"GamePreviewClock_clockRun__2fzqU"}},156:function(e,t,n){e.exports={colorIcon:"GameMeta_colorIcon__2-cJ5"}},157:function(e,t,n){e.exports={controlPanel:"GameControlPanel_controlPanel__31q_E",controlPanelInner:"GameControlPanel_controlPanelInner__mVrde"}},17:function(e,t,n){"use strict";n.d(t,"f",(function(){return m})),n.d(t,"i",(function(){return b})),n.d(t,"j",(function(){return p})),n.d(t,"h",(function(){return v})),n.d(t,"c",(function(){return g})),n.d(t,"d",(function(){return E})),n.d(t,"b",(function(){return O})),n.d(t,"e",(function(){return w})),n.d(t,"g",(function(){return h})),n.d(t,"a",(function(){return k}));var a=n(10),r=n(9),o=n(14),c=n(11),i=n(54),l=n(13),u=Object(a.b)({name:"challenge",initialState:{},reducers:{challengeAiRequest:function(){},challengeAiSuccess:function(e,t){},challengeAiError:function(e,t){},createSeekRequest:function(){},createSeekSuccess:function(e,t){},createSeekError:function(e,t){},acceptSeekRequest:function(e,t){},acceptSeekSuccess:function(e,t){},acceptSeekError:function(e,t){}},extraReducers:{}}),s=u.actions,d=s.challengeAiRequest,m=s.challengeAiSuccess,f=s.challengeAiError,b=s.createSeekRequest,p=s.createSeekSuccess,v=s.createSeekError,g=s.acceptSeekRequest,E=s.acceptSeekSuccess,O=s.acceptSeekError,w=(u.reducer,function(e){return function(t){return t(d()),new Promise((function(n,a){o.a.socket.post("/api/v1/challenge/ai",e,(function(e,o){if(200===o.statusCode){var i=Object(r.b)(e,c.a);t(m(i)),n(e)}else t(f(Object(l.a)(o))),a(o)}))}))}}),h=function(e){return function(t){return t(b()),new Promise((function(n,a){o.a.socket.post("/api/v1/board/seek",e,(function(e,o){if(200===o.statusCode){var i=Object(r.b)(e,c.a);t(p(i)),n(e)}else t(v(Object(l.a)(o))),a(o)}))}))}},k=function(e){return function(t){return t(g(e)),new Promise((function(n,a){o.a.socket.post("/api/v1/board/seek/".concat(e,"/accept"),{},(function(o,c){if(200===c.statusCode){var u=Object(r.b)(o,i.a);t(E(u)),n(o)}else t(O({itemId:e,error:Object(l.a)(c)})),a(c)}))}))}}},183:function(e,t,n){e.exports={grid:"GamePreviewsList_grid__2iggX"}},184:function(e,t,n){e.exports={result:"GamePreviewResult_result__2DwMU"}},192:function(e,t,n){e.exports={userName:"GameControlPanelUserName_userName__3wRKP"}},193:function(e,t,n){e.exports={buttonsWrapper:"GameControlPanelTopToolbar_buttonsWrapper__TJIBo"}},194:function(e,t,n){e.exports={buttonsWrapper:"GameControlPanelBottomToolbar_buttonsWrapper__21ame"}},195:function(e,t,n){e.exports={singleGameBoard:"SingleGameBoard_singleGameBoard__2rYay"}},199:function(e,t,n){e.exports={messages:"Messages_messages__ESZ_K"}},201:function(e,t,n){e.exports=n(261)},209:function(e,t,n){},23:function(e,t,n){"use strict";n.d(t,"d",(function(){return d})),n.d(t,"c",(function(){return m})),n.d(t,"f",(function(){return b})),n.d(t,"j",(function(){return g})),n.d(t,"h",(function(){return h})),n.d(t,"b",(function(){return k})),n.d(t,"e",(function(){return y})),n.d(t,"i",(function(){return j})),n.d(t,"g",(function(){return S}));var a=n(10),r=n(9),o=n(14),c=n(28),i=n(13),l=Object(a.b)({name:"currentUser",initialState:{userId:null,isLoading:!0,error:null},reducers:{getCurrentUserRequest:function(e){e.isLoading=!0,e.error=null},getCurrentUserSuccess:function(e,t){e.userId=t.payload?t.payload.result:null,e.isLoading=!1,e.error=null},getCurrentUserError:function(e,t){e.isLoading=!1,e.error=t.payload},loginRequest:function(e){},loginSuccess:function(e,t){e.userId=t.payload.result},loginError:function(e,t){},registerRequest:function(e){},registerSuccess:function(e,t){e.userId=t.payload.result},registerError:function(e,t){},logoutRequest:function(e){},logoutSuccess:function(e){e.userId=null},logoutError:function(e,t){}}}),u=l.actions,s=u.getCurrentUserRequest,d=u.getCurrentUserSuccess,m=u.getCurrentUserError,f=u.loginRequest,b=u.loginSuccess,p=u.loginError,v=u.registerRequest,g=u.registerSuccess,E=u.registerError,O=u.logoutRequest,w=u.logoutSuccess,h=u.logoutError;t.a=l.reducer;var k=function(){return function(e){return e(s()),new Promise((function(t,n){o.a.socket.get("/api/v1/account/me",(function(a,o){if(200===o.statusCode){var l=Object(r.b)(a,c.a);e(d(l)),t(a)}else 401===o.statusCode?(e(d(null)),t(null)):(e(m(Object(i.a)(o))),n(o))}))}))}},y=function(e){return function(t){return t(f()),new Promise((function(n,a){o.a.socket.put("/api/v1/entrance/login",{emailAddress:e.email,password:e.password},(function(e,o){if(200===o.statusCode){var l=Object(r.b)(e,c.a);t(b(l)),n(e)}else t(p(Object(i.a)(o))),a(o)}))}))}},j=function(e){return function(t){return t(v()),new Promise((function(n,a){o.a.socket.post("/api/v1/entrance/signup",{fullName:e.fullName,emailAddress:e.email,password:e.password,confirmPassword:e.password,agreed:!0},(function(e,o){if(200===o.statusCode){var l=Object(r.b)(e,c.a);t(g(l)),n(e)}else t(E(Object(i.a)(o))),a(o)}))}))}},S=function(){return function(e){return e(O()),new Promise((function(t,n){o.a.socket.post("/api/v1/account/logout",{},(function(a,r){200===r.statusCode?(e(w()),t()):(e(h(Object(i.a)(r))),n(r))}))}))}}},238:function(e,t){},243:function(e,t,n){},257:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),o=n(50),c=n(19),i=n(8),l=(n(242),n(243),n(273)),u=n(9),s=n(183),d=n.n(s),m=n(31),f=n(32),b=n(104),p=n.n(b),v=function(e){var t=e.game,n=e.color,a=void 0===n?"white":n;return t?r.a.createElement("span",null,t[a]?t[a].fullName:"AI level ".concat(t.aiLevel)):null},g=n(184),E=n.n(g),O=function(e){var t=e.game,n=e.color,a=void 0===n?"white":n;if(!t)return null;var o="\xbd";return t.winner&&(o=t.winner===a?"1":"0"),r.a.createElement("span",{className:E.a.result},o)},w=n(6),h=n(117),k=n.n(h),y=n(3),j=n.n(y),S=n(151),C=n.n(S),_=function(e){var t=e.time,n=void 0===t?0:t,a=e.isRunning,o=void 0!==a&&a,c=k()().startOf("day").milliseconds(n).format("mm:ss");return r.a.createElement("div",{"data-testid":"time",className:j()(C.a.clock,Object(w.a)({},C.a.clockRun,o))},c)},M=function(e){var t=e.game;if(!t)return null;var n=Object(f.a)(t).fen();return r.a.createElement("div",{className:p.a.gamePreview},r.a.createElement("div",{className:p.a.player},r.a.createElement(v,{game:t,color:"black"}),"started"===t.status&&r.a.createElement(_,{time:t.btime,isRunning:"black"===t.turn}),"started"!==t.status&&"aborted"!==t.status&&r.a.createElement(O,{game:t,color:"black"})),r.a.createElement("div",{className:p.a.board},r.a.createElement(o.b,{to:"/game/".concat(t.id)},r.a.createElement(m.Board,{position:n,viewOnly:!1,width:240}))),r.a.createElement("div",{className:p.a.player},r.a.createElement(v,{game:t,color:"white"}),"started"===t.status&&r.a.createElement(_,{time:t.wtime,isRunning:"white"===t.turn}),"started"!==t.status&&"aborted"!==t.status&&r.a.createElement(O,{game:t,color:"white"})))},R=n(263),N=function(e){var t=e.emptyContentMessage,n=void 0===t?"content is empty":t,a=e.isEmpty,o=void 0!==a&&a,c=e.isLoading,i=void 0!==c&&c,l=e.error,u=void 0===l?null:l;return!o||i||u?i&&o?r.a.createElement("div",{className:"text-center"},r.a.createElement(R.a,{animation:"border",role:"status","data-testid":"loading-spinner"},r.a.createElement("span",{className:"sr-only"},"Loading..."))):u?r.a.createElement("div",{className:"alert alert-danger text-center",role:"alert","data-testid":"error-message"},u):null:r.a.createElement("div",{className:"alert alert-warning text-center",role:"alert","data-testid":"empty-content-message"},n)},B=function(e){var t=e.games,n=void 0===t?[]:t,a=e.isLoading,o=void 0!==a&&a,c=e.error,i=void 0===c?null:c,l=e.emptyContentMessage;return r.a.createElement("div",null,r.a.createElement(N,{isLoading:o,error:i,isEmpty:0===n.length,emptyContentMessage:l}),r.a.createElement("div",{className:d.a.grid},n.map((function(e){return r.a.createElement(M,{game:e,key:e.id})}))))},I=n(11),P=function(){var e=Object(i.c)((function(e){return Object(u.a)(Object.keys(e.entities.games),[I.a],e.entities).filter((function(e){return"started"===e.status})).sort((function(e,t){return t.createdAt-e.createdAt})).slice(0,9)})),t=Object(i.c)((function(e){return e.gamesList.isLoading})),n=Object(i.c)((function(e){return e.gamesList.error}));return r.a.createElement(B,{games:e,isLoading:t,error:n,emptyContentMessage:"Nobody is playing right now"})},L=n(264),x=function(e){var t=e.onChallengeAi,n=e.onCreateGame,o=Object(a.useCallback)((function(){t&&t()}),[t]),c=Object(a.useCallback)((function(){n&&n()}),[n]);return r.a.createElement("div",{className:"mb-3"},r.a.createElement(L.a,{variant:"primary",onClick:c,"data-testid":"create-game-btn",className:"mr-3"},"Create a game"),r.a.createElement(L.a,{variant:"primary",onClick:o,"data-testid":"challenge-ai-btn"},"Play with the computer"))},G=n(83),A=n(84),T=function(){var e=Object(i.b)(),t=Object(a.useCallback)((function(){e(Object(G.c)())}),[e]),n=Object(a.useCallback)((function(){e(Object(A.c)())}),[e]);return r.a.createElement(x,{onChallengeAi:t,onCreateGame:n})},D=n(269),q=n(66),F=n(270),V=n(265),U=n(266),W=n(267),H=n(60),K=n.n(H),z=function(e){var t=e.onSubmit;return r.a.createElement(q.a,{initialValues:{level:2,color:"",clockLimit:300,clockIncrement:3},onSubmit:function(e){function t(t,n){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(e,n){if(t)return t(e,n)}))},(function(e){var t=e.values,n=e.handleChange,a=e.handleBlur,o=e.handleSubmit,c=e.isSubmitting,i=e.status,l=e.setStatus,u=e.setFieldValue;return r.a.createElement(F.a,{noValidate:!0,onSubmit:function(e){return o(e)},onChange:function(){return l("")}},!!i&&r.a.createElement(V.a,{variant:"danger"},i),r.a.createElement("fieldset",null,r.a.createElement(F.a.Group,null,r.a.createElement(F.a.Label,null,"Minutes per side: ",t.clockLimit/60),r.a.createElement(F.a.Control,{type:"range",name:"clockLimit",onBlur:a,value:t.clockLimit,onChange:n,min:"60",max:"1800",step:"60"})),r.a.createElement(F.a.Group,null,r.a.createElement(F.a.Label,null,"Increment in seconds: ",t.clockIncrement),r.a.createElement(F.a.Control,{type:"range",name:"clockIncrement",onBlur:a,value:t.clockIncrement,onChange:n,min:"0",max:"60"}))),r.a.createElement("div",{className:"text-center"},"Level"),r.a.createElement(U.a,null,r.a.createElement(W.a,{className:j()("mx-auto",K.a.levelButtonGroup)},[1,2,3,4].map((function(e){return r.a.createElement(L.a,{key:e,type:"button",variant:e===t.level?"dark":"light",onClick:function(){return u("level",e)}},e)})))),r.a.createElement("div",{className:"text-center"},"A.I. Level: ",t.level),r.a.createElement("div",{className:K.a.colorSubmits},r.a.createElement("button",{disabled:c,type:"submit",title:"Black",className:j()(K.a.colorSubmitsButton,K.a.blackButton),onClick:function(){return u("color","black")}},r.a.createElement("i",null)),r.a.createElement("button",{disabled:c,type:"submit",title:"Random side",className:j()(K.a.colorSubmitsButton,K.a.randomButton),onClick:function(){return u("color","random")}},r.a.createElement("i",null)),r.a.createElement("button",{disabled:c,type:"submit",title:"White",className:j()(K.a.colorSubmitsButton,K.a.whiteButton),onClick:function(){return u("color","white")}},r.a.createElement("i",null))))}))},J=n(17),X=n(13),Y=function(){var e=Object(i.b)(),t=Object(c.f)(),n=Object(a.useCallback)((function(n,a){return e(Object(J.e)(n)).then((function(e){t.push("/game/".concat(e.id))})).catch((function(e){a.setStatus(Object(X.a)(e))}))}),[e,t]);return r.a.createElement(z,{onSubmit:n})},Q=function(e){var t=e.show,n=void 0!==t&&t,a=e.onHide;return r.a.createElement(D.a,{show:n,onHide:a,animation:!1},r.a.createElement(D.a.Header,{closeButton:!0},r.a.createElement(D.a.Title,null,"Play with the computer")),r.a.createElement(D.a.Body,null,r.a.createElement(Y,null)))},Z=function(){var e=Object(i.c)((function(e){return e.challengeAiModal})).isChallengeAiModalVisible,t=Object(i.b)(),n=Object(a.useCallback)((function(){t(Object(G.b)())}),[t]);return r.a.createElement(Q,{show:e,onHide:n})},$=function(){var e=Object(i.c)((function(e){return Object(u.a)(Object.keys(e.entities.games),[I.a],e.entities).filter((function(e){return"started"!==e.status&&"aborted"!==e.status})).sort((function(e,t){return t.createdAt-e.createdAt})).slice(0,9)})),t=Object(i.c)((function(e){return e.gamesList.isLoading})),n=Object(i.c)((function(e){return e.gamesList.error}));return r.a.createElement(B,{games:e,isLoading:t,error:n,emptyContentMessage:"There is no finished games yet"})},ee=n(48),te=n.n(ee),ne=function(e){var t=e.onSubmit,n=e.onAbort,o=Object(a.useCallback)((function(){n&&n()}),[n]);return r.a.createElement(q.a,{initialValues:{color:"",clockLimit:300,clockIncrement:3},onSubmit:function(e){function t(t,n){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(e,n){if(t)return t(e,n)}))},(function(e){var t=e.values,n=e.handleChange,a=e.handleBlur,c=e.handleSubmit,i=e.isSubmitting,l=e.status,u=e.setStatus,s=e.setFieldValue;return r.a.createElement(F.a,{noValidate:!0,onSubmit:function(e){return c(e)},onChange:function(){return u("")}},!!l&&r.a.createElement(V.a,{variant:"danger"},l),r.a.createElement("fieldset",null,r.a.createElement(F.a.Group,null,r.a.createElement(F.a.Label,null,"Minutes per side: ",t.clockLimit/60),r.a.createElement(F.a.Control,{disabled:i,type:"range",name:"clockLimit",onBlur:a,value:t.clockLimit,onChange:n,min:"60",max:"1800",step:"60"})),r.a.createElement(F.a.Group,null,r.a.createElement(F.a.Label,null,"Increment in seconds: ",t.clockIncrement),r.a.createElement(F.a.Control,{disabled:i,type:"range",name:"clockIncrement",onBlur:a,value:t.clockIncrement,onChange:n,min:"0",max:"60"}))),r.a.createElement("div",{className:te.a.colorSubmits},r.a.createElement("button",{disabled:i,type:"submit",title:"Black",className:j()(te.a.colorSubmitsButton,te.a.blackButton),onClick:function(){return s("color","black")}},r.a.createElement("i",null)),r.a.createElement("button",{disabled:i,type:"submit",title:"Random side",className:j()(te.a.colorSubmitsButton,te.a.randomButton),onClick:function(){return s("color","random")}},r.a.createElement("i",null)),r.a.createElement("button",{disabled:i,type:"submit",title:"White",className:j()(te.a.colorSubmitsButton,te.a.whiteButton),onClick:function(){return s("color","white")}},r.a.createElement("i",null))),i&&r.a.createElement("div",{className:te.a.spinnerWrapper},r.a.createElement(R.a,{animation:"border",className:te.a.spinner},r.a.createElement("span",{className:"sr-only"},"Waiting for opponent...")),r.a.createElement(L.a,{variant:"danger",className:te.a.spinnerButton,onClick:o},"Abort")))}))},ae=n(14),re=function(){var e=Object(i.b)(),t=Object(c.f)(),n=Object(a.useCallback)((function(n,a){return e(Object(J.g)(n)).then((function(e){t.push("/game/".concat(e.id))})).catch((function(e){0===e.statusCode||a.setStatus(Object(X.a)(e))}))}),[e,t]),o=Object(a.useCallback)((function(){ae.a.socket.disconnect(),ae.a.socket.reconnect()}),[]);return r.a.createElement(ne,{onSubmit:n,onAbort:o})},oe=function(e){var t=e.allowClose,n=void 0===t||t,a=e.show,o=void 0!==a&&a,c=e.onHide;return r.a.createElement(D.a,{show:o,onHide:c,animation:!1,backdrop:!!n||"static"},r.a.createElement(D.a.Header,{closeButton:n},r.a.createElement(D.a.Title,null,"Create a game")),r.a.createElement(D.a.Body,null,r.a.createElement(re,null)))},ce=function(){var e=Object(i.c)((function(e){return e.seekModal})),t=e.isSeekModalVisible,n=e.allowCloseSeekModal,o=Object(i.b)(),c=Object(a.useCallback)((function(){o(Object(A.b)())}),[o]);return r.a.createElement(oe,{allowClose:n,show:t,onHide:c})},ie=n(54),le=n(105),ue=n.n(le);function se(){return(se=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}function de(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},o=Object.keys(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var me=r.a.createElement("g",null,r.a.createElement("g",null,r.a.createElement("path",{d:"M256,0C114.618,0,0,114.618,0,256s114.618,256,256,256s256-114.618,256-256S397.382,0,256,0z M256,469.333 c-117.818,0-213.333-95.515-213.333-213.333S138.182,42.667,256,42.667S469.333,138.182,469.333,256S373.818,469.333,256,469.333z "}))),fe=r.a.createElement("g",null),be=r.a.createElement("g",null),pe=r.a.createElement("g",null),ve=r.a.createElement("g",null),ge=r.a.createElement("g",null),Ee=r.a.createElement("g",null),Oe=r.a.createElement("g",null),we=r.a.createElement("g",null),he=r.a.createElement("g",null),ke=r.a.createElement("g",null),ye=r.a.createElement("g",null),je=r.a.createElement("g",null),Se=r.a.createElement("g",null),Ce=r.a.createElement("g",null),_e=r.a.createElement("g",null),Me=function(e){var t=e.svgRef,n=e.title,a=de(e,["svgRef","title"]);return r.a.createElement("svg",se({id:"Layer_1",x:"0px",y:"0px",viewBox:"0 0 512 512",style:{enableBackground:"new 0 0 512 512"},xmlSpace:"preserve",ref:t},a),n?r.a.createElement("title",null,n):null,me,fe,be,pe,ve,ge,Ee,Oe,we,he,ke,ye,je,Se,Ce,_e)},Re=r.a.forwardRef((function(e,t){return r.a.createElement(Me,se({svgRef:t},e))}));n.p;function Ne(){return(Ne=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}function Be(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},o=Object.keys(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var Ie=r.a.createElement("g",null,r.a.createElement("g",null,r.a.createElement("path",{d:"M256,0C114.837,0,0,114.837,0,256s114.837,256,256,256s256-114.837,256-256S397.163,0,256,0z"}))),Pe=r.a.createElement("g",null),Le=r.a.createElement("g",null),xe=r.a.createElement("g",null),Ge=r.a.createElement("g",null),Ae=r.a.createElement("g",null),Te=r.a.createElement("g",null),De=r.a.createElement("g",null),qe=r.a.createElement("g",null),Fe=r.a.createElement("g",null),Ve=r.a.createElement("g",null),Ue=r.a.createElement("g",null),We=r.a.createElement("g",null),He=r.a.createElement("g",null),Ke=r.a.createElement("g",null),ze=r.a.createElement("g",null),Je=function(e){var t=e.svgRef,n=e.title,a=Be(e,["svgRef","title"]);return r.a.createElement("svg",Ne({id:"Layer_1",x:"0px",y:"0px",viewBox:"0 0 512 512",style:{enableBackground:"new 0 0 512 512"},xmlSpace:"preserve",ref:t},a),n?r.a.createElement("title",null,n):null,Ie,Pe,Le,xe,Ge,Ae,Te,De,qe,Fe,Ve,Ue,We,He,Ke,ze)},Xe=r.a.forwardRef((function(e,t){return r.a.createElement(Je,Ne({svgRef:t},e))}));n.p;function Ye(){return(Ye=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}function Qe(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},o=Object.keys(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var Ze=r.a.createElement("g",null,r.a.createElement("g",{id:"c198_half_moon"},r.a.createElement("path",{d:"M29.105,14.552c0-0.03-0.004-0.06-0.004-0.092C29.054,6.481,22.584,0.027,14.6,0.002C14.585,0.002,14.569,0,14.556,0 h-0.002l0,0C6.547,0,0.051,6.47,0.005,14.468c0,0.027-0.004,0.053-0.004,0.084v0.002l0,0c0,8.037,6.517,14.553,14.553,14.553l0,0 h0.002c0.014,0,0.029-0.003,0.044-0.003c8.016-0.025,14.507-6.529,14.507-14.55l0,0L29.105,14.552L29.105,14.552z M14.556,2.079 c6.877,0,12.473,5.596,12.473,12.473c0,6.876-5.596,12.476-12.473,12.476V2.079z"})),r.a.createElement("g",{id:"Capa_1_271_"})),$e=r.a.createElement("g",null),et=r.a.createElement("g",null),tt=r.a.createElement("g",null),nt=r.a.createElement("g",null),at=r.a.createElement("g",null),rt=r.a.createElement("g",null),ot=r.a.createElement("g",null),ct=r.a.createElement("g",null),it=r.a.createElement("g",null),lt=r.a.createElement("g",null),ut=r.a.createElement("g",null),st=r.a.createElement("g",null),dt=r.a.createElement("g",null),mt=r.a.createElement("g",null),ft=r.a.createElement("g",null),bt=function(e){var t=e.svgRef,n=e.title,a=Qe(e,["svgRef","title"]);return r.a.createElement("svg",Ye({id:"Capa_1",x:"0px",y:"0px",viewBox:"0 0 29.107 29.107",style:{enableBackground:"new 0 0 29.107 29.107"},xmlSpace:"preserve",ref:t},a),n?r.a.createElement("title",null,n):null,Ze,$e,et,tt,nt,at,rt,ot,ct,it,lt,ut,st,dt,mt,ft)},pt=r.a.forwardRef((function(e,t){return r.a.createElement(bt,Ye({svgRef:t},e))})),vt=(n.p,function(e){var t=e.acceptInProcess,n=void 0===t?null:t,o=e.currentUserId,c=void 0===o?null:o,i=e.seek,l=e.onPlay,u=Object(a.useCallback)((function(){l&&l(i.id)}),[l,i]);return i?r.a.createElement("div",{"data-testid":"seek-wrapper",className:j()("d-flex","align-items-center","border-bottom",Object(w.a)({},ue.a.gameIsStarted,i.game))},r.a.createElement("div",{className:"d-flex pl-2"},"white"===i.color&&r.a.createElement(Re,{"data-testid":"white-icon",className:ue.a.colorIcon}),"black"===i.color&&r.a.createElement(Xe,{"data-testid":"black-icon",className:ue.a.colorIcon}),"random"===i.color&&r.a.createElement(pt,{"data-testid":"random-icon",className:ue.a.colorIcon})),r.a.createElement("div",{"data-testid":"user-name",className:"mr-auto p-2"},i.createdBy.fullName),r.a.createElement("div",{"data-testid":"time-control",className:"p-2"},i.clockLimit/60," + ",i.clockIncrement),r.a.createElement("div",{className:"p-2"},c!==i.createdBy.id&&r.a.createElement(L.a,{"data-testid":"play-btn",onClick:u,disabled:null!==n||!!i.game},n===i.id&&r.a.createElement(R.a,{animation:"border","data-testid":"play-btn-spinner",size:"sm",className:"mr-2"},r.a.createElement("span",{className:"sr-only"},"Sending...")),"Play"))):null}),gt=function(e){var t=e.acceptInProcess,n=void 0===t?null:t,a=e.currentUserId,o=void 0===a?null:a,c=e.seeks,i=void 0===c?[]:c,l=e.onPlay,u=e.isLoading,s=void 0!==u&&u,d=e.error,m=void 0===d?null:d;return r.a.createElement("div",null,r.a.createElement(N,{isLoading:s,error:m,isEmpty:0===i.length,emptyContentMessage:"Nobody is waiting for opponent"}),r.a.createElement("div",null,i.map((function(e){return r.a.createElement(vt,{acceptInProcess:n,currentUserId:o,seek:e,onPlay:l,key:e.id})}))))},Et=function(){var e=Object(i.b)(),t=Object(c.f)(),n=Object(i.c)((function(e){return e.currentUser.userId})),o=Object(i.c)((function(e){return Object(u.a)(e.seeksList.items,[ie.a],e.entities)})),l=Object(i.c)((function(e){return e.seeksList.isLoading})),s=Object(i.c)((function(e){return e.seeksList.error})),d=Object(i.c)((function(e){return e.acceptSeekRequest})),m=d.inProcess?d.itemId:null,f=Object(a.useCallback)((function(n){return e(Object(J.a)(n)).then((function(e){t.push("/game/".concat(e.game.id))})).catch((function(){}))}),[e,t]);return r.a.createElement(gt,{currentUserId:n,seeks:o,onPlay:f,acceptInProcess:m,isLoading:l,error:s})},Ot=function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(Z,null),r.a.createElement(ce,null),r.a.createElement("div",{className:"d-flex justify-content-center"},r.a.createElement(T,null)),r.a.createElement(l.a,{className:"mb-3"},r.a.createElement(l.a.Body,null,r.a.createElement(l.a.Title,null,"Waiting for opponent"),r.a.createElement(Et,null))),r.a.createElement(l.a,{className:"mb-3"},r.a.createElement(l.a.Body,null,r.a.createElement(l.a.Title,null,"Playing right now"),r.a.createElement(P,null))),r.a.createElement(l.a,null,r.a.createElement(l.a.Body,null,r.a.createElement(l.a.Title,null,"Finished"),r.a.createElement($,null))))},wt=function(e){if("outoftime"===e.status){if("white"===e.winner)return"Time out \u2022 White is victorious";if("black"===e.winner)return"Time out \u2022 Black is victorious"}if("resign"===e.status){if("black"===e.winner)return"White resigned \u2022 Black is victorious";if("white"===e.winner)return"Black resigned \u2022 White is victorious"}if("aborted"===e.status)return"Game aborted";if("mate"===e.status){if("white"===e.winner)return"Checkmate \u2022 White is victorious";if("black"===e.winner)return"Checkmate \u2022 Black is victorious"}return"draw"===e.status?"Draw":"stalemate"===e.status?"Stalemate":"Playing right now"},ht=n(156),kt=n.n(ht),yt=function(e){var t=e.game;return t?r.a.createElement(l.a,null,r.a.createElement(l.a.Body,null,r.a.createElement("div",null,"Time Control:"," ",r.a.createElement("span",{"data-testid":"time-control"},t.clockLimit/60," + ",t.clockIncrement)),r.a.createElement("div",{"data-testid":"game-status",className:j()({"text-success":"started"===t.status,"text-danger":"started"!==t.status})},wt(t)),r.a.createElement("div",{"data-testid":"white-user",className:"d-flex align-items-center"},r.a.createElement(Re,{className:j()(kt.a.colorIcon,"mr-1")}),t.white?t.white.fullName:"AI level ".concat(t.aiLevel)),r.a.createElement("div",{"data-testid":"black-user",className:"d-flex align-items-center"},r.a.createElement(Xe,{className:j()(kt.a.colorIcon,"mr-1")}),t.black?t.black.fullName:"AI level ".concat(t.aiLevel)))):null},jt=function(e){var t=e.id,n=Object(i.c)((function(e){return Object(u.a)(t,I.a,e.entities)}));return n?r.a.createElement(yt,{game:n}):null},St=n(157),Ct=n.n(St),_t=n(137),Mt=n.n(_t),Rt=function(e){var t,n=e.time,a=void 0===n?0:n,o=e.isRunning,c=void 0!==o&&o,i=k()().startOf("day").milliseconds(a).format("mm:ss");return r.a.createElement("div",{"data-testid":"time",className:j()(Mt.a.clock,(t={},Object(w.a)(t,Mt.a.clockRun,c),Object(w.a)(t,Mt.a.clockEmerg,a<1e4),t))},i)},Nt=n(51),Bt=n(78),It=n.n(Bt),Pt=n(138),Lt=n.n(Pt),xt=function(e){var t=e.game;if(!t)return null;var n="\xbd-\xbd";return t.winner&&(n="white"===t.winner?"1-0":"0-1"),r.a.createElement("div",{className:Lt.a.container},r.a.createElement("div",{className:Lt.a.result,"data-testid":"game-result"},n),r.a.createElement("div",{className:Lt.a.status,"data-testid":"game-status"},wt(t)))},Gt=function(e){return"".concat(e.from).concat(e.to)},At=function(e){var t=e.game,n=e.rewindToMoveIndex,o=void 0===n?null:n,c=e.onRewindToMove,i=[],l=Object(a.useRef)(null),u=Object(a.useRef)(-1),s=Object(a.useRef)();if(Object(a.useEffect)((function(){t&&(u.current===i.length&&s.current===t.status||null!==o||l.current&&(l.current.scrollTop=l.current.scrollHeight),u.current=i.length,s.current=t.status)}),[t,u,s,i.length,o,l]),!t)return null;var d=Object(f.a)(t),m=(i=d.history({verbose:!0})).length,b=Object(Nt.chunk)(i,2),p=function(e){return function(){c&&c(e)}};return r.a.createElement("div",{className:It.a.movesWrapper,ref:l},b.map((function(e,t){var n=2*t+1,a=2*t+2;return r.a.createElement(r.a.Fragment,{key:"move-".concat(t)},r.a.createElement("div",{className:It.a.moveNumber},t+1),r.a.createElement("div",{"data-testid":"move-".concat(n),onClick:p(n),role:"button",className:j()(It.a.move,Object(w.a)({},It.a.selected,o===n||null===o&&m===n))},Gt(e[0])),e[1]&&r.a.createElement("div",{"data-testid":"move-".concat(a),onClick:p(a),role:"button",className:j()(It.a.move,Object(w.a)({},It.a.selected,o===a||null===o&&m===a))},Gt(e[1])))})),"started"!==t.status&&r.a.createElement(xt,{game:t}))},Tt=n(192),Dt=n.n(Tt),qt=function(e){var t=e.game,n=e.color,a=void 0===n?"white":n;return t?r.a.createElement("div",{className:Dt.a.userName},t[a]?t[a].fullName:"AI level ".concat(t.aiLevel)):null},Ft=n(38),Vt=n(39),Ut=n(193),Wt=n.n(Ut),Ht=function(e){var t=e.isFirstMove,n=void 0!==t&&t,o=e.isLastMove,c=void 0!==o&&o,i=e.hasPrevMove,l=void 0!==i&&i,u=e.hasNextMove,s=void 0!==u&&u,d=e.onFlipBoard,m=e.onRewindToPrevMove,f=e.onRewindToNextMove,b=e.onRewindToFirstMove,p=e.onRewindToLastMove,v=Object(a.useCallback)((function(){d&&d()}),[d]),g=Object(a.useCallback)((function(){m&&m()}),[m]),E=Object(a.useCallback)((function(){f&&f()}),[f]),O=Object(a.useCallback)((function(){b&&b()}),[b]),w=Object(a.useCallback)((function(){p&&p()}),[p]);return r.a.createElement("div",{className:Wt.a.buttonsWrapper},r.a.createElement(L.a,{type:"button",variant:"link","data-testid":"flip-board-btn",onClick:v},r.a.createElement(Ft.a,{icon:Vt.h}),r.a.createElement("span",{className:"sr-only"},"Flip board")),r.a.createElement(L.a,{type:"button",variant:"link","data-testid":"rewind-to-first-move-btn",onClick:O,disabled:n},r.a.createElement(Ft.a,{icon:Vt.a}),r.a.createElement("span",{className:"sr-only"},"Rewind to first move")),r.a.createElement(L.a,{type:"button",variant:"link","data-testid":"rewind-to-prev-move-btn",onClick:g,disabled:!l},r.a.createElement(Ft.a,{icon:Vt.c}),r.a.createElement("span",{className:"sr-only"},"Rewind to prev move")),r.a.createElement(L.a,{type:"button",variant:"link","data-testid":"rewind-to-next-move-btn",onClick:E,disabled:!s},r.a.createElement(Ft.a,{icon:Vt.d}),r.a.createElement("span",{className:"sr-only"},"Rewind to next move")),r.a.createElement(L.a,{type:"button",variant:"link","data-testid":"rewind-to-last-move-btn",onClick:w,disabled:c},r.a.createElement(Ft.a,{icon:Vt.b}),r.a.createElement("span",{className:"sr-only"},"Rewind to last move")))},Kt=n(194),zt=n.n(Kt),Jt=function(e){var t=e.canAbortGame,n=void 0!==t&&t,o=e.canOfferDraw,c=void 0!==o&&o,i=e.canResignGame,l=void 0!==i&&i,u=e.onAbortGame,s=e.onOfferDraw,d=e.onResignGame,m=Object(a.useCallback)((function(){u&&u()}),[u]),f=Object(a.useCallback)((function(){s&&s()}),[s]),b=Object(a.useCallback)((function(){d&&d()}),[d]);return r.a.createElement("div",{className:zt.a.buttonsWrapper},r.a.createElement(L.a,{type:"button",variant:"link","data-testid":"abort-game-btn",onClick:m,disabled:!n},r.a.createElement(Ft.a,{icon:Vt.i}),r.a.createElement("span",{className:"sr-only"},"Abort")),r.a.createElement(L.a,{type:"button",variant:"link","data-testid":"offer-draw-btn",onClick:f,disabled:!c},r.a.createElement(Ft.a,{icon:Vt.g}),r.a.createElement("span",{className:"sr-only"},"Offer a draw")),r.a.createElement(L.a,{type:"button",variant:"link","data-testid":"resign-game-btn",onClick:b,disabled:!l},r.a.createElement(Ft.a,{icon:Vt.f}),r.a.createElement("span",{className:"sr-only"},"Resign")))},Xt=n(106),Yt=n.n(Xt),Qt=function(e){var t=e.onAccept,n=e.onDecline,o=Object(a.useCallback)((function(){t&&t()}),[t]),c=Object(a.useCallback)((function(){n&&n()}),[n]);return r.a.createElement("div",{className:Yt.a.dialogWrapper},r.a.createElement(L.a,{type:"button",variant:"link","data-testid":"accept-btn",onClick:o,className:Yt.a.acceptBtn},r.a.createElement(Ft.a,{icon:Vt.e}),r.a.createElement("span",{className:"sr-only"},"Accept")),r.a.createElement(L.a,{type:"button",variant:"link","data-testid":"decline-btn",onClick:c,className:Yt.a.declineBtn},r.a.createElement(Ft.a,{icon:Vt.i}),r.a.createElement("span",{className:"sr-only"},"Decline")),r.a.createElement("div",{className:Yt.a.dialogText},"Your opponent offers a draw"))},Zt=function(e){var t=e.game,n=e.orientation,a=void 0===n?"white":n,o=e.rewindToMoveIndex,c=void 0===o?null:o,i=e.canAbortGame,l=void 0!==i&&i,u=e.canOfferDraw,s=void 0!==u&&u,d=e.canResignGame,m=void 0!==d&&d,b=e.drawOfferSentByCurrentUser,p=void 0!==b&&b,v=e.drawOfferSentByOpponent,g=void 0!==v&&v,E=e.onAcceptDrawOffer,O=e.onDeclineDrawOffer,w=e.onRewindToMove,h=e.onFlipBoard,k=e.onRewindToPrevMove,y=e.onRewindToNextMove,j=e.onRewindToFirstMove,S=e.onRewindToLastMove,C=e.onAbortGame,_=e.onOfferDraw,M=e.onResignGame;if(!t)return null;var R=Object(f.a)(t).history(),N=0===R.length||0===c,B=null===c,I=0!==R.length&&0!==c,P=null!==c;return r.a.createElement("div",{className:Ct.a.controlPanel},r.a.createElement(Rt,{time:"white"===a?t.btime:t.wtime,isRunning:t.turn!==a}),r.a.createElement("div",{className:Ct.a.controlPanelInner},r.a.createElement(qt,{game:t,color:"white"===a?"black":"white"}),r.a.createElement(Ht,{isFirstMove:N,isLastMove:B,hasPrevMove:I,hasNextMove:P,onFlipBoard:h,onRewindToPrevMove:k,onRewindToNextMove:y,onRewindToFirstMove:j,onRewindToLastMove:S}),r.a.createElement(At,{game:t,rewindToMoveIndex:c,onRewindToMove:w}),g&&r.a.createElement(Qt,{onAccept:E,onDecline:O}),p&&r.a.createElement("div",{className:"alert alert-warning text-center",role:"alert","data-testid":"draw-offer-sent-message"},"Draw offer sent"),r.a.createElement(Jt,{canAbortGame:l,canOfferDraw:s,canResignGame:m,onAbortGame:C,onOfferDraw:_,onResignGame:M}),r.a.createElement(qt,{game:t,color:"white"===a?"white":"black"})),r.a.createElement(Rt,{time:"white"===a?t.wtime:t.btime,isRunning:t.turn===a}))},$t=function(e){var t,n,a,o,c,i,l,u,s,d,m,b=e.game,p=e.currentUser,v=e.isFlipped,g=void 0!==v&&v,E=e.rewindToMoveIndex,O=void 0===E?null:E,w=e.onFlipBoard,h=e.onAcceptDrawOffer,k=e.onDeclineDrawOffer,y=e.onAbortGame,j=e.onOfferDraw,S=e.onResignGame,C=e.onRewindToMove;if(!b)return null;var _=Object(f.a)(b).history({verbose:!0}),M="white";p&&p.id===(null===(t=b.black)||void 0===t?void 0:t.id)&&(M="black"),g&&(M="white"===M?"black":"white");var R,N,B=null;p&&(p.id===(null===(R=b.white)||void 0===R?void 0:R.id)?B="white":p.id===(null===(N=b.black)||void 0===N?void 0:N.id)&&(B="black"));var I=!1;!p||p.id!==(null===(n=b.white)||void 0===n?void 0:n.id)&&p.id!==(null===(a=b.black)||void 0===a?void 0:a.id)||"started"!==b.status||b.drawOffer!==B||(I=!0);var P=!1;!p||p.id!==(null===(o=b.white)||void 0===o?void 0:o.id)&&p.id!==(null===(c=b.black)||void 0===c?void 0:c.id)||"started"!==b.status||null===b.drawOffer||b.drawOffer===B||(P=!0);var L=!1;p&&(p.id===(null===(i=b.white)||void 0===i?void 0:i.id)||p.id===(null===(l=b.black)||void 0===l?void 0:l.id))&&"started"===b.status&&_.length<2&&(L=!0);var x=!1;p&&(p.id===(null===(u=b.white)||void 0===u?void 0:u.id)||p.id===(null===(s=b.black)||void 0===s?void 0:s.id))&&"started"===b.status&&_.length>1&&(x=!0);var G=!1;p&&(p.id===(null===(d=b.white)||void 0===d?void 0:d.id)||p.id===(null===(m=b.black)||void 0===m?void 0:m.id))&&null===b.drawOffer&&0===b.aiLevel&&"started"===b.status&&_.length>1&&(G=!0);return r.a.createElement(Zt,{game:b,orientation:M,rewindToMoveIndex:O,canAbortGame:L,canResignGame:x,canOfferDraw:G,drawOfferSentByCurrentUser:I,drawOfferSentByOpponent:P,onAcceptDrawOffer:h,onDeclineDrawOffer:k,onFlipBoard:w,onAbortGame:y,onOfferDraw:j,onResignGame:S,onRewindToMove:function(e){C&&(e===_.length?C(null):C(e))},onRewindToFirstMove:function(){C&&C(0)},onRewindToLastMove:function(){C&&C(null)},onRewindToPrevMove:function(){C&&C(null===O?_.length-1:O-1)},onRewindToNextMove:function(){C&&(O===_.length-1?C(null):C(O+1))}})},en=n(28),tn=n(15),nn=function(e){var t=e.id,n=Object(i.b)(),o=Object(i.c)((function(e){return Object(u.a)(t,I.a,e.entities)})),c=Object(i.c)((function(e){return e.singleGame[t]}))||tn.k,l=Object(i.c)((function(e){if(e.currentUser.userId)return Object(u.a)(e.currentUser.userId,en.a,e.entities)})),s=Object(a.useCallback)((function(){n(Object(tn.m)(t))}),[n,t]),d=Object(a.useCallback)((function(){n(Object(tn.a)(t))}),[n,t]),m=Object(a.useCallback)((function(){n(Object(tn.d)(t))}),[n,t]),f=Object(a.useCallback)((function(){n(Object(tn.g)(t))}),[n,t]),b=Object(a.useCallback)((function(){n(Object(tn.r)(t))}),[n,t]),p=Object(a.useCallback)((function(){n(Object(tn.o)(t))}),[n,t]),v=Object(a.useCallback)((function(e){n(Object(tn.u)({moveIndex:e,gameId:t}))}),[n,t]);return o?r.a.createElement($t,{game:o,currentUser:l,isFlipped:c.isFlipped,rewindToMoveIndex:c.rewindToMoveIndex,onFlipBoard:s,onAbortGame:d,onAcceptDrawOffer:m,onDeclineDrawOffer:f,onOfferDraw:p,onResignGame:b,onRewindToMove:v}):null},an=n(195),rn=n.n(an),on=function(e){var t=e.currentUser,n=e.game,a=e.isFlipped,o=void 0!==a&&a,c=e.onMove,i=e.rewindToMoveIndex,l=void 0===i?null:i,u=e.isLoading,s=void 0!==u&&u,d=e.error,b=void 0===d?null:d,p=null;if(n){var v,g,E,O,w,h,k=Object(f.a)(n),y=null===l?k:Object(f.a)(n,l),j=y.fen(),S=y.in_check(),C="white"===n.turn?m.PieceColor.WHITE:m.PieceColor.BLACK,_=Object(m.getValidMoves)(y),M=!0;!t||t.id!==(null===(v=n.white)||void 0===v?void 0:v.id)&&t.id!==(null===(g=n.black)||void 0===g?void 0:g.id)||"started"!==n.status||null!==l||(M=!1),t&&t.id===(null===(E=n.white)||void 0===E?void 0:E.id)&&(h=m.PieceColor.WHITE),t&&t.id===(null===(O=n.black)||void 0===O?void 0:O.id)&&(h=m.PieceColor.BLACK);var R=m.PieceColor.WHITE;t&&t.id===(null===(w=n.black)||void 0===w?void 0:w.id)&&(R=m.PieceColor.BLACK),o&&(R=R===m.PieceColor.WHITE?m.PieceColor.BLACK:m.PieceColor.WHITE);var B,I=k.history({verbose:!0});if(null===l){if(I.length){var P=I[I.length-1];B=[P.from,P.to]}}else if(l>0){var L=I[l-1];B=[L.from,L.to]}p=r.a.createElement("div",{className:rn.a.singleGameBoard},r.a.createElement(m.Board,{allowMarkers:!0,check:S,clickable:!0,draggable:!0,lastMoveSquares:B,movableColor:h,onMove:c,orientation:R,position:j,turnColor:C,validMoves:_,viewOnly:M}))}return r.a.createElement("div",null,r.a.createElement(N,{isLoading:s,error:b,isEmpty:!n}),p)},cn=n(73),ln=function(e){var t=e.id,n=Object(i.b)(),o=Object(i.c)((function(e){return Object(u.a)(t,I.a,e.entities)})),c=Object(i.c)((function(e){if(e.currentUser.userId)return Object(u.a)(e.currentUser.userId,en.a,e.entities)})),l=Object(i.c)((function(e){return e.singleGame[t]}))||tn.k,s=Object(a.useCallback)((function(e){n(Object(cn.a)(t,"".concat(e.from).concat(e.to)))}),[n,t]);return r.a.createElement(on,{game:o,currentUser:c,isFlipped:l.isFlipped,rewindToMoveIndex:l.rewindToMoveIndex,onMove:s,isLoading:l.isLoading,error:l.error})},un=function(){var e=Object(i.b)(),t=Object(c.g)().id,n=Number(t);return Object(a.useEffect)((function(){e(Object(tn.l)(n))}),[e,n]),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-3"},r.a.createElement(jt,{id:n})),r.a.createElement("div",{className:"col-6"},r.a.createElement(ln,{id:n})),r.a.createElement("div",{className:"col-3"},r.a.createElement(nn,{id:n})))},sn=n(23),dn=n(36),mn=n(114),fn=function(e){var t=e.currentUser,n=void 0===t?null:t,c=e.onLogout,i=e.onShowAuthModal,l=Object(a.useCallback)((function(){c&&c()}),[c]),u=Object(a.useCallback)((function(){i&&i()}),[i]);return r.a.createElement("header",{className:"d-flex flex-column flex-md-row align-items-center p-3 px-md-4 mb-3 bg-white border-bottom box-shadow"},r.a.createElement("div",{className:"offset-4 col-4 text-center"},r.a.createElement(o.b,{className:"blog-header-logo text-dark",to:"/"},"Chess PWA")),r.a.createElement("div",{className:"col-4 d-flex justify-content-end align-items-center"},n?r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"mr-3"},"Hi, ",n.fullName),r.a.createElement(L.a,{className:"btn btn-sm btn-danger mr-3","data-testid":"logout-btn",onClick:l},"Logout")):r.a.createElement(L.a,{className:"btn btn-sm btn-success mr-3","data-testid":"login-btn",onClick:u},"Login / Register"),r.a.createElement("a",{href:"https://github.com/ildar-icoosoft/chess-pwa",target:"_blank",rel:"noopener noreferrer"},r.a.createElement("img",{src:"".concat("/chess-pwa","/imgs/GitHub-Mark-32px.png"),alt:""}))))},bn=n(82),pn=function(){var e=Object(i.c)((function(e){return e.currentUser.userId?Object(u.a)(e.currentUser.userId,en.a,e.entities):null})),t=Object(i.b)(),n=Object(a.useCallback)((function(){t(Object(sn.g)())}),[t]),o=Object(a.useCallback)((function(){t(Object(bn.c)())}),[t]);return r.a.createElement(fn,{currentUser:e,onLogout:n,onShowAuthModal:o})},vn=n(271),gn=n(268),En=n(47),On=En.a().shape({email:En.c().email("Invalid email").required("Required"),password:En.c().min(6,"Password length must be >= 6").required("Required")}),wn=function(e){var t=e.onSubmit;return r.a.createElement(q.a,{initialValues:{email:"",password:""},validationSchema:On,onSubmit:function(e){function t(t,n){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(e,n){if(t)return t(e,n)}))},(function(e){var t=e.errors,n=e.values,a=e.touched,o=e.handleChange,c=e.handleBlur,i=e.handleSubmit,l=e.isSubmitting,u=e.status,s=e.setStatus;return r.a.createElement(F.a,{noValidate:!0,onSubmit:function(e){return i(e)},onChange:function(){return s("")}},!!u&&r.a.createElement(V.a,{variant:"danger"},u),r.a.createElement(F.a.Group,null,r.a.createElement(F.a.Label,null,"Email address"),r.a.createElement(F.a.Control,{type:"email",name:"email",placeholder:"Enter email",onBlur:c,value:n.email,onChange:o,isValid:a.email&&!t.email,isInvalid:a.email&&!!t.email}),r.a.createElement(F.a.Control.Feedback,{type:"invalid"},t.email)),r.a.createElement(F.a.Group,null,r.a.createElement(F.a.Label,null,"Password"),r.a.createElement(F.a.Control,{type:"password",name:"password",placeholder:"Password",onChange:o,onBlur:c,value:n.password,isValid:a.password&&!t.password,isInvalid:a.password&&!!t.password}),r.a.createElement(F.a.Control.Feedback,{type:"invalid"},t.password)),r.a.createElement(L.a,{variant:"primary",type:"submit",disabled:l},"Login"))}))},hn=En.a().shape({fullName:En.c().required("Required"),email:En.c().email("Invalid email").required("Required"),password:En.c().min(6,"Password length must be >= 6").required("Required"),confirmPassword:En.c().equals([En.b("password")],"Please repeat the password").required("Required")}),kn=function(e){var t=e.onSubmit;return r.a.createElement(q.a,{initialValues:{fullName:"",email:"",password:"",confirmPassword:""},validationSchema:hn,onSubmit:function(e){function t(t,n){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(e,n){if(t)return t(e,n)}))},(function(e){var t=e.errors,n=e.values,a=e.touched,o=e.handleChange,c=e.handleBlur,i=e.handleSubmit,l=e.isSubmitting,u=e.status,s=e.setStatus;return r.a.createElement(F.a,{noValidate:!0,onSubmit:function(e){return i(e)},onChange:function(){return s("")}},!!u&&r.a.createElement(V.a,{variant:"danger"},u),r.a.createElement(F.a.Group,null,r.a.createElement(F.a.Label,null,"Full name"),r.a.createElement(F.a.Control,{type:"text",name:"fullName",placeholder:"Enter full name",onBlur:c,value:n.fullName,onChange:o,isValid:a.fullName&&!t.fullName,isInvalid:a.fullName&&!!t.fullName}),r.a.createElement(F.a.Control.Feedback,{type:"invalid"},t.fullName)),r.a.createElement(F.a.Group,null,r.a.createElement(F.a.Label,null,"Email address"),r.a.createElement(F.a.Control,{type:"email",name:"email",placeholder:"Enter email",onBlur:c,value:n.email,onChange:o,isValid:a.email&&!t.email,isInvalid:a.email&&!!t.email}),r.a.createElement(F.a.Control.Feedback,{type:"invalid"},t.email)),r.a.createElement(F.a.Group,null,r.a.createElement(F.a.Label,null,"Password"),r.a.createElement(F.a.Control,{type:"password",name:"password",placeholder:"Password",onChange:o,onBlur:c,value:n.password,isValid:a.password&&!t.password,isInvalid:a.password&&!!t.password}),r.a.createElement(F.a.Control.Feedback,{type:"invalid"},t.password)),r.a.createElement(F.a.Group,null,r.a.createElement(F.a.Label,null,"Confirm Password"),r.a.createElement(F.a.Control,{type:"password",name:"confirmPassword",placeholder:"Password",onChange:o,onBlur:c,value:n.confirmPassword,isValid:a.confirmPassword&&!t.confirmPassword,isInvalid:a.confirmPassword&&!!t.confirmPassword}),r.a.createElement(F.a.Control.Feedback,{type:"invalid"},t.confirmPassword)),r.a.createElement(L.a,{variant:"primary",type:"submit",disabled:l},"Register"))}))},yn=function(){var e=Object(i.b)(),t=r.a.useCallback((function(t,n){return e(Object(sn.e)(t)).catch((function(e){n.setStatus(Object(X.a)(e))}))}),[e]),n=r.a.useCallback((function(t,n){return e(Object(sn.i)({fullName:t.fullName,email:t.email,password:t.password})).catch((function(e){n.setStatus(Object(X.a)(e))}))}),[e]);return r.a.createElement(vn.a,{transition:!1},r.a.createElement(gn.a,{eventKey:"home",title:"Login"},r.a.createElement(wn,{onSubmit:t})),r.a.createElement(gn.a,{eventKey:"profile",title:"Register"},r.a.createElement(kn,{onSubmit:n})))},jn=function(e){var t=e.show,n=void 0!==t&&t,a=e.onHide;return r.a.createElement("div",null,r.a.createElement(D.a,{show:n,onHide:a,animation:!1},r.a.createElement(D.a.Header,{closeButton:!0},r.a.createElement(D.a.Title,null,"Login")),r.a.createElement(D.a.Body,null,r.a.createElement(yn,null))))},Sn=function(){var e=Object(i.c)((function(e){return e.authModal})).isAuthModalVisible,t=Object(i.b)(),n=Object(a.useCallback)((function(){t(Object(bn.b)())}),[t]);return r.a.createElement(jn,{show:e,onHide:n})},Cn=n(80),_n=n(81),Mn=n(272),Rn=n(199),Nn=n.n(Rn),Bn=function(e){var t=e.items,n=void 0===t?[]:t,o=e.onHideMessage,c=Object(a.useCallback)((function(e){return function(){o&&o(e)}}),[o]);return r.a.createElement("div",{className:Nn.a.messages},n.map((function(e,t){return r.a.createElement(Mn.a,{key:t,onClose:c(e.id),show:!0,delay:3e3,autohide:!0,animation:!1},r.a.createElement(Mn.a.Body,null,e.body))})))},In=n(115),Pn=function(){var e=Object(i.b)(),t=Object(i.c)((function(e){return e.messages})),n=Object(a.useCallback)((function(t){e(Object(In.b)(t))}),[e]);return r.a.createElement(Bn,{items:t,onHideMessage:n})};t.default=function(){var e=Object(i.b)();return Object(a.useEffect)((function(){e(Object(sn.b)()),e(Object(dn.f)()),e(Object(dn.g)()),e(Object(mn.b)()),e(Object(Cn.b)()),e(Object(_n.b)())}),[e]),r.a.createElement("div",{className:"container-fluid"},r.a.createElement(o.a,null,r.a.createElement(pn,null),r.a.createElement(Sn,null),r.a.createElement(Pn,null),r.a.createElement(c.c,null,r.a.createElement(c.a,{path:"/game/:id"},r.a.createElement(un,null)),r.a.createElement(c.a,{path:"/"},r.a.createElement(Ot,null)))))}},261:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),o=n(29),c=n.n(o),i=n(8);n(209),Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var l,u,s=n(10),d=n(33),m=n(80),f=n(81),b=n(23),p=n(82),v=n(83),g=n(84),E=n(6),O=n(15),w=n(17),h=n(114),k=n(36),y=n(73),j=n(32),S=function(e,t){Object.assign(e.users,t.payload.entities.users),Object.assign(e.games,t.payload.entities.games),Object.assign(e.seeks,t.payload.entities.seeks)},C=Object(s.b)({name:"entities",initialState:{users:{},games:{},seeks:{}},reducers:{},extraReducers:(l={},Object(E.a)(l,b.d.type,(function(e,t){t.payload&&S(e,{payload:t.payload})})),Object(E.a)(l,b.f.type,S),Object(E.a)(l,b.j.type,S),Object(E.a)(l,m.c.type,S),Object(E.a)(l,f.c.type,S),Object(E.a)(l,O.n.type,S),Object(E.a)(l,O.c.type,S),Object(E.a)(l,O.t.type,S),Object(E.a)(l,O.q.type,S),Object(E.a)(l,O.f.type,S),Object(E.a)(l,O.i.type,S),Object(E.a)(l,w.f.type,S),Object(E.a)(l,w.j.type,S),Object(E.a)(l,k.b.type,S),Object(E.a)(l,k.e.type,S),Object(E.a)(l,k.c.type,(function(e,t){delete e.seeks[t.payload]})),Object(E.a)(l,k.d.type,S),Object(E.a)(l,k.a.type,S),Object(E.a)(l,y.c.type,(function(e,t){e.games[t.payload.gameId].turn="white"===e.games[t.payload.gameId].turn?"black":"white",e.games[t.payload.gameId].moves="".concat(e.games[t.payload.gameId].moves," ").concat(t.payload.move).trim()})),Object(E.a)(l,y.d.type,S),Object(E.a)(l,w.d.type,S),Object(E.a)(l,h.a.type,(function(e){Object.keys(e.games).forEach((function(t){var n=e.games[t];if("started"===n.status&&Object(j.a)(n).history().length>1){var a="white"===n.turn?"wtime":"btime";n[a]-=1e3,n[a]<0&&(n[a]=0),0===n[a]&&(n.status="outoftime",n.winner="white"===n.turn?"black":"white")}}))})),l)}).reducer,_=Object(s.b)({name:"acceptSeekRequest",initialState:{inProcess:!1,itemId:null,error:null},reducers:{},extraReducers:(u={},Object(E.a)(u,w.c.type,(function(e,t){e.inProcess=!0,e.itemId=t.payload,e.error=null})),Object(E.a)(u,w.d.type,(function(e,t){e.inProcess=!1,e.itemId=null,e.error=null})),Object(E.a)(u,w.b.type,(function(e,t){e.inProcess=!1,e.itemId=t.payload.itemId,e.error=t.payload.error})),u)}).reducer,M=n(115),R=Object(d.c)({authModal:p.a,challengeAiModal:v.a,currentUser:b.a,gamesList:m.a,entities:C,singleGame:O.j,seekModal:g.a,seeksList:f.a,acceptSeekRequest:_,messages:M.a});var N=Object(s.a)({reducer:R});!function(){var e=n(257).default;c.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(i.a,{store:N},r.a.createElement(e,null))),document.getElementById("root"))}(),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},28:function(e,t,n){"use strict";var a=new(n(9).c.Entity)("users");t.a=a},32:function(e,t,n){"use strict";var a=n(182),r="rnbqkbnr/pppppppp/8/8/8/8/PPPPPPPP/RNBQKBNR w KQkq - 0 1";t.a=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=e.initialFen;"startpos"===n&&(n=r);var o=new a.Chess(n);return e.moves&&e.moves.split(" ").forEach((function(e,n){if(!(null!==t&&n>=t)&&!o.move(e,{sloppy:!0}))throw Error("incorrect move: ".concat(e))})),o}},36:function(e,t,n){"use strict";n.d(t,"d",(function(){return d})),n.d(t,"a",(function(){return m})),n.d(t,"e",(function(){return f})),n.d(t,"b",(function(){return b})),n.d(t,"c",(function(){return p})),n.d(t,"f",(function(){return v})),n.d(t,"g",(function(){return g}));var a=n(149),r=n(10),o=n(9),c=n(14),i=n(11),l=n(54),u=Object(r.b)({name:"dataSubscription",initialState:{},reducers:{updateGameBySubscription:function(e,t){},createGameBySubscription:function(e,t){},updateSeekBySubscription:function(e,t){},createSeekBySubscription:function(e,t){},removeSeekBySubscription:function(e,t){}},extraReducers:{}}),s=u.actions,d=s.updateGameBySubscription,m=s.createGameBySubscription,f=s.updateSeekBySubscription,b=s.createSeekBySubscription,p=s.removeSeekBySubscription,v=(u.reducer,function(){return function(e){c.a.socket.on("game",(function(t){if("updated"===t.verb){var n=Object(a.a)({},t.previous,{},t.data),r=Object(o.b)(n,i.a);e(d(r))}else if("created"===t.verb){var c=Object(o.b)(t.data,i.a);e(m(c))}}))}}),g=function(){return function(e){c.a.socket.on("seek",(function(t){if("updated"===t.verb){var n=Object(a.a)({},t.previous,{},t.data),r=Object(o.b)(n,l.a);e(f(r))}else if("created"===t.verb){var c=Object(o.b)(t.data,l.a);e(b(c))}else"destroyed"===t.verb&&e(p(t.id))}))}}},48:function(e,t,n){e.exports={colorSubmits:"CreateSeekForm_colorSubmits__1rtRc",colorSubmitsButton:"CreateSeekForm_colorSubmitsButton__2SUlU",whiteButton:"CreateSeekForm_whiteButton__2Jb8D",blackButton:"CreateSeekForm_blackButton__1J0eY",randomButton:"CreateSeekForm_randomButton__34hZ3",spinnerWrapper:"CreateSeekForm_spinnerWrapper__1uHk1",spinnerButton:"CreateSeekForm_spinnerButton__2VfoE"}},54:function(e,t,n){"use strict";var a=n(9),r=n(28),o=n(11),c=new a.c.Entity("seeks",{createdBy:r.a,game:o.a});t.a=c},60:function(e,t,n){e.exports={levelButtonGroup:"ChallengeAiForm_levelButtonGroup__1lnm_",colorSubmits:"ChallengeAiForm_colorSubmits__1pM28",colorSubmitsButton:"ChallengeAiForm_colorSubmitsButton__2P6Lx",whiteButton:"ChallengeAiForm_whiteButton__2nTjs",blackButton:"ChallengeAiForm_blackButton__1LVeL",randomButton:"ChallengeAiForm_randomButton__1S07l"}},73:function(e,t,n){"use strict";n.d(t,"c",(function(){return s})),n.d(t,"d",(function(){return d})),n.d(t,"b",(function(){return m})),n.d(t,"a",(function(){return f}));var a=n(10),r=n(9),o=n(14),c=n(11),i=n(13),l=Object(a.b)({name:"move",initialState:{},reducers:{makeMoveRequest:function(e,t){},makeMoveSuccess:function(e,t){},makeMoveError:function(e,t){}},extraReducers:{}}),u=l.actions,s=u.makeMoveRequest,d=u.makeMoveSuccess,m=u.makeMoveError,f=(l.reducer,function(e,t){return function(n){return n(s({gameId:e,move:t})),new Promise((function(a,l){o.a.socket.post("/api/v1/board/game/".concat(e,"/move/").concat(t),{},(function(e,t){if(200===t.statusCode){var o=Object(r.b)(e,c.a);n(d(o)),a(e)}else n(m(Object(i.a)(t))),l(t)}))}))}})},78:function(e,t,n){e.exports={movesWrapper:"GameMoves_movesWrapper__2X9ck",moveNumber:"GameMoves_moveNumber__3tyZT",move:"GameMoves_move__21iOk",selected:"GameMoves_selected__2FXRO"}},80:function(e,t,n){"use strict";n.d(t,"c",(function(){return d})),n.d(t,"b",(function(){return f}));var a=n(10),r=n(9),o=n(14),c=n(11),i=n(13),l=Object(a.b)({name:"games",initialState:{isLoading:!0,error:null},reducers:{getGamesListRequest:function(e){e.isLoading=!0,e.error=null},getGamesListSuccess:function(e,t){e.isLoading=!1,e.error=null},getGamesListError:function(e,t){e.isLoading=!1,e.error=t.payload}}}),u=l.actions,s=u.getGamesListRequest,d=u.getGamesListSuccess,m=u.getGamesListError;t.a=l.reducer;var f=function(){return function(e){return e(s()),new Promise((function(t,n){o.a.socket.get("/game",(function(a,o){if(200===o.statusCode){var l=Object(r.b)(a,[c.a]);e(d(l)),t(a)}else e(m(Object(i.a)(o))),n(o)}))}))}}},81:function(e,t,n){"use strict";n.d(t,"c",(function(){return p})),n.d(t,"b",(function(){return g}));var a,r=n(6),o=n(10),c=n(51),i=n(9),l=n(14),u=n(54),s=n(36),d=n(13),m=Object(o.b)({name:"seeks",initialState:{isLoading:!0,error:null,items:[]},reducers:{getSeeksListRequest:function(e){e.isLoading=!0,e.error=null},getSeeksListSuccess:function(e,t){e.isLoading=!1,e.error=null,e.items=t.payload.result},getSeeksListError:function(e,t){e.isLoading=!1,e.error=t.payload,e.items=[]}},extraReducers:(a={},Object(r.a)(a,s.b.type,(function(e,t){e.items.includes(t.payload.result)||e.items.push(t.payload.result)})),Object(r.a)(a,s.e.type,(function(e,t){e.items.includes(t.payload.result)||e.items.push(t.payload.result)})),Object(r.a)(a,s.c.type,(function(e,t){Object(c.pull)(e.items,t.payload)})),a)}),f=m.actions,b=f.getSeeksListRequest,p=f.getSeeksListSuccess,v=f.getSeeksListError;t.a=m.reducer;var g=function(){return function(e){return e(b()),new Promise((function(t,n){l.a.socket.get("/seek",(function(a,r){if(200===r.statusCode){var o=Object(i.b)(a,[u.a]);e(p(o)),t(a)}else e(v(Object(d.a)(r))),n(r)}))}))}}},82:function(e,t,n){"use strict";n.d(t,"c",(function(){return u})),n.d(t,"b",(function(){return s}));var a,r=n(6),o=n(10),c=n(23),i=Object(o.b)({name:"authModal",initialState:{isAuthModalVisible:!1},reducers:{showAuthModal:function(e){e.isAuthModalVisible=!0},hideAuthModal:function(e){e.isAuthModalVisible=!1}},extraReducers:(a={},Object(r.a)(a,c.f.type,(function(e){e.isAuthModalVisible=!1})),Object(r.a)(a,c.j.type,(function(e){e.isAuthModalVisible=!1})),a)}),l=i.actions,u=l.showAuthModal,s=l.hideAuthModal;t.a=i.reducer},83:function(e,t,n){"use strict";n.d(t,"c",(function(){return l})),n.d(t,"b",(function(){return u}));var a=n(6),r=n(10),o=n(17),c=Object(r.b)({name:"challengeAiModal",initialState:{isChallengeAiModalVisible:!1},reducers:{showChallengeAiModal:function(e){e.isChallengeAiModalVisible=!0},hideChallengeAiModal:function(e){e.isChallengeAiModalVisible=!1}},extraReducers:Object(a.a)({},o.f.type,(function(e){e.isChallengeAiModalVisible=!1}))}),i=c.actions,l=i.showChallengeAiModal,u=i.hideChallengeAiModal;t.a=c.reducer},84:function(e,t,n){"use strict";n.d(t,"c",(function(){return u})),n.d(t,"b",(function(){return s}));var a,r=n(6),o=n(10),c=n(17),i=Object(o.b)({name:"seekModal",initialState:{isSeekModalVisible:!1,allowCloseSeekModal:!0},reducers:{showSeekModal:function(e){e.isSeekModalVisible=!0},hideSeekModal:function(e){e.isSeekModalVisible=!1}},extraReducers:(a={},Object(r.a)(a,c.i.type,(function(e){e.allowCloseSeekModal=!1})),Object(r.a)(a,c.j.type,(function(e){e.isSeekModalVisible=!1,e.allowCloseSeekModal=!0})),Object(r.a)(a,c.h.type,(function(e){e.allowCloseSeekModal=!0})),a)}),l=i.actions,u=l.showSeekModal,s=l.hideSeekModal;t.a=i.reducer}},[[201,1,2]]]);
//# sourceMappingURL=main.813773f3.chunk.js.map