(this["webpackJsonpchess-pwa"]=this["webpackJsonpchess-pwa"]||[]).push([[0],{10:function(e,t,n){"use strict";var a=n(187),r=n.n(a),o=n(188),c=n.n(o)()(r.a);c.sails.url=Object({NODE_ENV:"production",PUBLIC_URL:"/chess-pwa",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0}).REACT_APP_BACKEND_HOST,console.log("url",c.sails.url),t.a=c},107:function(e,t,n){e.exports={gamePreview:"GamePreviewsListItem_gamePreview__wYvMw",player:"GamePreviewsListItem_player__1GbNi",board:"GamePreviewsListItem_board__2y4Yc"}},108:function(e,t,n){e.exports={gameIsStarted:"SeeksListItem_gameIsStarted__3-Jpp",colorIcon:"SeeksListItem_colorIcon__12bXP"}},109:function(e,t,n){e.exports={userNameWrapper:"GameControlPanelUserName_userNameWrapper__3TpIe",connectedIcon:"GameControlPanelUserName_connectedIcon__1Wqhf"}},11:function(e,t,n){"use strict";var a=n(47);t.a=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"Internal server error";return e.headers["X-Exit-Description"]?e.headers["X-Exit-Description"]:Object(a.isString)(e.body)?e.body:t}},110:function(e,t,n){e.exports={dialogWrapper:"DrawOfferDialog_dialogWrapper__38JK5",acceptBtn:"DrawOfferDialog_acceptBtn__1kykG",declineBtn:"DrawOfferDialog_declineBtn__3Umym",dialogText:"DrawOfferDialog_dialogText__1yBxj"}},111:function(e,t,n){e.exports={currentUserMessage:"ChatMessagesListItem_currentUserMessage__1a4Jr",userName:"ChatMessagesListItem_userName__21pOB",messageWrapper:"ChatMessagesListItem_messageWrapper__1Yveh"}},119:function(e,t,n){"use strict";n.d(t,"a",(function(){return o})),n.d(t,"b",(function(){return c}));var a=n(12),r=Object(a.b)({name:"gameClock",initialState:{},reducers:{oneSecondPassed:function(){}},extraReducers:{}}),o=r.actions.oneSecondPassed,c=(r.reducer,function(){return function(e){var t=setInterval((function(){e(o())}),1e3);return function(){clearInterval(t)}}})},120:function(e,t,n){"use strict";n.d(t,"b",(function(){return b}));var a,r=n(4),o=n(12),c=n(47),i=n(22),l=n(76),s=n(21),u=n(15),d=n(31),m=Object(o.b)({name:"messages",initialState:[],reducers:{showMessage:function(e,t){e.push(t.payload)},hideMessage:function(e,t){Object(c.pullAllBy)(e,[{id:t.payload}],"id")}},extraReducers:(a={},Object(r.a)(a,i.b.type,(function(e,t){e.push({id:"acceptSeekError",body:t.payload.error})})),Object(r.a)(a,l.b.type,(function(e,t){e.push({id:"makeMoveError",body:t.payload})})),Object(r.a)(a,s.c.type,(function(e,t){e.push({id:"getCurrentUserError",body:t.payload})})),Object(r.a)(a,s.h.type,(function(e,t){e.push({id:"logoutError",body:t.payload})})),Object(r.a)(a,u.b.type,(function(e,t){e.push({id:"abortGameError",body:t.payload.error})})),Object(r.a)(a,d.b.type,(function(e,t){e.push({id:"createChatMessageError",body:t.payload.error})})),Object(r.a)(a,u.s.type,(function(e,t){e.push({id:"resignGameError",body:t.payload.error})})),Object(r.a)(a,u.p.type,(function(e,t){e.push({id:"offerDrawError",body:t.payload.error})})),Object(r.a)(a,u.e.type,(function(e,t){e.push({id:"acceptDrawOfferError",body:t.payload.error})})),Object(r.a)(a,u.h.type,(function(e,t){e.push({id:"declineDrawOfferError",body:t.payload.error})})),a)}),f=m.actions,b=(f.showMessage,f.hideMessage);t.a=m.reducer},13:function(e,t,n){"use strict";var a=n(8),r=n(16),o=new a.c.Entity("games",{white:r.a,black:r.a});t.a=o},143:function(e,t,n){e.exports={currentUser:"UsersListItem_currentUser__3Oixp",connectedIcon:"UsersListItem_connectedIcon__2GK65"}},144:function(e,t,n){e.exports={clock:"GameClock_clock__1XkXv",clockRun:"GameClock_clockRun__2zomt",clockEmerg:"GameClock_clockEmerg__1sFO2"}},145:function(e,t,n){e.exports={container:"GameControlPanelStatus_container__119WU",status:"GameControlPanelStatus_status__1IARo",result:"GameControlPanelStatus_result__3Qu_O"}},15:function(e,t,n){"use strict";n.d(t,"k",(function(){return l})),n.d(t,"n",(function(){return m})),n.d(t,"m",(function(){return b})),n.d(t,"u",(function(){return p})),n.d(t,"c",(function(){return g})),n.d(t,"b",(function(){return E})),n.d(t,"t",(function(){return h})),n.d(t,"s",(function(){return w})),n.d(t,"q",(function(){return j})),n.d(t,"p",(function(){return k})),n.d(t,"f",(function(){return C})),n.d(t,"e",(function(){return _})),n.d(t,"i",(function(){return R})),n.d(t,"h",(function(){return M})),n.d(t,"l",(function(){return I})),n.d(t,"a",(function(){return L})),n.d(t,"r",(function(){return P})),n.d(t,"o",(function(){return B})),n.d(t,"d",(function(){return x})),n.d(t,"g",(function(){return G}));var a=n(12),r=n(8),o=n(10),c=n(13),i=n(11),l={isLoading:!0,error:null,isFlipped:!1,rewindToMoveIndex:null},s=Object(a.b)({name:"singleGame",initialState:{},reducers:{getSingleGameRequest:function(e,t){e[t.payload]=Object.assign({},l,e[t.payload],{isLoading:!0,error:null})},getSingleGameSuccess:function(e,t){e[t.payload.result]=Object.assign({},l,e[t.payload.result],{isLoading:!1,error:null})},getSingleGameError:function(e,t){e[t.payload.itemId]=Object.assign({},l,e[t.payload.itemId],{isLoading:!1,error:t.payload.error})},abortGameRequest:function(e,t){},abortGameSuccess:function(e,t){},abortGameError:function(e,t){},resignGameRequest:function(e,t){},resignGameSuccess:function(e,t){},resignGameError:function(e,t){},offerDrawRequest:function(e,t){},offerDrawSuccess:function(e,t){},offerDrawError:function(e,t){},acceptDrawOfferRequest:function(e,t){},acceptDrawOfferSuccess:function(e,t){},acceptDrawOfferError:function(e,t){},declineDrawOfferRequest:function(e,t){},declineDrawOfferSuccess:function(e,t){},declineDrawOfferError:function(e,t){},flipBoard:function(e,t){e[t.payload].isFlipped=!e[t.payload].isFlipped},rewindToMove:function(e,t){e[t.payload.gameId].rewindToMoveIndex=t.payload.moveIndex}},extraReducers:{}}),u=s.actions,d=u.getSingleGameRequest,m=u.getSingleGameSuccess,f=u.getSingleGameError,b=u.flipBoard,p=u.rewindToMove,v=u.abortGameRequest,g=u.abortGameSuccess,E=u.abortGameError,O=u.resignGameRequest,h=u.resignGameSuccess,w=u.resignGameError,y=u.offerDrawRequest,j=u.offerDrawSuccess,k=u.offerDrawError,S=u.acceptDrawOfferRequest,C=u.acceptDrawOfferSuccess,_=u.acceptDrawOfferError,N=u.declineDrawOfferRequest,R=u.declineDrawOfferSuccess,M=u.declineDrawOfferError;t.j=s.reducer;var I=function(e){return function(t){return t(d(e)),new Promise((function(n,a){o.a.socket.get("/api/v1/game/".concat(e),(function(o,l){if(200===l.statusCode){var s=Object(r.b)(o,c.a);t(m(s)),n(o)}else t(f({itemId:e,error:Object(i.a)(l)})),a(l)}))}))}},L=function(e){return function(t){return t(v(e)),new Promise((function(n,a){o.a.socket.post("/api/v1/board/game/".concat(e,"/abort"),(function(o,l){if(200===l.statusCode){var s=Object(r.b)(o,c.a);t(g(s)),n(o)}else t(E({itemId:e,error:Object(i.a)(l)})),a(l)}))}))}},P=function(e){return function(t){return t(O(e)),new Promise((function(n,a){o.a.socket.post("/api/v1/board/game/".concat(e,"/resign"),(function(o,l){if(200===l.statusCode){var s=Object(r.b)(o,c.a);t(h(s)),n(o)}else t(w({itemId:e,error:Object(i.a)(l)})),a(l)}))}))}},B=function(e){return function(t){return t(y(e)),new Promise((function(n,a){o.a.socket.post("/api/v1/board/game/".concat(e,"/draw/yes"),(function(o,l){if(200===l.statusCode){var s=Object(r.b)(o,c.a);t(j(s)),n(o)}else t(k({itemId:e,error:Object(i.a)(l)})),a(l)}))}))}},x=function(e){return function(t){return t(S(e)),new Promise((function(n,a){o.a.socket.post("/api/v1/board/game/".concat(e,"/draw/yes"),(function(o,l){if(200===l.statusCode){var s=Object(r.b)(o,c.a);t(C(s)),n(o)}else t(_({itemId:e,error:Object(i.a)(l)})),a(l)}))}))}},G=function(e){return function(t){return t(N(e)),new Promise((function(n,a){o.a.socket.post("/api/v1/board/game/".concat(e,"/draw/no"),(function(o,l){if(200===l.statusCode){var s=Object(r.b)(o,c.a);t(R(s)),n(o)}else t(M({itemId:e,error:Object(i.a)(l)})),a(l)}))}))}}},158:function(e,t,n){e.exports={clockRun:"GamePreviewClock_clockRun__2fzqU"}},16:function(e,t,n){"use strict";var a=new(n(8).c.Entity)("users");t.a=a},163:function(e,t,n){e.exports={colorIcon:"GameMeta_colorIcon__2-cJ5"}},164:function(e,t,n){e.exports={controlPanel:"GameControlPanel_controlPanel__31q_E",controlPanelInner:"GameControlPanel_controlPanelInner__mVrde"}},18:function(e,t,n){"use strict";n.d(t,"f",(function(){return f})),n.d(t,"b",(function(){return b})),n.d(t,"g",(function(){return p})),n.d(t,"c",(function(){return v})),n.d(t,"e",(function(){return g})),n.d(t,"d",(function(){return E})),n.d(t,"h",(function(){return O})),n.d(t,"a",(function(){return h})),n.d(t,"j",(function(){return w})),n.d(t,"k",(function(){return y})),n.d(t,"l",(function(){return j})),n.d(t,"i",(function(){return k}));var a=n(142),r=n(12),o=n(8),c=n(10),i=n(13),l=n(57),s=n(16),u=n(75),d=Object(r.b)({name:"dataSubscription",initialState:{},reducers:{updateGameBySubscription:function(e,t){},createGameBySubscription:function(e,t){},updateSeekBySubscription:function(e,t){},createSeekBySubscription:function(e,t){},removeSeekBySubscription:function(e,t){},createUserBySubscription:function(e,t){},updateUserBySubscription:function(e,t){},createChatMessageBySubscription:function(e,t){}},extraReducers:{}}),m=d.actions,f=m.updateGameBySubscription,b=m.createGameBySubscription,p=m.updateSeekBySubscription,v=m.createSeekBySubscription,g=m.removeSeekBySubscription,E=m.createUserBySubscription,O=m.updateUserBySubscription,h=m.createChatMessageBySubscription,w=(d.reducer,function(){return function(e){c.a.socket.on("game",(function(t){if("updated"===t.verb){var n=Object(a.a)({},t.previous,{},t.data),r=Object(o.b)(n,i.a);e(f(r))}else if("created"===t.verb){var c=Object(o.b)(t.data,i.a);e(b(c))}}))}}),y=function(){return function(e){c.a.socket.on("seek",(function(t){if("updated"===t.verb){var n=Object(a.a)({},t.previous,{},t.data),r=Object(o.b)(n,l.a);e(p(r))}else if("created"===t.verb){var c=Object(o.b)(t.data,l.a);e(v(c))}else"destroyed"===t.verb&&e(g(t.id))}))}},j=function(){return function(e){c.a.socket.on("user",(function(t){if("updated"===t.verb){var n=Object(a.a)({},t.previous,{},t.data),r=Object(o.b)(n,s.a);e(O(r))}else if("created"===t.verb){var c=Object(o.b)(t.data,s.a);e(E(c))}}))}},k=function(){return function(e){c.a.socket.on("chat-message",(function(t){if("created"===t.verb){var n=Object(o.b)(t.data,u.a);e(h(n))}}))}}},190:function(e,t,n){e.exports={grid:"GamePreviewsList_grid__2iggX"}},191:function(e,t,n){e.exports={result:"GamePreviewResult_result__2DwMU"}},200:function(e,t,n){e.exports={buttonsWrapper:"GameControlPanelTopToolbar_buttonsWrapper__TJIBo"}},201:function(e,t,n){e.exports={buttonsWrapper:"GameControlPanelBottomToolbar_buttonsWrapper__21ame"}},202:function(e,t,n){e.exports={singleGameBoard:"SingleGameBoard_singleGameBoard__2rYay"}},203:function(e,t,n){e.exports={chatMessages:"ChatMessagesList_chatMessages__4clbd"}},204:function(e,t,n){e.exports={textInput:"PostChatMessageForm_textInput__1LkoS"}},208:function(e,t,n){e.exports={messages:"Messages_messages__ESZ_K"}},21:function(e,t,n){"use strict";n.d(t,"d",(function(){return d})),n.d(t,"c",(function(){return m})),n.d(t,"f",(function(){return b})),n.d(t,"j",(function(){return g})),n.d(t,"h",(function(){return w})),n.d(t,"b",(function(){return y})),n.d(t,"e",(function(){return j})),n.d(t,"i",(function(){return k})),n.d(t,"g",(function(){return S}));var a=n(12),r=n(8),o=n(10),c=n(16),i=n(11),l=Object(a.b)({name:"currentUser",initialState:{userId:null,isLoading:!0,error:null},reducers:{getCurrentUserRequest:function(e){e.isLoading=!0,e.error=null},getCurrentUserSuccess:function(e,t){e.userId=t.payload?t.payload.result:null,e.isLoading=!1,e.error=null},getCurrentUserError:function(e,t){e.isLoading=!1,e.error=t.payload},loginRequest:function(e){},loginSuccess:function(e,t){e.userId=t.payload.result},loginError:function(e,t){},registerRequest:function(e){},registerSuccess:function(e,t){e.userId=t.payload.result},registerError:function(e,t){},logoutRequest:function(e){},logoutSuccess:function(e){e.userId=null},logoutError:function(e,t){}}}),s=l.actions,u=s.getCurrentUserRequest,d=s.getCurrentUserSuccess,m=s.getCurrentUserError,f=s.loginRequest,b=s.loginSuccess,p=s.loginError,v=s.registerRequest,g=s.registerSuccess,E=s.registerError,O=s.logoutRequest,h=s.logoutSuccess,w=s.logoutError;t.a=l.reducer;var y=function(){return function(e){return e(u()),new Promise((function(t,n){o.a.socket.get("/api/v1/account/me",(function(a,o){if(200===o.statusCode){var l=Object(r.b)(a,c.a);e(d(l)),t(a)}else 401===o.statusCode?(e(d(null)),t(null)):(e(m(Object(i.a)(o))),n(o))}))}))}},j=function(e){return function(t){return t(f()),new Promise((function(n,a){o.a.socket.put("/api/v1/entrance/login",{emailAddress:e.email,password:e.password},(function(e,o){if(200===o.statusCode){var l=Object(r.b)(e,c.a);t(b(l)),n(e)}else t(p(Object(i.a)(o))),a(o)}))}))}},k=function(e){return function(t){return t(v()),new Promise((function(n,a){o.a.socket.post("/api/v1/entrance/signup",{fullName:e.fullName,emailAddress:e.email,password:e.password,confirmPassword:e.password,agreed:!0},(function(e,o){if(200===o.statusCode){var l=Object(r.b)(e,c.a);t(g(l)),n(e)}else t(E(Object(i.a)(o))),a(o)}))}))}},S=function(){return function(e){return e(O()),new Promise((function(t,n){o.a.socket.post("/api/v1/account/logout",{},(function(a,r){200===r.statusCode?(e(h()),t()):(e(w(Object(i.a)(r))),n(r))}))}))}}},211:function(e,t,n){e.exports=n(274)},219:function(e,t,n){},22:function(e,t,n){"use strict";n.d(t,"f",(function(){return m})),n.d(t,"i",(function(){return b})),n.d(t,"j",(function(){return p})),n.d(t,"h",(function(){return v})),n.d(t,"c",(function(){return g})),n.d(t,"d",(function(){return E})),n.d(t,"b",(function(){return O})),n.d(t,"e",(function(){return h})),n.d(t,"g",(function(){return w})),n.d(t,"a",(function(){return y}));var a=n(12),r=n(8),o=n(10),c=n(13),i=n(57),l=n(11),s=Object(a.b)({name:"challenge",initialState:{},reducers:{challengeAiRequest:function(){},challengeAiSuccess:function(e,t){},challengeAiError:function(e,t){},createSeekRequest:function(){},createSeekSuccess:function(e,t){},createSeekError:function(e,t){},acceptSeekRequest:function(e,t){},acceptSeekSuccess:function(e,t){},acceptSeekError:function(e,t){}},extraReducers:{}}),u=s.actions,d=u.challengeAiRequest,m=u.challengeAiSuccess,f=u.challengeAiError,b=u.createSeekRequest,p=u.createSeekSuccess,v=u.createSeekError,g=u.acceptSeekRequest,E=u.acceptSeekSuccess,O=u.acceptSeekError,h=(s.reducer,function(e){return function(t){return t(d()),new Promise((function(n,a){o.a.socket.post("/api/v1/challenge/ai",e,(function(e,o){if(200===o.statusCode){var i=Object(r.b)(e,c.a);t(m(i)),n(e)}else t(f(Object(l.a)(o))),a(o)}))}))}}),w=function(e){return function(t){return t(b()),new Promise((function(n,a){o.a.socket.post("/api/v1/board/seek",e,(function(e,o){if(200===o.statusCode){var i=Object(r.b)(e,c.a);t(p(i)),n(e)}else t(v(Object(l.a)(o))),a(o)}))}))}},y=function(e){return function(t){return t(g(e)),new Promise((function(n,a){o.a.socket.post("/api/v1/board/seek/".concat(e,"/accept"),{},(function(o,c){if(200===c.statusCode){var s=Object(r.b)(o,i.a);t(E(s)),n(o)}else t(O({itemId:e,error:Object(l.a)(c)})),a(c)}))}))}}},248:function(e,t){},253:function(e,t,n){},27:function(e,t,n){"use strict";var a=n(189),r="rnbqkbnr/pppppppp/8/8/8/8/PPPPPPPP/RNBQKBNR w KQkq - 0 1";t.a=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=e.initialFen;"startpos"===n&&(n=r);var o=new a.Chess(n);return e.moves&&e.moves.split(" ").forEach((function(e,n){if(!(null!==t&&n>=t)&&!o.move(e,{sloppy:!0}))throw Error("incorrect move: ".concat(e))})),o}},270:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),o=n(53),c=n(20),i=n(7),l=(n(252),n(253),n(286)),s=n(8),u=n(190),d=n.n(u),m=n(81),f=n(27),b=n(107),p=n.n(b),v=function(e){var t=e.game,n=e.color,a=void 0===n?"white":n;return t?r.a.createElement("span",null,t[a]?t[a].fullName:"AI level ".concat(t.aiLevel)):null},g=n(191),E=n.n(g),O=function(e){var t=e.game,n=e.color,a=void 0===n?"white":n;if(!t)return null;var o="\xbd";return t.winner&&(o=t.winner===a?"1":"0"),r.a.createElement("span",{className:E.a.result},o)},h=n(4),w=n(122),y=n.n(w),j=n(2),k=n.n(j),S=n(158),C=n.n(S),_=function(e){var t=e.time,n=void 0===t?0:t,a=e.isRunning,o=void 0!==a&&a,c=y()().startOf("day").milliseconds(n).format("mm:ss");return r.a.createElement("div",{"data-testid":"time",className:k()(C.a.clock,Object(h.a)({},C.a.clockRun,o))},c)},N=function(e){var t=e.game;if(!t)return null;var n=Object(f.a)(t).fen();return r.a.createElement("div",{className:p.a.gamePreview},r.a.createElement("div",{className:p.a.player},r.a.createElement(v,{game:t,color:"black"}),"started"===t.status&&r.a.createElement(_,{time:t.btime,isRunning:"black"===t.turn}),"started"!==t.status&&"aborted"!==t.status&&r.a.createElement(O,{game:t,color:"black"})),r.a.createElement("div",{className:p.a.board},r.a.createElement(o.b,{to:"/game/".concat(t.id)},r.a.createElement(m.Board,{position:n,viewOnly:!1,width:240}))),r.a.createElement("div",{className:p.a.player},r.a.createElement(v,{game:t,color:"white"}),"started"===t.status&&r.a.createElement(_,{time:t.wtime,isRunning:"white"===t.turn}),"started"!==t.status&&"aborted"!==t.status&&r.a.createElement(O,{game:t,color:"white"})))},R=n(276),M=function(e){var t=e.emptyContentMessage,n=void 0===t?"content is empty":t,a=e.isEmpty,o=void 0!==a&&a,c=e.isLoading,i=void 0!==c&&c,l=e.error,s=void 0===l?null:l,u=e.showEmptyContentMessage;return o&&!i&&!s&&(void 0===u||u)?r.a.createElement("div",{className:"alert alert-warning text-center",role:"alert","data-testid":"empty-content-message"},n):i&&o?r.a.createElement("div",{className:"text-center"},r.a.createElement(R.a,{animation:"border",role:"status","data-testid":"loading-spinner"},r.a.createElement("span",{className:"sr-only"},"Loading..."))):s?r.a.createElement("div",{className:"alert alert-danger text-center",role:"alert","data-testid":"error-message"},s):null},I=function(e){var t=e.games,n=void 0===t?[]:t,a=e.isLoading,o=void 0!==a&&a,c=e.error,i=void 0===c?null:c,l=e.emptyContentMessage;return r.a.createElement("div",null,r.a.createElement(M,{isLoading:o,error:i,isEmpty:0===n.length,emptyContentMessage:l}),r.a.createElement("div",{className:d.a.grid},n.map((function(e){return r.a.createElement(N,{game:e,key:e.id})}))))},L=n(13),P=function(){var e=Object(i.useSelector)((function(e){return Object(s.a)(Object.keys(e.entities.games),[L.a],e.entities).filter((function(e){return"started"===e.status})).sort((function(e,t){return t.createdAt-e.createdAt})).slice(0,9)})),t=Object(i.useSelector)((function(e){return e.gamesList.isLoading})),n=Object(i.useSelector)((function(e){return e.gamesList.error}));return r.a.createElement(I,{games:e,isLoading:t,error:n,emptyContentMessage:"Nobody is playing right now"})},B=n(277),x=function(e){var t=e.onChallengeAi,n=e.onCreateGame,o=Object(a.useCallback)((function(){t&&t()}),[t]),c=Object(a.useCallback)((function(){n&&n()}),[n]);return r.a.createElement("div",{className:"mb-3"},r.a.createElement(B.a,{variant:"primary",onClick:c,"data-testid":"create-game-btn",className:"mr-3"},"Create a game"),r.a.createElement(B.a,{variant:"primary",onClick:o,"data-testid":"challenge-ai-btn"},"Play with the computer"))},G=n(36),D=function(){var e=Object(i.useDispatch)(),t=Object(a.useCallback)((function(){e(Object(G.c)({name:"challengeAi",allowClose:!0}))}),[e]),n=Object(a.useCallback)((function(){e(Object(G.c)({name:"seek",allowClose:!0}))}),[e]);return r.a.createElement(x,{onChallengeAi:t,onCreateGame:n})},T=n(282),q=n(55),U=n(283),A=n(278),F=n(279),W=n(280),V=n(63),H=n.n(V),K=function(e){var t=e.onSubmit;return r.a.createElement(q.a,{initialValues:{level:2,color:"",clockLimit:300,clockIncrement:3},onSubmit:function(e){function t(t,n){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(e,n){if(t)return t(e,n)}))},(function(e){var t=e.values,n=e.handleChange,a=e.handleBlur,o=e.handleSubmit,c=e.isSubmitting,i=e.status,l=e.setStatus,s=e.setFieldValue;return r.a.createElement(U.a,{noValidate:!0,onSubmit:function(e){return o(e)},onChange:function(){return l("")}},!!i&&r.a.createElement(A.a,{variant:"danger"},i),r.a.createElement("fieldset",null,r.a.createElement(U.a.Group,null,r.a.createElement(U.a.Label,null,"Minutes per side: ",t.clockLimit/60),r.a.createElement(U.a.Control,{type:"range",name:"clockLimit",onBlur:a,value:t.clockLimit,onChange:n,min:"60",max:"1800",step:"60"})),r.a.createElement(U.a.Group,null,r.a.createElement(U.a.Label,null,"Increment in seconds: ",t.clockIncrement),r.a.createElement(U.a.Control,{type:"range",name:"clockIncrement",onBlur:a,value:t.clockIncrement,onChange:n,min:"0",max:"60"}))),r.a.createElement("div",{className:"text-center"},"Level"),r.a.createElement(F.a,null,r.a.createElement(W.a,{className:k()("mx-auto",H.a.levelButtonGroup)},[1,2,3,4].map((function(e){return r.a.createElement(B.a,{key:e,type:"button",variant:e===t.level?"dark":"light",onClick:function(){return s("level",e)}},e)})))),r.a.createElement("div",{className:"text-center"},"A.I. Level: ",t.level),r.a.createElement("div",{className:H.a.colorSubmits},r.a.createElement("button",{disabled:c,type:"submit",title:"Black",className:k()(H.a.colorSubmitsButton,H.a.blackButton),onClick:function(){return s("color","black")}},r.a.createElement("i",null)),r.a.createElement("button",{disabled:c,type:"submit",title:"Random side",className:k()(H.a.colorSubmitsButton,H.a.randomButton),onClick:function(){return s("color","random")}},r.a.createElement("i",null)),r.a.createElement("button",{disabled:c,type:"submit",title:"White",className:k()(H.a.colorSubmitsButton,H.a.whiteButton),onClick:function(){return s("color","white")}},r.a.createElement("i",null))))}))},z=n(22),Q=n(11),J=function(){var e=Object(i.useDispatch)(),t=Object(c.f)(),n=Object(a.useCallback)((function(n,a){return e(Object(z.e)(n)).then((function(e){t.push("/game/".concat(e.id))})).catch((function(e){a.setStatus(Object(Q.a)(e))}))}),[e,t]);return r.a.createElement(K,{onSubmit:n})},X=function(e){var t=e.show,n=void 0!==t&&t,a=e.onHide;return r.a.createElement(T.a,{show:n,onHide:a,animation:!1},r.a.createElement(T.a.Header,{closeButton:!0},r.a.createElement(T.a.Title,null,"Play with the computer")),r.a.createElement(T.a.Body,null,r.a.createElement(J,null)))},Y=function(){var e=Object(i.useSelector)((function(e){return"challengeAi"===e.modal.showModal})),t=Object(i.useDispatch)(),n=Object(a.useCallback)((function(){t(Object(G.b)())}),[t]);return r.a.createElement(X,{show:e,onHide:n})},Z=function(){var e=Object(i.useSelector)((function(e){return Object(s.a)(Object.keys(e.entities.games),[L.a],e.entities).filter((function(e){return"started"!==e.status&&"aborted"!==e.status})).sort((function(e,t){return t.createdAt-e.createdAt})).slice(0,9)})),t=Object(i.useSelector)((function(e){return e.gamesList.isLoading})),n=Object(i.useSelector)((function(e){return e.gamesList.error}));return r.a.createElement(I,{games:e,isLoading:t,error:n,emptyContentMessage:"There is no finished games yet"})},$=n(51),ee=n.n($),te=function(e){var t=e.onSubmit,n=e.onAbort,o=Object(a.useCallback)((function(){n&&n()}),[n]);return r.a.createElement(q.a,{initialValues:{color:"",clockLimit:300,clockIncrement:3},onSubmit:function(e){function t(t,n){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(e,n){if(t)return t(e,n)}))},(function(e){var t=e.values,n=e.handleChange,a=e.handleBlur,c=e.handleSubmit,i=e.isSubmitting,l=e.status,s=e.setStatus,u=e.setFieldValue;return r.a.createElement(U.a,{noValidate:!0,onSubmit:function(e){return c(e)},onChange:function(){return s("")}},!!l&&r.a.createElement(A.a,{variant:"danger"},l),r.a.createElement("fieldset",null,r.a.createElement(U.a.Group,null,r.a.createElement(U.a.Label,null,"Minutes per side: ",t.clockLimit/60),r.a.createElement(U.a.Control,{disabled:i,type:"range",name:"clockLimit",onBlur:a,value:t.clockLimit,onChange:n,min:"60",max:"1800",step:"60"})),r.a.createElement(U.a.Group,null,r.a.createElement(U.a.Label,null,"Increment in seconds: ",t.clockIncrement),r.a.createElement(U.a.Control,{disabled:i,type:"range",name:"clockIncrement",onBlur:a,value:t.clockIncrement,onChange:n,min:"0",max:"60"}))),r.a.createElement("div",{className:ee.a.colorSubmits},r.a.createElement("button",{disabled:i,type:"submit",title:"Black",className:k()(ee.a.colorSubmitsButton,ee.a.blackButton),onClick:function(){return u("color","black")}},r.a.createElement("i",null)),r.a.createElement("button",{disabled:i,type:"submit",title:"Random side",className:k()(ee.a.colorSubmitsButton,ee.a.randomButton),onClick:function(){return u("color","random")}},r.a.createElement("i",null)),r.a.createElement("button",{disabled:i,type:"submit",title:"White",className:k()(ee.a.colorSubmitsButton,ee.a.whiteButton),onClick:function(){return u("color","white")}},r.a.createElement("i",null))),i&&r.a.createElement("div",{className:ee.a.spinnerWrapper},r.a.createElement(R.a,{animation:"border",className:ee.a.spinner},r.a.createElement("span",{className:"sr-only"},"Waiting for opponent...")),r.a.createElement(B.a,{variant:"danger",className:ee.a.spinnerButton,onClick:o},"Abort")))}))},ne=n(10),ae=function(){var e=Object(i.useDispatch)(),t=Object(c.f)(),n=Object(a.useCallback)((function(n,a){return e(Object(z.g)(n)).then((function(e){t.push("/game/".concat(e.id))})).catch((function(e){0===e.statusCode||a.setStatus(Object(Q.a)(e))}))}),[e,t]),o=Object(a.useCallback)((function(){ne.a.socket.disconnect(),ne.a.socket.reconnect()}),[]);return r.a.createElement(te,{onSubmit:n,onAbort:o})},re=function(e){var t=e.allowClose,n=void 0===t||t,a=e.show,o=void 0!==a&&a,c=e.onHide;return r.a.createElement(T.a,{show:o,onHide:c,animation:!1,backdrop:!!n||"static"},r.a.createElement(T.a.Header,{closeButton:n},r.a.createElement(T.a.Title,null,"Create a game")),r.a.createElement(T.a.Body,null,r.a.createElement(ae,null)))},oe=function(){var e=Object(i.useSelector)((function(e){return"seek"===e.modal.showModal})),t=Object(i.useSelector)((function(e){return e.modal.allowClose})),n=Object(i.useDispatch)(),o=Object(a.useCallback)((function(){n(Object(G.b)())}),[n]);return r.a.createElement(re,{allowClose:t,show:e,onHide:o})},ce=n(57),ie=n(108),le=n.n(ie);function se(){return(se=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}function ue(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},o=Object.keys(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var de=r.a.createElement("g",null,r.a.createElement("g",null,r.a.createElement("path",{d:"M256,0C114.618,0,0,114.618,0,256s114.618,256,256,256s256-114.618,256-256S397.382,0,256,0z M256,469.333 c-117.818,0-213.333-95.515-213.333-213.333S138.182,42.667,256,42.667S469.333,138.182,469.333,256S373.818,469.333,256,469.333z "}))),me=r.a.createElement("g",null),fe=r.a.createElement("g",null),be=r.a.createElement("g",null),pe=r.a.createElement("g",null),ve=r.a.createElement("g",null),ge=r.a.createElement("g",null),Ee=r.a.createElement("g",null),Oe=r.a.createElement("g",null),he=r.a.createElement("g",null),we=r.a.createElement("g",null),ye=r.a.createElement("g",null),je=r.a.createElement("g",null),ke=r.a.createElement("g",null),Se=r.a.createElement("g",null),Ce=r.a.createElement("g",null),_e=function(e){var t=e.svgRef,n=e.title,a=ue(e,["svgRef","title"]);return r.a.createElement("svg",se({id:"Layer_1",x:"0px",y:"0px",viewBox:"0 0 512 512",style:{enableBackground:"new 0 0 512 512"},xmlSpace:"preserve",ref:t},a),n?r.a.createElement("title",null,n):null,de,me,fe,be,pe,ve,ge,Ee,Oe,he,we,ye,je,ke,Se,Ce)},Ne=r.a.forwardRef((function(e,t){return r.a.createElement(_e,se({svgRef:t},e))}));n.p;function Re(){return(Re=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}function Me(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},o=Object.keys(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var Ie=r.a.createElement("g",null,r.a.createElement("g",null,r.a.createElement("path",{d:"M256,0C114.837,0,0,114.837,0,256s114.837,256,256,256s256-114.837,256-256S397.163,0,256,0z"}))),Le=r.a.createElement("g",null),Pe=r.a.createElement("g",null),Be=r.a.createElement("g",null),xe=r.a.createElement("g",null),Ge=r.a.createElement("g",null),De=r.a.createElement("g",null),Te=r.a.createElement("g",null),qe=r.a.createElement("g",null),Ue=r.a.createElement("g",null),Ae=r.a.createElement("g",null),Fe=r.a.createElement("g",null),We=r.a.createElement("g",null),Ve=r.a.createElement("g",null),He=r.a.createElement("g",null),Ke=r.a.createElement("g",null),ze=function(e){var t=e.svgRef,n=e.title,a=Me(e,["svgRef","title"]);return r.a.createElement("svg",Re({id:"Layer_1",x:"0px",y:"0px",viewBox:"0 0 512 512",style:{enableBackground:"new 0 0 512 512"},xmlSpace:"preserve",ref:t},a),n?r.a.createElement("title",null,n):null,Ie,Le,Pe,Be,xe,Ge,De,Te,qe,Ue,Ae,Fe,We,Ve,He,Ke)},Qe=r.a.forwardRef((function(e,t){return r.a.createElement(ze,Re({svgRef:t},e))}));n.p;function Je(){return(Je=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}function Xe(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},o=Object.keys(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var Ye=r.a.createElement("g",null,r.a.createElement("g",{id:"c198_half_moon"},r.a.createElement("path",{d:"M29.105,14.552c0-0.03-0.004-0.06-0.004-0.092C29.054,6.481,22.584,0.027,14.6,0.002C14.585,0.002,14.569,0,14.556,0 h-0.002l0,0C6.547,0,0.051,6.47,0.005,14.468c0,0.027-0.004,0.053-0.004,0.084v0.002l0,0c0,8.037,6.517,14.553,14.553,14.553l0,0 h0.002c0.014,0,0.029-0.003,0.044-0.003c8.016-0.025,14.507-6.529,14.507-14.55l0,0L29.105,14.552L29.105,14.552z M14.556,2.079 c6.877,0,12.473,5.596,12.473,12.473c0,6.876-5.596,12.476-12.473,12.476V2.079z"})),r.a.createElement("g",{id:"Capa_1_271_"})),Ze=r.a.createElement("g",null),$e=r.a.createElement("g",null),et=r.a.createElement("g",null),tt=r.a.createElement("g",null),nt=r.a.createElement("g",null),at=r.a.createElement("g",null),rt=r.a.createElement("g",null),ot=r.a.createElement("g",null),ct=r.a.createElement("g",null),it=r.a.createElement("g",null),lt=r.a.createElement("g",null),st=r.a.createElement("g",null),ut=r.a.createElement("g",null),dt=r.a.createElement("g",null),mt=r.a.createElement("g",null),ft=function(e){var t=e.svgRef,n=e.title,a=Xe(e,["svgRef","title"]);return r.a.createElement("svg",Je({id:"Capa_1",x:"0px",y:"0px",viewBox:"0 0 29.107 29.107",style:{enableBackground:"new 0 0 29.107 29.107"},xmlSpace:"preserve",ref:t},a),n?r.a.createElement("title",null,n):null,Ye,Ze,$e,et,tt,nt,at,rt,ot,ct,it,lt,st,ut,dt,mt)},bt=r.a.forwardRef((function(e,t){return r.a.createElement(ft,Je({svgRef:t},e))})),pt=(n.p,function(e){var t=e.acceptInProcess,n=void 0===t?null:t,o=e.currentUserId,c=void 0===o?null:o,i=e.seek,l=e.onPlay,s=Object(a.useCallback)((function(){l&&l(i.id)}),[l,i]);return i?r.a.createElement("div",{"data-testid":"seek-wrapper",className:k()("d-flex","align-items-center","border-bottom",Object(h.a)({},le.a.gameIsStarted,i.game))},r.a.createElement("div",{className:"d-flex pl-2"},"white"===i.color&&r.a.createElement(Ne,{"data-testid":"white-icon",className:le.a.colorIcon}),"black"===i.color&&r.a.createElement(Qe,{"data-testid":"black-icon",className:le.a.colorIcon}),"random"===i.color&&r.a.createElement(bt,{"data-testid":"random-icon",className:le.a.colorIcon})),r.a.createElement("div",{"data-testid":"user-name",className:"mr-auto p-2"},i.createdBy.fullName),r.a.createElement("div",{"data-testid":"time-control",className:"p-2"},i.clockLimit/60," + ",i.clockIncrement),r.a.createElement("div",{className:"p-2"},c!==i.createdBy.id&&r.a.createElement(B.a,{"data-testid":"play-btn",onClick:s,disabled:null!==n||!!i.game},n===i.id&&r.a.createElement(R.a,{animation:"border","data-testid":"play-btn-spinner",size:"sm",className:"mr-2"},r.a.createElement("span",{className:"sr-only"},"Sending...")),"Play"))):null}),vt=function(e){var t=e.acceptInProcess,n=void 0===t?null:t,a=e.currentUserId,o=void 0===a?null:a,c=e.seeks,i=void 0===c?[]:c,l=e.onPlay,s=e.isLoading,u=void 0!==s&&s,d=e.error,m=void 0===d?null:d;return r.a.createElement("div",null,r.a.createElement(M,{isLoading:u,error:m,isEmpty:0===i.length,emptyContentMessage:"Nobody is waiting for opponent"}),r.a.createElement("div",null,i.map((function(e){return r.a.createElement(pt,{acceptInProcess:n,currentUserId:o,seek:e,onPlay:l,key:e.id})}))))},gt=function(){var e=Object(i.useDispatch)(),t=Object(c.f)(),n=Object(i.useSelector)((function(e){return e.currentUser.userId})),o=Object(i.useSelector)((function(e){return Object(s.a)(e.seeksList.items,[ce.a],e.entities)})),l=Object(i.useSelector)((function(e){return e.seeksList.isLoading})),u=Object(i.useSelector)((function(e){return e.seeksList.error})),d=Object(i.useSelector)((function(e){return e.acceptSeekRequest})),m=d.inProcess?d.itemId:null,f=Object(a.useCallback)((function(n){return e(Object(z.a)(n)).then((function(e){t.push("/game/".concat(e.game.id))})).catch((function(){}))}),[e,t]);return r.a.createElement(vt,{currentUserId:n,seeks:o,onPlay:f,acceptInProcess:m,isLoading:l,error:u})},Et=n(199),Ot=n.n(Et),ht=n(143),wt=n.n(ht);function yt(){return(yt=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}function jt(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},o=Object.keys(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var kt=r.a.createElement("circle",{cx:9,cy:9,r:6,stroke:"#629924",strokeWidth:1,fill:"#629924"}),St=function(e){var t=e.svgRef,n=e.title,a=jt(e,["svgRef","title"]);return r.a.createElement("svg",yt({height:18,width:16,ref:t},a),n?r.a.createElement("title",null,n):null,kt)},Ct=r.a.forwardRef((function(e,t){return r.a.createElement(St,yt({svgRef:t},e))}));n.p;function _t(){return(_t=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}function Nt(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},o=Object.keys(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var Rt=r.a.createElement("circle",{cx:9,cy:9,r:6,stroke:"#BBB6B4",strokeWidth:1,fill:"#fff"}),Mt=function(e){var t=e.svgRef,n=e.title,a=Nt(e,["svgRef","title"]);return r.a.createElement("svg",_t({height:18,width:16,ref:t},a),n?r.a.createElement("title",null,n):null,Rt)},It=r.a.forwardRef((function(e,t){return r.a.createElement(Mt,_t({svgRef:t},e))})),Lt=(n.p,function(e){var t=e.currentUserId,n=void 0===t?null:t,a=e.user;return a?r.a.createElement("div",{"data-testid":"user-wrapper",className:k()("d-flex","align-items-center","border-bottom",Object(h.a)({},wt.a.currentUser,a.id===n))},r.a.createElement("div",{className:"d-flex pl-2"},a.isOnline&&r.a.createElement(Ct,{"data-testid":"online-icon",className:wt.a.connectedIcon,title:"online"}),!a.isOnline&&r.a.createElement(It,{"data-testid":"offline-icon",className:wt.a.connectedIcon,title:"offline"})),r.a.createElement("div",{"data-testid":"user-name",className:"mr-auto p-2"},a.fullName),r.a.createElement("div",{"data-testid":"registration-date",title:"registration date"},Ot()(a.createdAt).format("LLL"))):null}),Pt=function(e){var t=e.currentUserId,n=void 0===t?null:t,a=e.users,o=void 0===a?[]:a,c=e.isLoading,i=void 0!==c&&c,l=e.error,s=void 0===l?null:l;return r.a.createElement("div",null,r.a.createElement(M,{isLoading:i,error:s,isEmpty:0===o.length,emptyContentMessage:"There is no players yet"}),r.a.createElement("div",null,o.map((function(e){return r.a.createElement(Lt,{currentUserId:n,user:e,key:e.id})}))))},Bt=n(16),xt=function(){var e=Object(i.useSelector)((function(e){return e.currentUser.userId})),t=Object(i.useSelector)((function(e){return Object(s.a)(e.usersList.items,[Bt.a],e.entities)})),n=Object(i.useSelector)((function(e){return e.usersList.isLoading})),a=Object(i.useSelector)((function(e){return e.usersList.error}));return r.a.createElement(Pt,{users:t,isLoading:n,error:a,currentUserId:e})},Gt=function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(Y,null),r.a.createElement(oe,null),r.a.createElement("div",{className:"d-flex justify-content-center"},r.a.createElement(D,null)),r.a.createElement(l.a,{className:"mb-3"},r.a.createElement(l.a.Body,null,r.a.createElement(l.a.Title,null,"Our players"),r.a.createElement(xt,null))),r.a.createElement(l.a,{className:"mb-3"},r.a.createElement(l.a.Body,null,r.a.createElement(l.a.Title,null,"Waiting for opponent"),r.a.createElement(gt,null))),r.a.createElement(l.a,{className:"mb-3"},r.a.createElement(l.a.Body,null,r.a.createElement(l.a.Title,null,"Playing right now"),r.a.createElement(P,null))),r.a.createElement(l.a,null,r.a.createElement(l.a.Body,null,r.a.createElement(l.a.Title,null,"Finished"),r.a.createElement(Z,null))))},Dt=function(e){if("outoftime"===e.status){if("white"===e.winner)return"Time out \u2022 White is victorious";if("black"===e.winner)return"Time out \u2022 Black is victorious"}if("resign"===e.status){if("black"===e.winner)return"White resigned \u2022 Black is victorious";if("white"===e.winner)return"Black resigned \u2022 White is victorious"}if("aborted"===e.status)return"Game aborted";if("mate"===e.status){if("white"===e.winner)return"Checkmate \u2022 White is victorious";if("black"===e.winner)return"Checkmate \u2022 Black is victorious"}return"draw"===e.status?"Draw":"stalemate"===e.status?"Stalemate":"Playing right now"},Tt=n(163),qt=n.n(Tt),Ut=function(e){var t=e.game;return t?r.a.createElement(l.a,{className:"mb-3"},r.a.createElement(l.a.Body,{className:"p-2"},r.a.createElement("div",null,"Time Control:"," ",r.a.createElement("span",{"data-testid":"time-control"},t.clockLimit/60," + ",t.clockIncrement)),r.a.createElement("div",{"data-testid":"game-status",className:k()({"text-success":"started"===t.status,"text-danger":"started"!==t.status})},Dt(t)),r.a.createElement("div",{"data-testid":"white-user",className:"d-flex align-items-center"},r.a.createElement(Ne,{className:k()(qt.a.colorIcon,"mr-1")}),t.white?t.white.fullName:"AI level ".concat(t.aiLevel)),r.a.createElement("div",{"data-testid":"black-user",className:"d-flex align-items-center"},r.a.createElement(Qe,{className:k()(qt.a.colorIcon,"mr-1")}),t.black?t.black.fullName:"AI level ".concat(t.aiLevel)))):null},At=function(e){var t=e.id,n=Object(i.useSelector)((function(e){return Object(s.a)(t,L.a,e.entities)}));return n?r.a.createElement(Ut,{game:n}):null},Ft=n(164),Wt=n.n(Ft),Vt=n(144),Ht=n.n(Vt),Kt=function(e){var t,n=e.time,a=void 0===n?0:n,o=e.isRunning,c=void 0!==o&&o,i=y()().startOf("day").milliseconds(a).format("mm:ss");return r.a.createElement("div",{"data-testid":"time",className:k()(Ht.a.clock,(t={},Object(h.a)(t,Ht.a.clockRun,c),Object(h.a)(t,Ht.a.clockEmerg,a<1e4),t))},i)},zt=n(47),Qt=n(82),Jt=n.n(Qt),Xt=n(145),Yt=n.n(Xt),Zt=function(e){var t=e.game;if(!t)return null;var n="\xbd-\xbd";return t.winner&&(n="white"===t.winner?"1-0":"0-1"),r.a.createElement("div",{className:Yt.a.container},r.a.createElement("div",{className:Yt.a.result,"data-testid":"game-result"},n),r.a.createElement("div",{className:Yt.a.status,"data-testid":"game-status"},Dt(t)))},$t=function(e){return"".concat(e.from).concat(e.to)},en=function(e){var t=e.game,n=e.rewindToMoveIndex,o=void 0===n?null:n,c=e.onRewindToMove,i=Object(a.useRef)(null),l=Object(a.useRef)(-1),s=Object(a.useRef)();if(Object(a.useEffect)((function(){if(t){var e=Object(f.a)(t).history();l.current===e.length&&s.current===t.status||null!==o||i.current&&(i.current.scrollTop=i.current.scrollHeight),l.current=e.length,s.current=t.status}}),[t,l,s,o,i]),!t)return null;var u=Object(f.a)(t).history({verbose:!0}),d=u.length,m=Object(zt.chunk)(u,2),b=function(e){return function(){c&&c(e)}};return r.a.createElement("div",{className:Jt.a.movesWrapper,ref:i},m.map((function(e,t){var n=2*t+1,a=2*t+2;return r.a.createElement(r.a.Fragment,{key:"move-".concat(t)},r.a.createElement("div",{className:Jt.a.moveNumber},t+1),r.a.createElement("div",{"data-testid":"move-".concat(n),onClick:b(n),role:"button",className:k()(Jt.a.move,Object(h.a)({},Jt.a.selected,o===n||null===o&&d===n))},$t(e[0])),e[1]&&r.a.createElement("div",{"data-testid":"move-".concat(a),onClick:b(a),role:"button",className:k()(Jt.a.move,Object(h.a)({},Jt.a.selected,o===a||null===o&&d===a))},$t(e[1])))})),"started"!==t.status&&r.a.createElement(Zt,{game:t}))},tn=n(109),nn=n.n(tn),an=function(e){var t=e.game,n=e.color,a=void 0===n?"white":n;return t?r.a.createElement("div",{className:k()(nn.a.userNameWrapper,"d-flex","align-items-center","pl-2")},t[a]&&r.a.createElement("span",{"data-testid":"connected-icon",className:"d-flex mr-1"},t[a].isOnline&&r.a.createElement(Ct,{"data-testid":"online-icon",className:nn.a.connectedIcon,title:"online"}),!t[a].isOnline&&r.a.createElement(It,{"data-testid":"offline-icon",className:nn.a.connectedIcon,title:"offline"})),r.a.createElement("span",{"data-testid":"user-name",className:nn.a.userName},t[a]?t[a].fullName:"AI level ".concat(t.aiLevel))):null},rn=n(32),on=n(33),cn=n(200),ln=n.n(cn),sn=function(e){var t=e.isFirstMove,n=void 0!==t&&t,o=e.isLastMove,c=void 0!==o&&o,i=e.hasPrevMove,l=void 0!==i&&i,s=e.hasNextMove,u=void 0!==s&&s,d=e.onFlipBoard,m=e.onRewindToPrevMove,f=e.onRewindToNextMove,b=e.onRewindToFirstMove,p=e.onRewindToLastMove,v=Object(a.useCallback)((function(){d&&d()}),[d]),g=Object(a.useCallback)((function(){m&&m()}),[m]),E=Object(a.useCallback)((function(){f&&f()}),[f]),O=Object(a.useCallback)((function(){b&&b()}),[b]),h=Object(a.useCallback)((function(){p&&p()}),[p]);return r.a.createElement("div",{className:ln.a.buttonsWrapper},r.a.createElement(B.a,{type:"button",variant:"link","data-testid":"flip-board-btn",onClick:v},r.a.createElement(rn.a,{icon:on.i}),r.a.createElement("span",{className:"sr-only"},"Flip board")),r.a.createElement(B.a,{type:"button",variant:"link","data-testid":"rewind-to-first-move-btn",onClick:O,disabled:n},r.a.createElement(rn.a,{icon:on.a}),r.a.createElement("span",{className:"sr-only"},"Rewind to first move")),r.a.createElement(B.a,{type:"button",variant:"link","data-testid":"rewind-to-prev-move-btn",onClick:g,disabled:!l},r.a.createElement(rn.a,{icon:on.c}),r.a.createElement("span",{className:"sr-only"},"Rewind to prev move")),r.a.createElement(B.a,{type:"button",variant:"link","data-testid":"rewind-to-next-move-btn",onClick:E,disabled:!u},r.a.createElement(rn.a,{icon:on.d}),r.a.createElement("span",{className:"sr-only"},"Rewind to next move")),r.a.createElement(B.a,{type:"button",variant:"link","data-testid":"rewind-to-last-move-btn",onClick:h,disabled:c},r.a.createElement(rn.a,{icon:on.b}),r.a.createElement("span",{className:"sr-only"},"Rewind to last move")))},un=n(201),dn=n.n(un),mn=function(e){var t=e.canAbortGame,n=void 0!==t&&t,o=e.canOfferDraw,c=void 0!==o&&o,i=e.canResignGame,l=void 0!==i&&i,s=e.onAbortGame,u=e.onOfferDraw,d=e.onResignGame,m=Object(a.useCallback)((function(){s&&s()}),[s]),f=Object(a.useCallback)((function(){u&&u()}),[u]),b=Object(a.useCallback)((function(){d&&d()}),[d]);return r.a.createElement("div",{className:dn.a.buttonsWrapper},r.a.createElement(B.a,{type:"button",variant:"link","data-testid":"abort-game-btn",onClick:m,disabled:!n},r.a.createElement(rn.a,{icon:on.j}),r.a.createElement("span",{className:"sr-only"},"Abort")),r.a.createElement(B.a,{type:"button",variant:"link","data-testid":"offer-draw-btn",onClick:f,disabled:!c},r.a.createElement(rn.a,{icon:on.g}),r.a.createElement("span",{className:"sr-only"},"Offer a draw")),r.a.createElement(B.a,{type:"button",variant:"link","data-testid":"resign-game-btn",onClick:b,disabled:!l},r.a.createElement(rn.a,{icon:on.f}),r.a.createElement("span",{className:"sr-only"},"Resign")))},fn=n(110),bn=n.n(fn),pn=function(e){var t=e.onAccept,n=e.onDecline,o=Object(a.useCallback)((function(){t&&t()}),[t]),c=Object(a.useCallback)((function(){n&&n()}),[n]);return r.a.createElement("div",{className:bn.a.dialogWrapper},r.a.createElement(B.a,{type:"button",variant:"link","data-testid":"accept-btn",onClick:o,className:bn.a.acceptBtn},r.a.createElement(rn.a,{icon:on.e}),r.a.createElement("span",{className:"sr-only"},"Accept")),r.a.createElement(B.a,{type:"button",variant:"link","data-testid":"decline-btn",onClick:c,className:bn.a.declineBtn},r.a.createElement(rn.a,{icon:on.j}),r.a.createElement("span",{className:"sr-only"},"Decline")),r.a.createElement("div",{className:bn.a.dialogText},"Your opponent offers a draw"))},vn=function(e){var t=e.game,n=e.orientation,a=void 0===n?"white":n,o=e.rewindToMoveIndex,c=void 0===o?null:o,i=e.canAbortGame,l=void 0!==i&&i,s=e.canOfferDraw,u=void 0!==s&&s,d=e.canResignGame,m=void 0!==d&&d,b=e.drawOfferSentByCurrentUser,p=void 0!==b&&b,v=e.drawOfferSentByOpponent,g=void 0!==v&&v,E=e.onAcceptDrawOffer,O=e.onDeclineDrawOffer,h=e.onRewindToMove,w=e.onFlipBoard,y=e.onRewindToPrevMove,j=e.onRewindToNextMove,k=e.onRewindToFirstMove,S=e.onRewindToLastMove,C=e.onAbortGame,_=e.onOfferDraw,N=e.onResignGame;if(!t)return null;var R=Object(f.a)(t).history(),M=0===R.length||0===c,I=null===c,L=0!==R.length&&0!==c,P=null!==c;return r.a.createElement("div",{className:Wt.a.controlPanel},r.a.createElement(Kt,{time:"white"===a?t.btime:t.wtime,isRunning:t.turn!==a}),r.a.createElement("div",{className:Wt.a.controlPanelInner},r.a.createElement(an,{game:t,color:"white"===a?"black":"white"}),r.a.createElement(sn,{isFirstMove:M,isLastMove:I,hasPrevMove:L,hasNextMove:P,onFlipBoard:w,onRewindToPrevMove:y,onRewindToNextMove:j,onRewindToFirstMove:k,onRewindToLastMove:S}),r.a.createElement(en,{game:t,rewindToMoveIndex:c,onRewindToMove:h}),g&&r.a.createElement(pn,{onAccept:E,onDecline:O}),p&&r.a.createElement("div",{className:"alert alert-warning text-center",role:"alert","data-testid":"draw-offer-sent-message"},"Draw offer sent"),r.a.createElement(mn,{canAbortGame:l,canOfferDraw:u,canResignGame:m,onAbortGame:C,onOfferDraw:_,onResignGame:N}),r.a.createElement(an,{game:t,color:"white"===a?"white":"black"})),r.a.createElement(Kt,{time:"white"===a?t.wtime:t.btime,isRunning:t.turn===a}))},gn=function(e){var t,n,a,o,c,i,l,s,u,d,m,b=e.game,p=e.currentUser,v=e.isFlipped,g=void 0!==v&&v,E=e.rewindToMoveIndex,O=void 0===E?null:E,h=e.onFlipBoard,w=e.onAcceptDrawOffer,y=e.onDeclineDrawOffer,j=e.onAbortGame,k=e.onOfferDraw,S=e.onResignGame,C=e.onRewindToMove;if(!b)return null;var _=Object(f.a)(b).history({verbose:!0}),N="white";p&&p.id===(null===(t=b.black)||void 0===t?void 0:t.id)&&(N="black"),g&&(N="white"===N?"black":"white");var R,M,I=null;p&&(p.id===(null===(R=b.white)||void 0===R?void 0:R.id)?I="white":p.id===(null===(M=b.black)||void 0===M?void 0:M.id)&&(I="black"));var L=!1;!p||p.id!==(null===(n=b.white)||void 0===n?void 0:n.id)&&p.id!==(null===(a=b.black)||void 0===a?void 0:a.id)||"started"!==b.status||b.drawOffer!==I||(L=!0);var P=!1;!p||p.id!==(null===(o=b.white)||void 0===o?void 0:o.id)&&p.id!==(null===(c=b.black)||void 0===c?void 0:c.id)||"started"!==b.status||null===b.drawOffer||b.drawOffer===I||(P=!0);var B=!1;p&&(p.id===(null===(i=b.white)||void 0===i?void 0:i.id)||p.id===(null===(l=b.black)||void 0===l?void 0:l.id))&&"started"===b.status&&_.length<2&&(B=!0);var x=!1;p&&(p.id===(null===(s=b.white)||void 0===s?void 0:s.id)||p.id===(null===(u=b.black)||void 0===u?void 0:u.id))&&"started"===b.status&&_.length>1&&(x=!0);var G=!1;p&&(p.id===(null===(d=b.white)||void 0===d?void 0:d.id)||p.id===(null===(m=b.black)||void 0===m?void 0:m.id))&&null===b.drawOffer&&0===b.aiLevel&&"started"===b.status&&_.length>1&&(G=!0);return r.a.createElement(vn,{game:b,orientation:N,rewindToMoveIndex:O,canAbortGame:B,canResignGame:x,canOfferDraw:G,drawOfferSentByCurrentUser:L,drawOfferSentByOpponent:P,onAcceptDrawOffer:w,onDeclineDrawOffer:y,onFlipBoard:h,onAbortGame:j,onOfferDraw:k,onResignGame:S,onRewindToMove:function(e){C&&(e===_.length?C(null):C(e))},onRewindToFirstMove:function(){C&&C(0)},onRewindToLastMove:function(){C&&C(null)},onRewindToPrevMove:function(){C&&C(null===O?_.length-1:O-1)},onRewindToNextMove:function(){C&&(O===_.length-1?C(null):C(O+1))}})},En=n(15),On=function(e){var t=e.id,n=Object(i.useDispatch)(),o=Object(i.useSelector)((function(e){return Object(s.a)(t,L.a,e.entities)})),c=Object(i.useSelector)((function(e){return e.singleGame[t]}))||En.k,l=Object(i.useSelector)((function(e){if(e.currentUser.userId)return Object(s.a)(e.currentUser.userId,Bt.a,e.entities)})),u=Object(a.useCallback)((function(){n(Object(En.m)(t))}),[n,t]),d=Object(a.useCallback)((function(){n(Object(En.a)(t))}),[n,t]),m=Object(a.useCallback)((function(){n(Object(En.d)(t))}),[n,t]),f=Object(a.useCallback)((function(){n(Object(En.g)(t))}),[n,t]),b=Object(a.useCallback)((function(){n(Object(En.r)(t))}),[n,t]),p=Object(a.useCallback)((function(){n(Object(En.o)(t))}),[n,t]),v=Object(a.useCallback)((function(e){n(Object(En.u)({moveIndex:e,gameId:t}))}),[n,t]);return o?r.a.createElement(gn,{game:o,currentUser:l,isFlipped:c.isFlipped,rewindToMoveIndex:c.rewindToMoveIndex,onFlipBoard:u,onAbortGame:d,onAcceptDrawOffer:m,onDeclineDrawOffer:f,onOfferDraw:p,onResignGame:b,onRewindToMove:v}):null},hn=n(106),wn=n(209),yn=n(202),jn=n.n(yn),kn=n(41),Sn=n.n(kn),Cn=function(e){var t,n,a,o,c=e.show,i=void 0!==c&&c,l=e.turnColor,s=void 0===l?"white":l,u=e.onPromotion,d=function(e){return function(){u&&u(e)}};return r.a.createElement(T.a,{show:i,animation:!1,backdrop:"static"},r.a.createElement(T.a.Body,null,r.a.createElement("div",{style:{textAlign:"center",cursor:"pointer"}},r.a.createElement("span",{"data-testid":"promotion-q",role:"presentation",onClick:d("q")},r.a.createElement("div",{className:k()(Sn.a.piece,(t={},Object(h.a)(t,Sn.a.wQ,"white"===s),Object(h.a)(t,Sn.a.bQ,"black"===s),t))})),r.a.createElement("span",{"data-testid":"promotion-r",role:"presentation",onClick:d("r")},r.a.createElement("div",{className:k()(Sn.a.piece,(n={},Object(h.a)(n,Sn.a.wR,"white"===s),Object(h.a)(n,Sn.a.bR,"black"===s),n))})),r.a.createElement("span",{"data-testid":"promotion-b",role:"presentation",onClick:d("b")},r.a.createElement("div",{className:k()(Sn.a.piece,(a={},Object(h.a)(a,Sn.a.wB,"white"===s),Object(h.a)(a,Sn.a.bB,"black"===s),a))})),r.a.createElement("span",{"data-testid":"promotion-n",role:"presentation",onClick:d("n")},r.a.createElement("div",{className:k()(Sn.a.piece,(o={},Object(h.a)(o,Sn.a.wN,"white"===s),Object(h.a)(o,Sn.a.bN,"black"===s),o))})))))},_n=function(e){var t=e.currentUser,n=e.game,o=e.isFlipped,c=void 0!==o&&o,i=e.onMove,l=e.rewindToMoveIndex,s=void 0===l?null:l,u=e.isLoading,d=void 0!==u&&u,b=e.error,p=void 0===b?null:b,v=Object(a.useRef)(null),g=Object(a.useRef)(null);Object(a.useEffect)((function(){n&&("started"===g.current&&"started"!==n.status&&new Audio("https://lichess1.org/assets/_Iu1lae/sound/standard/GenericNotify.ogg").play(),g.current=n.status)}),[n,g]),Object(a.useEffect)((function(){n&&(!v.current||"started"===n.status&&null===s||v.current[2]())}),[n,s]);var E=Object(a.useRef)(null);Object(a.useEffect)((function(){if(n){var e=Object(f.a)(n).history();null===E.current&&0===e.length&&new Audio("https://lichess1.org/assets/_Iu1lae/sound/standard/GenericNotify.ogg").play().catch((function(){}));var t=null===s?e.length:s;null!==E.current&&t===E.current+1&&new Audio("https://lichess1.org/assets/sound/standard/Move.ogg").play(),E.current=t}}),[n,E,s]);var O=Object(a.useRef)(null);Object(a.useEffect)((function(){if(n){var e=Object(f.a)(n),t=e.history().length;v.current&&null!==O.current&&t===O.current+1&&"started"===n.status&&null===s&&(Object(m.isValidMove)(e,v.current[0])?(v.current[1](),v.current=null):v.current[2]()),O.current=t}}),[n,O,s]);var h=Object(a.useCallback)((function(e,t,n){v.current=[e,t,n]}),[v]),w=Object(a.useCallback)((function(){v.current=null}),[v]),y=Object(a.useState)(!1),j=Object(wn.a)(y,2),k=j[0],S=j[1];Object(a.useEffect)((function(){n&&k&&"started"!==n.status&&S(!1)}),[k,n]);var C=Object(a.useRef)(null),_=Object(a.useCallback)((function(e){i&&(!function(e,t){for(var n=Object(f.a)(e).moves({verbose:!0}),a=0,r=n.length;a<r;a+=1)if(-1!==n[a].flags.indexOf("p")&&n[a].from===t.from)return!0;return!1}(n,e)?i(e):(S(!0),C.current=e))}),[i,n]),N=Object(a.useCallback)((function(e){S(!1);var t=Object(f.a)(n);if(i&&C.current&&Object(m.isValidMove)(t,C.current)){var a={from:C.current.from,to:C.current.to,promotion:e};i(a)}}),[i,n]),R=null;if(n){var I,L,P,B,x,G,D=Object(f.a)(n),T=null===s?D:Object(f.a)(n,s),q=T.fen(),U=T.in_check(),A=n.turn,F=Object(m.getValidMoves)(T),W=!0;!t||t.id!==(null===(I=n.white)||void 0===I?void 0:I.id)&&t.id!==(null===(L=n.black)||void 0===L?void 0:L.id)||"started"!==n.status||null!==s||(W=!1),t&&t.id===(null===(P=n.white)||void 0===P?void 0:P.id)&&(G="white"),t&&t.id===(null===(B=n.black)||void 0===B?void 0:B.id)&&(G="black");var V="white";t&&t.id===(null===(x=n.black)||void 0===x?void 0:x.id)&&(V="black"),c&&(V="white"===V?"black":"white");var H,K=D.history({verbose:!0});if(null===s){if(K.length){var z=K[K.length-1];H=[z.from,z.to]}}else if(s>0){var Q=K[s-1];H=[Q.from,Q.to]}R=r.a.createElement(r.a.Fragment,null,r.a.createElement(Cn,{show:k,turnColor:n.turn,onPromotion:N}),r.a.createElement("div",{className:jn.a.singleGameBoard},r.a.createElement(m.Board,{allowMarkers:!0,check:U,clickable:!0,draggable:!0,lastMoveSquares:H,movableColor:G,onMove:_,onSetPremove:h,onUnsetPremove:w,orientation:V,position:q,premovable:!0,turnColor:A,validMoves:F,viewOnly:W})))}return r.a.createElement("div",null,r.a.createElement(M,{isLoading:d,error:p,isEmpty:!n}),R)},Nn=n(76),Rn=function(e){var t=e.id,n=Object(i.useDispatch)(),o=Object(hn.useDeepEqualSelector)((function(e){return Object(s.a)(t,L.a,e.entities)}),(function(e,t,n){if("wtime"===n||"btime"===n)return!0})),c=Object(hn.useShallowEqualSelector)((function(e){if(e.currentUser.userId)return Object(s.a)(e.currentUser.userId,Bt.a,e.entities)})),l=Object(i.useSelector)((function(e){return e.singleGame[t]}))||En.k,u=Object(a.useCallback)((function(e){n(Object(Nn.a)(t,"".concat(e.from).concat(e.to).concat(e.promotion||"")))}),[n,t]);return r.a.createElement(_n,{game:o,currentUser:c,isFlipped:l.isFlipped,rewindToMoveIndex:l.rewindToMoveIndex,onMove:u,isLoading:l.isLoading,error:l.error})},Mn=n(75),In=n(31),Ln=n(111),Pn=n.n(Ln),Bn=function(e){var t=e.message,n=e.currentUserId,a=void 0===n?null:n;return t?r.a.createElement("div",{"data-testid":"message-wrapper",className:k()(Pn.a.messageWrapper,Object(h.a)({},Pn.a.currentUserMessage,t.createdBy.id===a))},r.a.createElement("span",{"data-testid":"user-name",className:Pn.a.userName},t.createdBy.fullName),r.a.createElement("span",{"data-testid":"message-text",className:Pn.a.messageText},t.text)):null},xn=n(203),Gn=n.n(xn),Dn=function(e){var t=e.currentUserId,n=void 0===t?null:t,o=e.messages,c=void 0===o?[]:o,i=e.isLoading,l=void 0!==i&&i,s=e.error,u=void 0===s?null:s,d=Object(a.useRef)(null),m=Object(a.useRef)(0);return Object(a.useEffect)((function(){m.current!==c.length&&d.current&&(d.current.scrollTop=d.current.scrollHeight),m.current=c.length}),[d,c]),r.a.createElement("div",{className:Gn.a.chatMessages,ref:d},r.a.createElement(M,{isLoading:l,error:u,isEmpty:0===c.length,showEmptyContentMessage:!1}),r.a.createElement("div",null,c.map((function(e){return r.a.createElement(Bn,{currentUserId:n,message:e,key:e.id})}))))},Tn=function(e){var t=e.gameId,n=Object(i.useSelector)((function(e){return e.currentUser.userId})),a=Object(hn.useDeepEqualSelector)((function(e){return e.chat[t]?Object(s.a)(e.chat[t].items,[Mn.a],e.entities):In.e.items})),o=Object(i.useSelector)((function(e){return e.chat[t]?e.chat[t].isLoading:In.e.isLoading})),c=Object(i.useSelector)((function(e){return e.chat[t]?e.chat[t].error:In.e.error}));return r.a.createElement(Dn,{messages:a,isLoading:o,error:c,currentUserId:n})},qn=n(204),Un=n.n(qn),An=function(e){var t=e.onSubmit;return r.a.createElement(q.a,{initialValues:{text:""},onSubmit:function(e){function t(t,n){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(e,n){if(t)return t(e,n)}))},(function(e){var t=e.values,n=e.handleChange,a=e.handleBlur,o=e.handleSubmit,c=e.isSubmitting,i=e.setStatus;return r.a.createElement(U.a,{noValidate:!0,onSubmit:function(e){return o(e)},onChange:function(){return i("")}},r.a.createElement("div",{className:"d-flex"},r.a.createElement("div",{className:"flex-grow-1 mr-2"},r.a.createElement(U.a.Control,{className:Un.a.textInput,name:"text",autoComplete:"off",placeholder:"Please be nice in the chat!",onBlur:a,value:t.text,onChange:n})),r.a.createElement("div",null,r.a.createElement(B.a,{disabled:c||""===t.text,type:"submit"},c&&r.a.createElement(R.a,{animation:"border","data-testid":"submit-btn-spinner",size:"sm",className:"mr-2"},r.a.createElement("span",{className:"sr-only"},"Sending...")),r.a.createElement(rn.a,{icon:on.h}),r.a.createElement("span",{className:"sr-only"},"Offer a draw")))))}))},Fn=function(e){var t=e.gameId,n=Object(i.useDispatch)(),o=Object(a.useCallback)((function(e,a){return a.resetForm(),n(Object(In.a)(t,e.text))}),[n,t]);return r.a.createElement(An,{onSubmit:o})},Wn=function(e){var t=e.gameId;return r.a.createElement(l.a,null,r.a.createElement(l.a.Header,{className:"p-2"},"Chat room"),r.a.createElement(l.a.Body,{className:"p-2"},r.a.createElement(Tn,{gameId:t})),r.a.createElement(l.a.Footer,{className:"p-2"},r.a.createElement(Fn,{gameId:t})))},Vn=function(){var e=Object(i.useDispatch)(),t=Object(c.g)().id,n=Number(t);return Object(a.useEffect)((function(){e(Object(En.l)(n)),e(Object(In.f)(n))}),[e,n]),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-3"},r.a.createElement(At,{id:n}),r.a.createElement(Wn,{gameId:n})),r.a.createElement("div",{className:"col-6"},r.a.createElement(Rn,{id:n})),r.a.createElement("div",{className:"col-3"},r.a.createElement(On,{id:n})))},Hn=n(21),Kn=n(18),zn=n(119),Qn=function(e){var t=e.currentUser,n=void 0===t?null:t,c=e.onLogout,i=e.onShowAuthModal,l=Object(a.useCallback)((function(){c&&c()}),[c]),s=Object(a.useCallback)((function(){i&&i()}),[i]);return r.a.createElement("header",{className:"d-flex flex-column flex-md-row align-items-center p-3 px-md-4 mb-3 bg-white border-bottom box-shadow"},r.a.createElement("div",{className:"offset-4 col-4 text-center"},r.a.createElement(o.b,{className:"blog-header-logo text-dark",to:"/"},"Chess PWA")),r.a.createElement("div",{className:"col-4 d-flex justify-content-end align-items-center"},n?r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"mr-3"},"Hi, ",n.fullName),r.a.createElement(B.a,{className:"btn btn-sm btn-danger mr-3","data-testid":"logout-btn",onClick:l},"Logout")):r.a.createElement(B.a,{className:"btn btn-sm btn-success mr-3","data-testid":"login-btn",onClick:s},"Login / Register"),r.a.createElement("a",{href:"https://github.com/ildar-icoosoft/chess-pwa",target:"_blank",rel:"noopener noreferrer"},r.a.createElement("img",{src:"".concat("/chess-pwa","/imgs/GitHub-Mark-32px.png"),alt:""}))))},Jn=function(){var e=Object(i.useSelector)((function(e){return e.currentUser.userId?Object(s.a)(e.currentUser.userId,Bt.a,e.entities):null})),t=Object(i.useDispatch)(),n=Object(a.useCallback)((function(){t(Object(Hn.g)())}),[t]),o=Object(a.useCallback)((function(){t(Object(G.c)({name:"auth",allowClose:!0}))}),[t]);return r.a.createElement(Qn,{currentUser:e,onLogout:n,onShowAuthModal:o})},Xn=n(284),Yn=n(281),Zn=n(50),$n=Zn.a().shape({email:Zn.c().email("Invalid email").required("Required"),password:Zn.c().min(6,"Password length must be >= 6").required("Required")}),ea=function(e){var t=e.onSubmit;return r.a.createElement(q.a,{initialValues:{email:"",password:""},validationSchema:$n,onSubmit:function(e){function t(t,n){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(e,n){if(t)return t(e,n)}))},(function(e){var t=e.errors,n=e.values,a=e.touched,o=e.handleChange,c=e.handleBlur,i=e.handleSubmit,l=e.isSubmitting,s=e.status,u=e.setStatus;return r.a.createElement(U.a,{noValidate:!0,onSubmit:function(e){return i(e)},onChange:function(){return u("")}},!!s&&r.a.createElement(A.a,{variant:"danger"},s),r.a.createElement(U.a.Group,null,r.a.createElement(U.a.Label,null,"Email address"),r.a.createElement(U.a.Control,{type:"email",name:"email",placeholder:"Enter email",onBlur:c,value:n.email,onChange:o,isValid:a.email&&!t.email,isInvalid:a.email&&!!t.email}),r.a.createElement(U.a.Control.Feedback,{type:"invalid"},t.email)),r.a.createElement(U.a.Group,null,r.a.createElement(U.a.Label,null,"Password"),r.a.createElement(U.a.Control,{type:"password",name:"password",placeholder:"Password",onChange:o,onBlur:c,value:n.password,isValid:a.password&&!t.password,isInvalid:a.password&&!!t.password}),r.a.createElement(U.a.Control.Feedback,{type:"invalid"},t.password)),r.a.createElement(B.a,{variant:"primary",type:"submit",disabled:l},"Login"))}))},ta=Zn.a().shape({fullName:Zn.c().required("Required"),email:Zn.c().email("Invalid email").required("Required"),password:Zn.c().min(6,"Password length must be >= 6").required("Required"),confirmPassword:Zn.c().equals([Zn.b("password")],"Please repeat the password").required("Required")}),na=function(e){var t=e.onSubmit;return r.a.createElement(q.a,{initialValues:{fullName:"",email:"",password:"",confirmPassword:""},validationSchema:ta,onSubmit:function(e){function t(t,n){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(e,n){if(t)return t(e,n)}))},(function(e){var t=e.errors,n=e.values,a=e.touched,o=e.handleChange,c=e.handleBlur,i=e.handleSubmit,l=e.isSubmitting,s=e.status,u=e.setStatus;return r.a.createElement(U.a,{noValidate:!0,onSubmit:function(e){return i(e)},onChange:function(){return u("")}},!!s&&r.a.createElement(A.a,{variant:"danger"},s),r.a.createElement(U.a.Group,null,r.a.createElement(U.a.Label,null,"Full name"),r.a.createElement(U.a.Control,{type:"text",name:"fullName",placeholder:"Enter full name",onBlur:c,value:n.fullName,onChange:o,isValid:a.fullName&&!t.fullName,isInvalid:a.fullName&&!!t.fullName}),r.a.createElement(U.a.Control.Feedback,{type:"invalid"},t.fullName)),r.a.createElement(U.a.Group,null,r.a.createElement(U.a.Label,null,"Email address"),r.a.createElement(U.a.Control,{type:"email",name:"email",placeholder:"Enter email",onBlur:c,value:n.email,onChange:o,isValid:a.email&&!t.email,isInvalid:a.email&&!!t.email}),r.a.createElement(U.a.Control.Feedback,{type:"invalid"},t.email)),r.a.createElement(U.a.Group,null,r.a.createElement(U.a.Label,null,"Password"),r.a.createElement(U.a.Control,{type:"password",name:"password",placeholder:"Password",onChange:o,onBlur:c,value:n.password,isValid:a.password&&!t.password,isInvalid:a.password&&!!t.password}),r.a.createElement(U.a.Control.Feedback,{type:"invalid"},t.password)),r.a.createElement(U.a.Group,null,r.a.createElement(U.a.Label,null,"Confirm Password"),r.a.createElement(U.a.Control,{type:"password",name:"confirmPassword",placeholder:"Password",onChange:o,onBlur:c,value:n.confirmPassword,isValid:a.confirmPassword&&!t.confirmPassword,isInvalid:a.confirmPassword&&!!t.confirmPassword}),r.a.createElement(U.a.Control.Feedback,{type:"invalid"},t.confirmPassword)),r.a.createElement(B.a,{variant:"primary",type:"submit",disabled:l},"Register"))}))},aa=function(){var e=Object(i.useDispatch)(),t=r.a.useCallback((function(t,n){return e(Object(Hn.e)(t)).catch((function(e){n.setStatus(Object(Q.a)(e))}))}),[e]),n=r.a.useCallback((function(t,n){return e(Object(Hn.i)({fullName:t.fullName,email:t.email,password:t.password})).catch((function(e){n.setStatus(Object(Q.a)(e))}))}),[e]);return r.a.createElement(Xn.a,{transition:!1},r.a.createElement(Yn.a,{eventKey:"home",title:"Login"},r.a.createElement(ea,{onSubmit:t})),r.a.createElement(Yn.a,{eventKey:"profile",title:"Register"},r.a.createElement(na,{onSubmit:n})))},ra=function(e){var t=e.show,n=void 0!==t&&t,a=e.onHide;return r.a.createElement("div",null,r.a.createElement(T.a,{show:n,onHide:a,animation:!1},r.a.createElement(T.a.Header,{closeButton:!0},r.a.createElement(T.a.Title,null,"Login")),r.a.createElement(T.a.Body,null,r.a.createElement(aa,null))))},oa=function(){var e=Object(i.useSelector)((function(e){return"auth"===e.modal.showModal})),t=Object(i.useDispatch)(),n=Object(a.useCallback)((function(){t(Object(G.b)())}),[t]);return r.a.createElement(ra,{show:e,onHide:n})},ca=n(84),ia=n(85),la=n(285),sa=n(208),ua=n.n(sa),da=function(e){var t=e.items,n=void 0===t?[]:t,o=e.onHideMessage,c=Object(a.useCallback)((function(e){return function(){o&&o(e)}}),[o]);return r.a.createElement("div",{className:ua.a.messages},n.map((function(e,t){return r.a.createElement(la.a,{key:t,onClose:c(e.id),show:!0,delay:3e3,autohide:!0,animation:!1},r.a.createElement(la.a.Body,null,e.body))})))},ma=n(120),fa=function(){var e=Object(i.useDispatch)(),t=Object(i.useSelector)((function(e){return e.messages})),n=Object(a.useCallback)((function(t){e(Object(ma.b)(t))}),[e]);return r.a.createElement(da,{items:t,onHideMessage:n})},ba=n(86);t.default=function(){var e=Object(i.useDispatch)();return Object(a.useEffect)((function(){e(Object(Hn.b)());var t=e(Object(zn.b)());return e(Object(Kn.i)()),e(Object(Kn.j)()),e(Object(Kn.k)()),e(Object(Kn.l)()),e(Object(ca.b)()),e(Object(ba.b)()),e(Object(ia.b)()),function(){t()}}),[e]),r.a.createElement("div",{className:"container-fluid"},r.a.createElement(o.a,null,r.a.createElement(Jn,null),r.a.createElement(oa,null),r.a.createElement(fa,null),r.a.createElement(c.c,null,r.a.createElement(c.a,{path:"/game/:id"},r.a.createElement(Vn,null)),r.a.createElement(c.a,{path:"/"},r.a.createElement(Gt,null)))))}},274:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),o=n(34),c=n.n(o),i=n(7);n(219),Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var l,s,u=n(12),d=n(37),m=n(31),f=n(84),b=n(85),p=n(86),v=n(21),g=n(4),E=n(15),O=n(22),h=n(119),w=n(18),y=n(76),j=n(27),k=function(e,t){Object.assign(e.users,t.payload.entities.users),Object.assign(e.games,t.payload.entities.games),Object.assign(e.seeks,t.payload.entities.seeks),Object.assign(e.chatMessages,t.payload.entities.chatMessages)},S=Object(u.b)({name:"entities",initialState:{users:{},games:{},seeks:{},chatMessages:{}},reducers:{},extraReducers:(l={},Object(g.a)(l,v.d.type,(function(e,t){t.payload&&k(e,{payload:t.payload})})),Object(g.a)(l,v.f.type,k),Object(g.a)(l,v.j.type,k),Object(g.a)(l,f.c.type,k),Object(g.a)(l,b.c.type,k),Object(g.a)(l,E.n.type,k),Object(g.a)(l,E.c.type,k),Object(g.a)(l,m.c.type,k),Object(g.a)(l,w.a.type,k),Object(g.a)(l,m.g.type,(function(e,t){return k(e,{payload:t.payload.normalizedChatMessages})})),Object(g.a)(l,E.t.type,k),Object(g.a)(l,E.q.type,k),Object(g.a)(l,E.f.type,k),Object(g.a)(l,E.i.type,k),Object(g.a)(l,O.f.type,k),Object(g.a)(l,O.j.type,k),Object(g.a)(l,w.c.type,k),Object(g.a)(l,w.g.type,k),Object(g.a)(l,w.e.type,(function(e,t){delete e.seeks[t.payload]})),Object(g.a)(l,w.f.type,k),Object(g.a)(l,w.b.type,k),Object(g.a)(l,p.c.type,k),Object(g.a)(l,w.d.type,k),Object(g.a)(l,w.h.type,k),Object(g.a)(l,y.c.type,(function(e,t){e.games[t.payload.gameId].turn="white"===e.games[t.payload.gameId].turn?"black":"white",e.games[t.payload.gameId].moves="".concat(e.games[t.payload.gameId].moves," ").concat(t.payload.move).trim()})),Object(g.a)(l,y.d.type,k),Object(g.a)(l,O.d.type,k),Object(g.a)(l,h.a.type,(function(e){Object.keys(e.games).forEach((function(t){var n=e.games[t];if("started"===n.status&&Object(j.a)(n).history().length>1){var a="white"===n.turn?"wtime":"btime";n[a]-=1e3,n[a]<0&&(n[a]=0),0===n[a]&&(n.status="outoftime",n.winner="white"===n.turn?"black":"white")}}))})),l)}).reducer,C=Object(u.b)({name:"acceptSeekRequest",initialState:{inProcess:!1,itemId:null,error:null},reducers:{},extraReducers:(s={},Object(g.a)(s,O.c.type,(function(e,t){e.inProcess=!0,e.itemId=t.payload,e.error=null})),Object(g.a)(s,O.d.type,(function(e,t){e.inProcess=!1,e.itemId=null,e.error=null})),Object(g.a)(s,O.b.type,(function(e,t){e.inProcess=!1,e.itemId=t.payload.itemId,e.error=t.payload.error})),s)}).reducer,_=n(120),N=n(36),R=Object(d.c)({chat:m.d,currentUser:v.a,gamesList:f.a,entities:S,singleGame:E.j,seeksList:b.a,usersList:p.a,acceptSeekRequest:C,messages:_.a,modal:N.a});var M=Object(u.a)({reducer:R});!function(){var e=n(270).default;c.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(i.Provider,{store:M},r.a.createElement(e,null))),document.getElementById("root"))}(),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},31:function(e,t,n){"use strict";n.d(t,"e",(function(){return u})),n.d(t,"g",(function(){return b})),n.d(t,"c",(function(){return g})),n.d(t,"b",(function(){return E})),n.d(t,"f",(function(){return O})),n.d(t,"a",(function(){return h}));var a=n(4),r=n(12),o=n(8),c=n(10),i=n(11),l=n(75),s=n(18),u={isLoading:!0,error:null,items:[]},d=Object(r.b)({name:"chat",initialState:{},reducers:{getChatMessagesListRequest:function(e,t){e[t.payload]=Object.assign({},u,e[t.payload],{isLoading:!0,error:null})},getChatMessagesListSuccess:function(e,t){e[t.payload.gameId]={isLoading:!1,error:null,items:t.payload.normalizedChatMessages.result}},getChatMessagesListError:function(e,t){e[t.payload.itemId]={isLoading:!1,error:t.payload.error,items:[]}},createChatMessageRequest:function(e,t){},createChatMessageSuccess:function(e,t){var n=t.payload.result;e[t.payload.entities.chatMessages[n].game].items.push(n)},createChatMessageError:function(e,t){}},extraReducers:Object(a.a)({},s.a.type,(function(e,t){var n=t.payload.result,a=t.payload.entities.chatMessages[n].game;e[a]&&e[a].items.push(n)}))}),m=d.actions,f=m.getChatMessagesListRequest,b=m.getChatMessagesListSuccess,p=m.getChatMessagesListError,v=m.createChatMessageRequest,g=m.createChatMessageSuccess,E=m.createChatMessageError;t.d=d.reducer;var O=function(e){return function(t){return t(f(e)),new Promise((function(n,a){c.a.socket.get("/api/v1/board/game/".concat(e,"/chat"),(function(r,c){if(200===c.statusCode){var s=Object(o.b)(r,[l.a]);t(b({gameId:e,normalizedChatMessages:s})),n(r)}else t(p({itemId:e,error:Object(i.a)(c)})),a(c)}))}))}},h=function(e,t){return function(n){return n(v(e)),new Promise((function(a,r){c.a.socket.post("/api/v1/board/game/".concat(e,"/chat"),{text:t},(function(t,c){if(200===c.statusCode){var s=Object(o.b)(t,l.a);n(g(s)),a(t)}else n(E({itemId:e,error:Object(i.a)(c)})),r(c)}))}))}}},36:function(e,t,n){"use strict";n.d(t,"c",(function(){return u})),n.d(t,"b",(function(){return d}));var a,r=n(4),o=n(12),c=n(22),i=n(21),l=Object(o.b)({name:"modal",initialState:{allowClose:!0,showModal:null},reducers:{showModal:function(e,t){e.showModal=t.payload.name,e.allowClose=t.payload.allowClose},hideModal:function(e){e.showModal=null,e.allowClose=!0}},extraReducers:(a={},Object(r.a)(a,c.i.type,(function(e){e.allowClose=!1})),Object(r.a)(a,c.j.type,(function(e){e.showModal=null,e.allowClose=!0})),Object(r.a)(a,c.h.type,(function(e){e.allowClose=!0})),Object(r.a)(a,i.f.type,(function(e){e.showModal=null,e.allowClose=!0})),Object(r.a)(a,i.j.type,(function(e){e.showModal=null,e.allowClose=!0})),Object(r.a)(a,c.f.type,(function(e){e.showModal=null,e.allowClose=!0})),a)}),s=l.actions,u=s.showModal,d=s.hideModal;t.a=l.reducer},41:function(e,t,n){e.exports={piece:"PromotionChoiceModal_piece__3X8mT",bB:"PromotionChoiceModal_bB__1a2sj",bK:"PromotionChoiceModal_bK__1-JsQ",bN:"PromotionChoiceModal_bN__1_xeb",bP:"PromotionChoiceModal_bP__1L1RS",bQ:"PromotionChoiceModal_bQ__14de1",bR:"PromotionChoiceModal_bR__Gvlcg",wB:"PromotionChoiceModal_wB__3zy1F",wK:"PromotionChoiceModal_wK__mz-Oc",wN:"PromotionChoiceModal_wN__3SOQS",wP:"PromotionChoiceModal_wP__3qDSP",wQ:"PromotionChoiceModal_wQ__28Iaa",wR:"PromotionChoiceModal_wR__2E7j8"}},51:function(e,t,n){e.exports={colorSubmits:"CreateSeekForm_colorSubmits__1rtRc",colorSubmitsButton:"CreateSeekForm_colorSubmitsButton__2SUlU",whiteButton:"CreateSeekForm_whiteButton__2Jb8D",blackButton:"CreateSeekForm_blackButton__1J0eY",randomButton:"CreateSeekForm_randomButton__34hZ3",spinnerWrapper:"CreateSeekForm_spinnerWrapper__1uHk1",spinnerButton:"CreateSeekForm_spinnerButton__2VfoE"}},57:function(e,t,n){"use strict";var a=n(8),r=n(16),o=n(13),c=new a.c.Entity("seeks",{createdBy:r.a,game:o.a});t.a=c},63:function(e,t,n){e.exports={levelButtonGroup:"ChallengeAiForm_levelButtonGroup__1lnm_",colorSubmits:"ChallengeAiForm_colorSubmits__1pM28",colorSubmitsButton:"ChallengeAiForm_colorSubmitsButton__2P6Lx",whiteButton:"ChallengeAiForm_whiteButton__2nTjs",blackButton:"ChallengeAiForm_blackButton__1LVeL",randomButton:"ChallengeAiForm_randomButton__1S07l"}},75:function(e,t,n){"use strict";var a=n(8),r=n(16),o=new a.c.Entity("chatMessages",{createdBy:r.a});t.a=o},76:function(e,t,n){"use strict";n.d(t,"c",(function(){return u})),n.d(t,"d",(function(){return d})),n.d(t,"b",(function(){return m})),n.d(t,"a",(function(){return f}));var a=n(12),r=n(8),o=n(10),c=n(13),i=n(11),l=Object(a.b)({name:"move",initialState:{},reducers:{makeMoveRequest:function(e,t){},makeMoveSuccess:function(e,t){},makeMoveError:function(e,t){}},extraReducers:{}}),s=l.actions,u=s.makeMoveRequest,d=s.makeMoveSuccess,m=s.makeMoveError,f=(l.reducer,function(e,t){return function(n){return n(u({gameId:e,move:t})),new Promise((function(a,l){o.a.socket.post("/api/v1/board/game/".concat(e,"/move/").concat(t),{},(function(e,t){if(200===t.statusCode){var o=Object(r.b)(e,c.a);n(d(o)),a(e)}else n(m(Object(i.a)(t))),l(t)}))}))}})},82:function(e,t,n){e.exports={movesWrapper:"GameMoves_movesWrapper__2X9ck",moveNumber:"GameMoves_moveNumber__3tyZT",move:"GameMoves_move__21iOk",selected:"GameMoves_selected__2FXRO"}},84:function(e,t,n){"use strict";n.d(t,"c",(function(){return d})),n.d(t,"b",(function(){return f}));var a=n(12),r=n(8),o=n(10),c=n(13),i=n(11),l=Object(a.b)({name:"games",initialState:{isLoading:!0,error:null},reducers:{getGamesListRequest:function(e){e.isLoading=!0,e.error=null},getGamesListSuccess:function(e,t){e.isLoading=!1,e.error=null},getGamesListError:function(e,t){e.isLoading=!1,e.error=t.payload}}}),s=l.actions,u=s.getGamesListRequest,d=s.getGamesListSuccess,m=s.getGamesListError;t.a=l.reducer;var f=function(){return function(e){return e(u()),new Promise((function(t,n){o.a.socket.get("/api/v1/game",{limit:300,sort:"createdAt DESC"},(function(a,o){if(200===o.statusCode){var l=Object(r.b)(a,[c.a]);e(d(l)),t(a)}else e(m(Object(i.a)(o))),n(o)}))}))}}},85:function(e,t,n){"use strict";n.d(t,"c",(function(){return p})),n.d(t,"b",(function(){return g}));var a,r=n(4),o=n(12),c=n(47),i=n(8),l=n(10),s=n(57),u=n(18),d=n(11),m=Object(o.b)({name:"seeks",initialState:{isLoading:!0,error:null,items:[]},reducers:{getSeeksListRequest:function(e){e.isLoading=!0,e.error=null},getSeeksListSuccess:function(e,t){e.isLoading=!1,e.error=null,e.items=t.payload.result},getSeeksListError:function(e,t){e.isLoading=!1,e.error=t.payload,e.items=[]}},extraReducers:(a={},Object(r.a)(a,u.c.type,(function(e,t){e.items.includes(t.payload.result)||e.items.unshift(t.payload.result)})),Object(r.a)(a,u.g.type,(function(e,t){e.items.includes(t.payload.result)||e.items.unshift(t.payload.result)})),Object(r.a)(a,u.e.type,(function(e,t){Object(c.pull)(e.items,t.payload)})),a)}),f=m.actions,b=f.getSeeksListRequest,p=f.getSeeksListSuccess,v=f.getSeeksListError;t.a=m.reducer;var g=function(){return function(e){return e(b()),new Promise((function(t,n){l.a.socket.get("/api/v1/seek",{sort:"createdAt DESC"},(function(a,r){if(200===r.statusCode){var o=Object(i.b)(a,[s.a]);e(p(o)),t(a)}else e(v(Object(d.a)(r))),n(r)}))}))}}},86:function(e,t,n){"use strict";n.d(t,"c",(function(){return p})),n.d(t,"b",(function(){return g}));var a,r=n(4),o=n(12),c=n(8),i=n(18),l=n(21),s=n(10),u=n(11),d=n(16),m=Object(o.b)({name:"users",initialState:{isLoading:!0,error:null,items:[]},reducers:{getUsersListRequest:function(e){e.isLoading=!0,e.error=null},getUsersListSuccess:function(e,t){e.isLoading=!1,e.error=null,e.items=t.payload.result},getUsersListError:function(e,t){e.isLoading=!1,e.error=t.payload,e.items=[]}},extraReducers:(a={},Object(r.a)(a,l.j.type,(function(e,t){e.items.includes(t.payload.result)||e.items.push(t.payload.result)})),Object(r.a)(a,i.d.type,(function(e,t){e.items.includes(t.payload.result)||e.items.push(t.payload.result)})),Object(r.a)(a,i.h.type,(function(e,t){e.items.includes(t.payload.result)||e.items.push(t.payload.result)})),a)}),f=m.actions,b=f.getUsersListRequest,p=f.getUsersListSuccess,v=f.getUsersListError;t.a=m.reducer;var g=function(){return function(e){return e(b()),new Promise((function(t,n){s.a.socket.get("/api/v1/user",(function(a,r){if(200===r.statusCode){var o=Object(c.b)(a,[d.a]);e(p(o)),t(a)}else e(v(Object(u.a)(r))),n(r)}))}))}}}},[[211,1,2]]]);
//# sourceMappingURL=main.841e2883.chunk.js.map