(this["webpackJsonpchess-pwa"]=this["webpackJsonpchess-pwa"]||[]).push([[0],{100:function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return o}));var a=n(9),r=Object(a.b)({name:"gameClock",initialState:{},reducers:{oneSecondPassed:function(){}},extraReducers:{}}),i=r.actions.oneSecondPassed,o=(r.reducer,function(){return function(e){setInterval((function(){e(i())}),1e3)}})},132:function(e,t,n){e.exports={grid:"GamePreviewsList_grid__3uPGL"}},176:function(e,t,n){e.exports=n(233)},18:function(e,t,n){"use strict";var a=n(8),r=n(38),i=new a.c.Entity("games",{white:r.a,black:r.a});t.a=i},184:function(e,t,n){},20:function(e,t,n){"use strict";var a=n(159),r=n.n(a),i=n(160),o=n.n(i)()(r.a);o.sails.url="http://localhost:1337",t.a=o},21:function(e,t,n){"use strict";n.d(t,"c",(function(){return s})),n.d(t,"e",(function(){return m})),n.d(t,"h",(function(){return f})),n.d(t,"b",(function(){return v})),n.d(t,"d",(function(){return p})),n.d(t,"g",(function(){return g})),n.d(t,"f",(function(){return h}));var a=n(9),r=n(8),i=n(20),o=n(38),l=Object(a.b)({name:"currentUser",initialState:{userId:null,isLoading:!0,error:null},reducers:{getCurrentUserRequest:function(e){e.isLoading=!0,e.error=null},getCurrentUserSuccess:function(e,t){e.userId=t.payload?t.payload.result:null,e.isLoading=!1,e.error=null},getCurrentUserError:function(e,t){e.isLoading=!1,e.error=t.payload},loginSuccess:function(e,t){e.userId=t.payload.result},registerSuccess:function(e,t){e.userId=t.payload.result},logoutSuccess:function(e){e.userId=null}}}),c=l.actions,u=c.getCurrentUserRequest,s=c.getCurrentUserSuccess,d=c.getCurrentUserError,m=c.loginSuccess,f=c.registerSuccess,b=c.logoutSuccess;t.a=l.reducer;var v=function(){return function(e){return e(u()),new Promise((function(t,n){i.a.socket.get("/api/v1/account/me",(function(a,i){if(200===i.statusCode){var l=Object(r.b)(a,o.a);e(s(l)),t(a)}else 401===i.statusCode?(e(s(null)),t(null)):(e(d(a)),n(i))}))}))}},p=function(e){return function(t){return new Promise((function(n,a){i.a.socket.put("/api/v1/entrance/login",{emailAddress:e.email,password:e.password},(function(e,i){if(200===i.statusCode){var l=Object(r.b)(e,o.a);t(m(l)),n(e)}else a(i)}))}))}},g=function(e){return function(t){return new Promise((function(n,a){i.a.socket.post("/api/v1/entrance/signup",{fullName:e.fullName,emailAddress:e.email,password:e.password,confirmPassword:e.password,agreed:!0},(function(e,i){if(200===i.statusCode){var l=Object(r.b)(e,o.a);t(f(l)),n(e)}else a(i)}))}))}},h=function(){return function(e){return new Promise((function(t,n){i.a.socket.post("/api/v1/account/logout",{},(function(a,r){200===r.statusCode?(e(b()),t()):n(r)}))}))}}},213:function(e,t){},230:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),i=n(63),o=n(12),l=n(13),c=n(8),u=n(238),s=n(240),d=(n(217),n(25)),m=n(132),f=n.n(m),b=n(49),v=function(e){var t=e.games,n=void 0===t?[]:t;return r.a.createElement("div",{className:f.a.grid},n.map((function(e){var t=Object(b.a)(e).fen();return r.a.createElement(i.b,{to:"/game/".concat(e.id),key:e.id},r.a.createElement("div",{className:f.a.cell},r.a.createElement(d.Board,{position:t,viewOnly:!1,width:240})))})))},p=n(69),g=n(18),h=function(){var e=Object(l.b)(),t=Object(l.c)((function(e){return Object(c.a)(e.ongoingGames.items,[g.a],e.entities)}));return Object(a.useEffect)((function(){e(Object(p.b)())}),[e]),r.a.createElement(v,{games:t})},E=n(80),w=n(4),y=n.n(w),O=n(241),C=n(235),k=n(236),j=n(237),S=n(46),B=n.n(S),M=function(e){var t=e.onSubmit;return r.a.createElement(E.a,{initialValues:{level:3,color:"",clockLimit:300,clockIncrement:3},onSubmit:function(e){function t(t,n){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(e,n){if(t)return t(e,n)}))},(function(e){var t=e.values,n=e.handleChange,a=e.handleBlur,i=e.handleSubmit,o=e.isSubmitting,l=e.status,c=e.setStatus,s=e.setFieldValue;return r.a.createElement(O.a,{noValidate:!0,onSubmit:function(e){return i(e)},onChange:function(){return c("")}},!!l&&r.a.createElement(C.a,{variant:"danger"},l),r.a.createElement("fieldset",null,r.a.createElement(O.a.Group,null,r.a.createElement(O.a.Label,null,"Minutes per side: ",t.clockLimit/60),r.a.createElement(O.a.Control,{type:"range",name:"clockLimit",onBlur:a,value:t.clockLimit,onChange:n,min:"60",max:"1800",step:"60"})),r.a.createElement(O.a.Group,null,r.a.createElement(O.a.Label,null,"Increment in seconds: ",t.clockIncrement),r.a.createElement(O.a.Control,{type:"range",name:"clockIncrement",onBlur:a,value:t.clockIncrement,onChange:n,min:"0",max:"60"}))),r.a.createElement("div",{className:"text-center"},"Level"),r.a.createElement(k.a,null,r.a.createElement(j.a,{className:y()("mx-auto",B.a.levelButtonGroup)},[1,2,3,4].map((function(e){return r.a.createElement(u.a,{key:e,type:"button",variant:e===t.level?"dark":"light",onClick:function(){return s("level",e)}},e)})))),r.a.createElement("div",{className:"text-center"},"A.I. Level: ",t.level),r.a.createElement("div",{className:B.a.colorSubmits},r.a.createElement("button",{disabled:o,type:"submit",title:"Black",className:y()(B.a.colorSubmitsButton,B.a.blackButton),onClick:function(){return s("color","black")}},r.a.createElement("i",null)),r.a.createElement("button",{disabled:o,type:"submit",title:"Random side",className:y()(B.a.colorSubmitsButton,B.a.randomButton),onClick:function(){return s("color","random")}},r.a.createElement("i",null)),r.a.createElement("button",{disabled:o,type:"submit",title:"White",className:y()(B.a.colorSubmitsButton,B.a.whiteButton),onClick:function(){return s("color","white")}},r.a.createElement("i",null))))}))},P=n(48),R=function(){var e=Object(l.b)(),t=Object(o.f)(),n=Object(a.useCallback)((function(n,a){return e(Object(P.a)(n)).then((function(e){t.push("/game/".concat(e.id))})).catch((function(e){401===e.statusCode?a.setStatus("You must log in to play with computer"):a.setStatus("Internal server error")}))}),[e,t]);return r.a.createElement(M,{onSubmit:n})},A=n(88),L=function(){var e=Object(l.b)(),t=Object(l.c)((function(e){return e.challengeAiModal})).isChallengeAiModalVisible;return r.a.createElement(r.a.Fragment,null,r.a.createElement(s.a,{show:t,onHide:function(){return e(Object(A.b)())},animation:!1},r.a.createElement(s.a.Header,{closeButton:!0},r.a.createElement(s.a.Title,null,"Play with the computer")),r.a.createElement(s.a.Body,null,r.a.createElement(R,null))),r.a.createElement(u.a,{variant:"primary",onClick:function(){return e(Object(A.c)())}},"Play with the computer"),r.a.createElement(h,null))},I=function(e){var t=e.game;return t?r.a.createElement(r.a.Fragment,null,r.a.createElement("div",null,function(e){if("outoftime"===e.status){if("white"===e.winner)return"Time out \u2022 White is victorious";if("black"===e.winner)return"Time out \u2022 Black is victorious"}if("resign"===e.status){if("black"===e.winner)return"White resigned \u2022 Black is victorious";if("white"===e.winner)return"Black resigned \u2022 White is victorious"}if("aborted"===e.status)return"Game aborted";if("mate"===e.status){if("white"===e.winner)return"Checkmate \u2022 White is victorious";if("black"===e.winner)return"Checkmate \u2022 Black is victorious"}return"draw"===e.status?"Draw":"stalemate"===e.status?"Stalemate":"Playing right now"}(t)),r.a.createElement("div",null,t.clockLimit/60," + ",t.clockIncrement),r.a.createElement("div",{"data-testid":"white-user"},"White: ",t.white?t.white.fullName:"AI level ".concat(t.aiLevel)),r.a.createElement("div",{"data-testid":"black-user"},"Black: ",t.black?t.black.fullName:"AI level ".concat(t.aiLevel))):null},G=n(171),F=n.n(G),N=function(e){var t=e.time,n=void 0===t?0:t,a=F()().startOf("day").milliseconds(n).format("mm : ss");return r.a.createElement("div",{"data-testid":"time"},a)},q=n(99),T=function(e){return"".concat(e.from).concat(e.to)},V=function(e){var t=e.game,n=e.onRewindToMove;if(!t)return null;var a=Object(b.a)(t).history({verbose:!0}),i=Object(q.chunk)(a,2),o=function(e){return function(){n&&n(e)}};return r.a.createElement("table",null,r.a.createElement("tbody",null,i.map((function(e,t){return r.a.createElement("tr",{key:"move-".concat(t)},r.a.createElement("td",null,t+1),r.a.createElement("td",null,r.a.createElement("div",{"data-testid":"move-".concat(2*t),onClick:o(2*t),role:"button"},T(e[0]))),r.a.createElement("td",null,e[1]&&r.a.createElement("div",{"data-testid":"move-".concat(2*t+1),onClick:o(2*t+1),role:"button"},T(e[1]))))}))))},x=function(e){var t=e.game,n=e.color,a=void 0===n?"white":n;return t?r.a.createElement("div",null,t[a]?t[a].fullName:"AI level ".concat(t.aiLevel)):null},_=function(e){var t=e.onFlipBoard,n=e.onRewindToPrevMove,i=e.onRewindToNextMove,o=e.onRewindToFirstMove,l=e.onRewindToLastMove,c=Object(a.useCallback)((function(){t&&t()}),[t]),u=Object(a.useCallback)((function(){n&&n()}),[n]),s=Object(a.useCallback)((function(){i&&i()}),[i]),d=Object(a.useCallback)((function(){o&&o()}),[o]),m=Object(a.useCallback)((function(){l&&l()}),[l]);return r.a.createElement(r.a.Fragment,null,r.a.createElement("button",{type:"button","data-testid":"flip-board-btn",onClick:c},"Flip board"),r.a.createElement("button",{type:"button","data-testid":"rewind-to-prev-move-btn",onClick:u},"Rewind to prev move"),r.a.createElement("button",{type:"button","data-testid":"rewind-to-first-move-btn",onClick:d},"Rewind to first move"),r.a.createElement("button",{type:"button","data-testid":"rewind-to-last-move-btn",onClick:m},"Rewind to last move"),r.a.createElement("button",{type:"button","data-testid":"rewind-to-next-move-btn",onClick:s},"Rewind to next move"))},U=function(e){var t=e.onAbortGame,n=e.onOfferDraw,i=e.onResignGame,o=Object(a.useCallback)((function(){t&&t()}),[t]),l=Object(a.useCallback)((function(){n&&n()}),[n]),c=Object(a.useCallback)((function(){i&&i()}),[i]);return r.a.createElement(r.a.Fragment,null,r.a.createElement("button",{type:"button","data-testid":"abort-game-btn",onClick:o},"Abort"),r.a.createElement("button",{type:"button","data-testid":"offer-draw-btn",onClick:l},"Offer a draw"),r.a.createElement("button",{type:"button","data-testid":"resign-game-btn",onClick:c},"Resign"))},W=function(e){var t=e.game,n=e.orientation,a=void 0===n?"white":n,i=e.onRewindToMove,o=e.onFlipBoard,l=e.onRewindToPrevMove,c=e.onRewindToNextMove,u=e.onRewindToFirstMove,s=e.onRewindToLastMove,d=e.onAbortGame,m=e.onOfferDraw,f=e.onResignGame;return t?r.a.createElement("div",null,r.a.createElement(N,{time:"white"===a?t.btime:t.wtime}),r.a.createElement(x,{game:t,color:"white"===a?"black":"white"}),r.a.createElement(_,{onFlipBoard:o,onRewindToPrevMove:l,onRewindToNextMove:c,onRewindToFirstMove:u,onRewindToLastMove:s}),r.a.createElement(V,{game:t,onRewindToMove:i}),r.a.createElement(U,{onAbortGame:d,onOfferDraw:m,onResignGame:f}),r.a.createElement(x,{game:t,color:"white"===a?"white":"black"}),r.a.createElement(N,{time:"white"===a?t.wtime:t.btime})):null},H=function(e){var t,n,a,i,o,l=e.game,c=e.currentUser,u=e.isFlipped,s=void 0!==u&&u,m=e.onMove,f=e.onFlipBoard;if(!l)return null;var v,p=Object(b.a)(l),g=p.in_check(),h=p.fen(),E="white"===l.turn?d.PieceColor.WHITE:d.PieceColor.BLACK,w=Object(d.getValidMoves)(p),y=!0;!c||c.id!==(null===(t=l.white)||void 0===t?void 0:t.id)&&c.id!==(null===(n=l.black)||void 0===n?void 0:n.id)||"started"!==l.status||(y=!1),c&&c.id===(null===(a=l.white)||void 0===a?void 0:a.id)&&(v=d.PieceColor.WHITE),c&&c.id===(null===(i=l.black)||void 0===i?void 0:i.id)&&(v=d.PieceColor.BLACK);var O=d.PieceColor.WHITE;c&&c.id===(null===(o=l.black)||void 0===o?void 0:o.id)&&(O=d.PieceColor.BLACK),s&&(O=O===d.PieceColor.WHITE?d.PieceColor.BLACK:d.PieceColor.WHITE);var C,k=p.history({verbose:!0});if(k.length){var j=k[k.length-1];C=[j.from,j.to]}return r.a.createElement(r.a.Fragment,null,r.a.createElement(I,{game:l}),r.a.createElement(W,{game:l,orientation:O,onFlipBoard:f}),r.a.createElement(d.Board,{allowMarkers:!0,check:g,clickable:!0,draggable:!0,orientation:O,position:h,turnColor:E,lastMoveSquares:C,movableColor:v,validMoves:w,viewOnly:y,onMove:m}))},K=n(57),D=n(89),J=n(38),Q=function(e){var t=e.id,n=Object(l.b)(),i=Object(l.c)((function(e){return Object(c.a)(t,g.a,e.entities)})),o=Object(l.c)((function(e){if(e.currentUser.userId)return Object(c.a)(e.currentUser.userId,J.a,e.entities)})),u=Object(l.c)((function(e){return e.singleGame[t]}))||K.b;Object(a.useEffect)((function(){n(Object(K.c)(t))}),[n,t]);var s=Object(a.useCallback)((function(e){n(Object(D.a)(t,"".concat(e.from).concat(e.to)))}),[n,t]),d=Object(a.useCallback)((function(){n(Object(K.d)(t))}),[n,t]);return i?r.a.createElement(H,{game:i,currentUser:o,onMove:s,onFlipBoard:d,isFlipped:u.isFlipped}):null},Y=function(){var e=Object(o.g)().id;return r.a.createElement(Q,{id:Number(e)})},$=n(242),z=n(239),X=n(39),Z=X.a().shape({email:X.c().email("Invalid email").required("Required"),password:X.c().min(6,"Password length must be >= 6").required("Required")}),ee=function(e){var t=e.onSubmit;return r.a.createElement(E.a,{initialValues:{email:"",password:""},validationSchema:Z,onSubmit:function(e){function t(t,n){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(e,n){if(t)return t(e,n)}))},(function(e){var t=e.errors,n=e.values,a=e.touched,i=e.handleChange,o=e.handleBlur,l=e.handleSubmit,c=e.isSubmitting,s=e.status,d=e.setStatus;return r.a.createElement(O.a,{noValidate:!0,onSubmit:function(e){return l(e)},onChange:function(){return d("")}},!!s&&r.a.createElement(C.a,{variant:"danger"},s),r.a.createElement(O.a.Group,null,r.a.createElement(O.a.Label,null,"Email address"),r.a.createElement(O.a.Control,{type:"email",name:"email",placeholder:"Enter email",onBlur:o,value:n.email,onChange:i,isValid:a.email&&!t.email,isInvalid:a.email&&!!t.email}),r.a.createElement(O.a.Control.Feedback,{type:"invalid"},t.email)),r.a.createElement(O.a.Group,null,r.a.createElement(O.a.Label,null,"Password"),r.a.createElement(O.a.Control,{type:"password",name:"password",placeholder:"Password",onChange:i,onBlur:o,value:n.password,isValid:a.password&&!t.password,isInvalid:a.password&&!!t.password}),r.a.createElement(O.a.Control.Feedback,{type:"invalid"},t.password)),r.a.createElement(u.a,{variant:"primary",type:"submit",disabled:c},"Login"))}))},te=X.a().shape({fullName:X.c().required("Required"),email:X.c().email("Invalid email").required("Required"),password:X.c().min(6,"Password length must be >= 6").required("Required"),confirmPassword:X.c().equals([X.b("password")],"Please repeat the password").required("Required")}),ne=function(e){var t=e.onSubmit;return r.a.createElement(E.a,{initialValues:{fullName:"",email:"",password:"",confirmPassword:""},validationSchema:te,onSubmit:function(e){function t(t,n){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(e,n){if(t)return t(e,n)}))},(function(e){var t=e.errors,n=e.values,a=e.touched,i=e.handleChange,o=e.handleBlur,l=e.handleSubmit,c=e.isSubmitting,s=e.status,d=e.setStatus;return r.a.createElement(O.a,{noValidate:!0,onSubmit:function(e){return l(e)},onChange:function(){return d("")}},!!s&&r.a.createElement(C.a,{variant:"danger"},s),r.a.createElement(O.a.Group,null,r.a.createElement(O.a.Label,null,"Full name"),r.a.createElement(O.a.Control,{type:"text",name:"fullName",placeholder:"Enter full name",onBlur:o,value:n.fullName,onChange:i,isValid:a.fullName&&!t.fullName,isInvalid:a.fullName&&!!t.fullName}),r.a.createElement(O.a.Control.Feedback,{type:"invalid"},t.fullName)),r.a.createElement(O.a.Group,null,r.a.createElement(O.a.Label,null,"Email address"),r.a.createElement(O.a.Control,{type:"email",name:"email",placeholder:"Enter email",onBlur:o,value:n.email,onChange:i,isValid:a.email&&!t.email,isInvalid:a.email&&!!t.email}),r.a.createElement(O.a.Control.Feedback,{type:"invalid"},t.email)),r.a.createElement(O.a.Group,null,r.a.createElement(O.a.Label,null,"Password"),r.a.createElement(O.a.Control,{type:"password",name:"password",placeholder:"Password",onChange:i,onBlur:o,value:n.password,isValid:a.password&&!t.password,isInvalid:a.password&&!!t.password}),r.a.createElement(O.a.Control.Feedback,{type:"invalid"},t.password)),r.a.createElement(O.a.Group,null,r.a.createElement(O.a.Label,null,"Confirm Password"),r.a.createElement(O.a.Control,{type:"password",name:"confirmPassword",placeholder:"Password",onChange:i,onBlur:o,value:n.confirmPassword,isValid:a.confirmPassword&&!t.confirmPassword,isInvalid:a.confirmPassword&&!!t.confirmPassword}),r.a.createElement(O.a.Control.Feedback,{type:"invalid"},t.confirmPassword)),r.a.createElement(u.a,{variant:"primary",type:"submit",disabled:c},"Register"))}))},ae=n(21),re=function(){var e=Object(l.b)(),t=r.a.useCallback((function(t,n){return e(Object(ae.d)(t)).catch((function(e){401===e.statusCode?n.setStatus("Incorrect email or password"):n.setStatus("Internal server error")}))}),[e]),n=r.a.useCallback((function(t,n){return e(Object(ae.g)({fullName:t.fullName,email:t.email,password:t.password})).catch((function(e){409===e.statusCode?n.setStatus("The provided email address is already in use"):n.setStatus("Internal server error")}))}),[e]);return r.a.createElement($.a,{transition:!1},r.a.createElement(z.a,{eventKey:"home",title:"Login"},r.a.createElement(ee,{onSubmit:t})),r.a.createElement(z.a,{eventKey:"profile",title:"Register"},r.a.createElement(ne,{onSubmit:n})))},ie=n(87),oe=n(56),le=n(100);t.default=function(){var e=Object(l.b)(),t=Object(l.c)((function(e){return e.currentUser.userId?Object(c.a)(e.currentUser.userId,J.a,e.entities):null})),n=Object(l.c)((function(e){return e.authModal})).isAuthModalVisible;return Object(a.useEffect)((function(){e(Object(ae.b)()),e(Object(oe.c)()),e(Object(le.b)())}),[e]),r.a.createElement(i.a,null,t?r.a.createElement(r.a.Fragment,null,r.a.createElement("div",null,"Hi, ",t.fullName),r.a.createElement(u.a,{variant:"primary",onClick:function(){return e(Object(ae.f)())}},"Logout")):r.a.createElement(u.a,{variant:"primary",onClick:function(){return e(Object(ie.c)())}},"Login / Register"),r.a.createElement(s.a,{show:n,onHide:function(){return e(Object(ie.b)())},animation:!1},r.a.createElement(s.a.Header,{closeButton:!0},r.a.createElement(s.a.Title,null,"Login")),r.a.createElement(s.a.Body,null,r.a.createElement(re,null))),r.a.createElement("div",null,r.a.createElement("nav",null,r.a.createElement("ul",null,r.a.createElement("li",null,r.a.createElement(i.b,{to:"/"},"Home")))),r.a.createElement(o.c,null,r.a.createElement(o.a,{path:"/game/:id"},r.a.createElement(Y,null)),r.a.createElement(o.a,{path:"/"},r.a.createElement(L,null)))))}},233:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),i=n(23),o=n.n(i),l=n(13);n(184),Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var c,u=n(9),s=n(26),d=n(69),m=n(21),f=n(87),b=n(88),v=n(11),p=n(57),g=n(48),h=n(100),E=n(56),w=n(89),y=n(49),O=function(e,t){Object.assign(e.users,t.payload.entities.users),Object.assign(e.games,t.payload.entities.games)},C=Object(u.b)({name:"entities",initialState:{users:{},games:{}},reducers:{},extraReducers:(c={},Object(v.a)(c,m.c.type,(function(e,t){t.payload&&O(e,{type:t.type,payload:t.payload})})),Object(v.a)(c,m.e.type,O),Object(v.a)(c,m.h.type,O),Object(v.a)(c,d.c.type,O),Object(v.a)(c,p.e.type,O),Object(v.a)(c,g.b.type,O),Object(v.a)(c,E.b.type,O),Object(v.a)(c,E.a.type,O),Object(v.a)(c,w.b.type,(function(e,t){e.games[t.payload.gameId].turn="white"===e.games[t.payload.gameId].turn?"black":"white",e.games[t.payload.gameId].moves="".concat(e.games[t.payload.gameId].moves," ").concat(t.payload.move).trim()})),Object(v.a)(c,w.c.type,O),Object(v.a)(c,h.a.type,(function(e){Object.keys(e.games).forEach((function(t){var n=e.games[t];if("started"===n.status&&Object(y.a)(n).history().length>1){var a="white"===n.turn?"wtime":"btime";n[a]-=1e3,n[a]<0&&(n[a]=0),0===n[a]&&(n.status="outoftime",n.winner="white"===n.turn?"black":"white")}}))})),c)}).reducer,k=Object(s.c)({authModal:f.a,challengeAiModal:b.a,currentUser:m.a,ongoingGames:d.a,entities:C,singleGame:p.a});var j=Object(u.a)({reducer:k});!function(){var e=n(230).default;o.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(l.a,{store:j},r.a.createElement(e,null))),document.getElementById("root"))}(),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},38:function(e,t,n){"use strict";var a=new(n(8).c.Entity)("users");t.a=a},46:function(e,t,n){e.exports={levelButtonGroup:"ChallengeAiForm_levelButtonGroup__1lnm_",colorSubmits:"ChallengeAiForm_colorSubmits__1pM28",colorSubmitsButton:"ChallengeAiForm_colorSubmitsButton__2P6Lx",whiteButton:"ChallengeAiForm_whiteButton__2nTjs",blackButton:"ChallengeAiForm_blackButton__1LVeL",randomButton:"ChallengeAiForm_randomButton__1S07l"}},48:function(e,t,n){"use strict";n.d(t,"b",(function(){return s})),n.d(t,"a",(function(){return m}));var a=n(9),r=n(8),i=n(20),o=n(18),l=Object(a.b)({name:"challenge",initialState:{},reducers:{challengeAiRequest:function(){},challengeAiSuccess:function(e,t){},challengeAiError:function(e,t){}},extraReducers:{}}),c=l.actions,u=c.challengeAiRequest,s=c.challengeAiSuccess,d=c.challengeAiError,m=(l.reducer,function(e){return function(t){return t(u()),new Promise((function(n,a){i.a.socket.post("/api/v1/challenge/ai",e,(function(e,i){if(200===i.statusCode){var l=Object(r.b)(e,o.a);t(s(l)),n(e)}else t(d(e)),a(i)}))}))}})},49:function(e,t,n){"use strict";var a=n(162);t.a=function(e){var t=e.initialFen;"startpos"===t&&(t="rnbqkbnr/pppppppp/8/8/8/8/PPPPPPPP/RNBQKBNR w KQkq - 0 1");var n=new a.Chess(t);return e.moves&&e.moves.split(" ").forEach((function(e){if(!n.move(e,{sloppy:!0}))throw Error("incorrect move: ".concat(e))})),n}},56:function(e,t,n){"use strict";n.d(t,"b",(function(){return s})),n.d(t,"a",(function(){return d})),n.d(t,"c",(function(){return m}));var a=n(161),r=n(9),i=n(8),o=n(20),l=n(18),c=Object(r.b)({name:"dataSubscription",initialState:{},reducers:{updateGameBySubscription:function(e,t){},createGameBySubscription:function(e,t){}},extraReducers:{}}),u=c.actions,s=u.updateGameBySubscription,d=u.createGameBySubscription,m=(c.reducer,function(){return function(e){o.a.socket.on("game",(function(t){if("updated"===t.verb){var n=Object(a.a)({},t.previous,{},t.data),r=Object(i.b)(n,l.a);e(s(r))}else if("created"===t.verb){var o=Object(i.b)(t.data,l.a);e(d(o))}}))}})},57:function(e,t,n){"use strict";n.d(t,"b",(function(){return l})),n.d(t,"e",(function(){return d})),n.d(t,"d",(function(){return f})),n.d(t,"c",(function(){return b}));var a=n(9),r=n(8),i=n(20),o=n(18),l={isLoading:!0,error:null,isFlipped:!1},c=Object(a.b)({name:"singleGame",initialState:{},reducers:{getSingleGameRequest:function(e,t){e[t.payload]=Object.assign({},l,e[t.payload],{isLoading:!0,error:null})},getSingleGameSuccess:function(e,t){e[t.payload.result]=Object.assign({},l,e[t.payload.result],{isLoading:!1,error:null})},getSingleGameError:function(e,t){e[t.payload.itemId]=Object.assign({},l,e[t.payload.itemId],{isLoading:!1,error:t.payload.error})},flipBoard:function(e,t){e[t.payload].isFlipped=!e[t.payload].isFlipped}},extraReducers:{}}),u=c.actions,s=u.getSingleGameRequest,d=u.getSingleGameSuccess,m=u.getSingleGameError,f=u.flipBoard;t.a=c.reducer;var b=function(e){return function(t){return t(s(e)),new Promise((function(n,a){i.a.socket.get("/game/".concat(e),(function(i,l){if(200===l.statusCode){var c=Object(r.b)(i,o.a);t(d(c)),n(i)}else t(m({itemId:e,error:i})),a(l)}))}))}}},69:function(e,t,n){"use strict";n.d(t,"c",(function(){return b})),n.d(t,"b",(function(){return p}));var a,r=n(11),i=n(9),o=n(8),l=n(20),c=n(18),u=n(48),s=n(56),d=Object(i.b)({name:"ongoingGames",initialState:{items:[],isLoading:!0,error:null},reducers:{getOngoingGamesRequest:function(e){e.isLoading=!0,e.error=null},getOngoingGamesSuccess:function(e,t){e.items=t.payload.result,e.isLoading=!1,e.error=null},getOngoingGamesError:function(e,t){e.isLoading=!1,e.error=t.payload}},extraReducers:(a={},Object(r.a)(a,u.b.type,(function(e,t){e.items.includes(t.payload.result)||e.items.unshift(t.payload.result)})),Object(r.a)(a,s.a.type,(function(e,t){e.items.includes(t.payload.result)||e.items.unshift(t.payload.result)})),Object(r.a)(a,s.b.type,(function(e,t){e.items.includes(t.payload.result)||e.items.unshift(t.payload.result)})),a)}),m=d.actions,f=m.getOngoingGamesRequest,b=m.getOngoingGamesSuccess,v=m.getOngoingGamesError;t.a=d.reducer;var p=function(){return function(e){return e(f()),new Promise((function(t,n){l.a.socket.get("/api/v1/game/playing",(function(a,r){if(200===r.statusCode){var i=Object(o.b)(a,[c.a]);e(b(i)),t(a)}else e(v(a)),n(r)}))}))}}},87:function(e,t,n){"use strict";n.d(t,"c",(function(){return u})),n.d(t,"b",(function(){return s}));var a,r=n(11),i=n(9),o=n(21),l=Object(i.b)({name:"authModal",initialState:{isAuthModalVisible:!1},reducers:{showAuthModal:function(e){e.isAuthModalVisible=!0},hideAuthModal:function(e){e.isAuthModalVisible=!1}},extraReducers:(a={},Object(r.a)(a,o.e.type,(function(e){e.isAuthModalVisible=!1})),Object(r.a)(a,o.h.type,(function(e){e.isAuthModalVisible=!1})),a)}),c=l.actions,u=c.showAuthModal,s=c.hideAuthModal;t.a=l.reducer},88:function(e,t,n){"use strict";n.d(t,"c",(function(){return c})),n.d(t,"b",(function(){return u}));var a=n(11),r=n(9),i=n(48),o=Object(r.b)({name:"challengeAiModal",initialState:{isChallengeAiModalVisible:!1},reducers:{showChallengeAiModal:function(e){e.isChallengeAiModalVisible=!0},hideChallengeAiModal:function(e){e.isChallengeAiModalVisible=!1}},extraReducers:Object(a.a)({},i.b.type,(function(e){e.isChallengeAiModalVisible=!1}))}),l=o.actions,c=l.showChallengeAiModal,u=l.hideChallengeAiModal;t.a=o.reducer},89:function(e,t,n){"use strict";n.d(t,"b",(function(){return u})),n.d(t,"c",(function(){return s})),n.d(t,"a",(function(){return m}));var a=n(9),r=n(8),i=n(20),o=n(18),l=Object(a.b)({name:"move",initialState:{},reducers:{makeMoveRequest:function(e,t){},makeMoveSuccess:function(e,t){},makeMoveError:function(e,t){}},extraReducers:{}}),c=l.actions,u=c.makeMoveRequest,s=c.makeMoveSuccess,d=c.makeMoveError,m=(l.reducer,function(e,t){return function(n){return n(u({gameId:e,move:t})),new Promise((function(a,l){i.a.socket.post("/api/v1/board/game/".concat(e,"/move/").concat(t),{},(function(e,t){if(200===t.statusCode){var i=Object(r.b)(e,o.a);n(s(i)),a(e)}else n(d(e)),l(t)}))}))}})}},[[176,1,2]]]);
//# sourceMappingURL=main.42004a3e.chunk.js.map